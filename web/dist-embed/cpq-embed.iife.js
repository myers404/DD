var CPQEmbed=function(){"use strict";var ei=bt=>{throw TypeError(bt)};var Ss=(bt,yt,jt)=>yt.has(bt)||ei("Cannot "+jt);var J=(bt,yt,jt)=>(Ss(bt,yt,"read from private field"),jt?jt.call(bt):yt.get(bt)),mt=(bt,yt,jt)=>yt.has(bt)?ei("Cannot add the same private member more than once"):yt instanceof WeakSet?yt.add(bt):yt.set(bt,jt);var ti,ce,fe,_e,ge,he,pe,me,xe,be,ye,we,Se,ke,Ce;const bt="5";typeof window<"u"&&((ti=window.__svelte??(window.__svelte={})).v??(ti.v=new Set)).add(bt);const yt=1,jt=2,cr=4,ri=8,ii=16,ai=1,ni=2,si=4,oi=8,li=16,di=1,vi=2,xt=Symbol(),ui="http://www.w3.org/1999/xhtml",fr=!1;var Ye=Array.isArray,ci=Array.prototype.indexOf,_r=Array.from,Ie=Object.getOwnPropertyDescriptor,gr=Object.getOwnPropertyDescriptors,fi=Object.prototype,_i=Array.prototype,Ge=Object.getPrototypeOf;function gi(e){return e()}function Qe(e){for(var t=0;t<e.length;t++)e[t]()}function hi(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const i of e)if(r.push(i),r.length===t)break;return r}const Rt=2,hr=4,Pe=8,Je=16,Vt=32,oe=64,Ke=128,wt=256,Me=512,St=1024,Lt=2048,Jt=4096,zt=8192,We=16384,pr=32768,Ze=65536,pi=1<<17,mi=1<<19,mr=1<<20,Xe=1<<21,Zt=Symbol("$state"),xi=Symbol("legacy props"),bi=Symbol("");function xr(e){return e===this.v}function yi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function $e(e){return!yi(e,this.v)}function wi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Si(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ki(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ci(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ei(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ii(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Pi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Mi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Xt=!1,Ti=!1;function Ri(){Xt=!0}function br(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let st=null;function yr(e){st=e}function Ut(e,t=!1,r){var i=st={p:st,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Xt&&!t&&(st.l={s:null,u:null,r1:[],r2:de(!1)}),Fi(()=>{i.d=!0})}function Ht(e){const t=st;if(t!==null){const l=t.e;if(l!==null){var r=X,i=rt;t.e=null;try{for(var a=0;a<l.length;a++){var s=l[a];Ne(s.effect),ie(s.reaction),Mr(s.fn)}}finally{Ne(r),ie(i)}}st=t.p,t.m=!0}return{}}function Te(){return!Xt||st!==null&&st.l===null}function Nt(e){if(typeof e!="object"||e===null||Zt in e)return e;const t=Ge(e);if(t!==fi&&t!==_i)return e;var r=new Map,i=Ye(e),a=Z(0),s=rt,l=u=>{var c=rt;ie(s);var _=u();return ie(c),_};return i&&r.set("length",Z(e.length)),new Proxy(e,{defineProperty(u,c,_){return(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&Ii(),l(()=>{var h=r.get(c);h===void 0?(h=Z(_.value),r.set(c,h)):H(h,_.value,!0)}),!0},deleteProperty(u,c){var _=r.get(c);if(_===void 0){if(c in u){const f=l(()=>Z(xt));r.set(c,f),tr(a)}}else{if(i&&typeof c=="string"){var h=r.get("length"),b=Number(c);Number.isInteger(b)&&b<h.v&&H(h,b)}H(_,xt),tr(a)}return!0},get(u,c,_){if(c===Zt)return e;var h=r.get(c),b=c in u;if(h===void 0&&(!b||Ie(u,c)?.writable)&&(h=l(()=>{var w=Nt(b?u[c]:xt),m=Z(w);return m}),r.set(c,h)),h!==void 0){var f=o(h);return f===xt?void 0:f}return Reflect.get(u,c,_)},getOwnPropertyDescriptor(u,c){var _=Reflect.getOwnPropertyDescriptor(u,c);if(_&&"value"in _){var h=r.get(c);h&&(_.value=o(h))}else if(_===void 0){var b=r.get(c),f=b?.v;if(b!==void 0&&f!==xt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return _},has(u,c){if(c===Zt)return!0;var _=r.get(c),h=_!==void 0&&_.v!==xt||Reflect.has(u,c);if(_!==void 0||X!==null&&(!h||Ie(u,c)?.writable)){_===void 0&&(_=l(()=>{var f=h?Nt(u[c]):xt,w=Z(f);return w}),r.set(c,_));var b=o(_);if(b===xt)return!1}return h},set(u,c,_,h){var b=r.get(c),f=c in u;if(i&&c==="length")for(var w=_;w<b.v;w+=1){var m=r.get(w+"");m!==void 0?H(m,xt):w in u&&(m=l(()=>Z(xt)),r.set(w+"",m))}if(b===void 0)(!f||Ie(u,c)?.writable)&&(b=l(()=>{var S=Z(void 0);return H(S,Nt(_)),S}),r.set(c,b));else{f=b.v!==xt;var q=l(()=>Nt(_));H(b,q)}var O=Reflect.getOwnPropertyDescriptor(u,c);if(O?.set&&O.set.call(h,_),!f){if(i&&typeof c=="string"){var j=r.get("length"),M=Number(c);Number.isInteger(M)&&M>=j.v&&H(j,M+1)}tr(a)}return!0},ownKeys(u){o(a);var c=Reflect.ownKeys(u).filter(b=>{var f=r.get(b);return f===void 0||f.v!==xt});for(var[_,h]of r)h.v!==xt&&!(_ in u)&&c.push(_);return c},setPrototypeOf(){Pi()}})}function tr(e,t=1){H(e,e.v+t)}function $t(e){var t=Rt|Lt,r=rt!==null&&(rt.f&Rt)!==0?rt:null;return X===null||r!==null&&(r.f&wt)!==0?t|=wt:X.f|=mr,{ctx:st,deps:null,effects:null,equals:xr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??X}}function kt(e){const t=$t(e);return Nr(t),t}function wr(e){const t=$t(e);return t.equals=$e,t}function Sr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ee(t[r])}}function Oi(e){for(var t=e.parent;t!==null;){if((t.f&Rt)===0)return t;t=t.parent}return null}function kr(e){var t,r=X;Ne(Oi(e));try{Sr(e),t=zr(e)}finally{Ne(r)}return t}function Cr(e){var t=kr(e);if(e.equals(t)||(e.v=t,e.wv=Fr()),!re){var r=(Gt||(e.f&wt)!==0)&&e.deps!==null?Jt:St;Dt(e,r)}}const le=new Map;function de(e,t){var r={f:0,v:e,reactions:null,equals:xr,rv:0,wv:0};return r}function Z(e,t){const r=de(e);return Nr(r),r}function Er(e,t=!1,r=!0){var a;const i=de(e);return t||(i.equals=$e),Xt&&r&&st!==null&&st.l!==null&&((a=st.l).s??(a.s=[])).push(i),i}function H(e,t,r=!1){rt!==null&&!qt&&Te()&&(rt.f&(Rt|Je))!==0&&!Bt?.includes(e)&&Mi();let i=r?Nt(t):t;return er(e,i)}function er(e,t){if(!e.equals(t)){var r=e.v;re?le.set(e,t):le.set(e,r),e.v=t,(e.f&Rt)!==0&&((e.f&Lt)!==0&&kr(e),Dt(e,(e.f&wt)===0?St:Jt)),e.wv=Fr(),Ir(e,Lt),Te()&&X!==null&&(X.f&St)!==0&&(X.f&(Vt|oe))===0&&(Pt===null?Qi([e]):Pt.push(e))}return t}function rr(e,t=1){var r=o(e),i=t===1?r++:r--;return H(e,r),i}function Ir(e,t){var r=e.reactions;if(r!==null)for(var i=Te(),a=r.length,s=0;s<a;s++){var l=r[s],u=l.f;(u&Lt)===0&&(!i&&l===X||(Dt(l,t),(u&(St|wt))!==0&&((u&Rt)!==0?Ir(l,Jt):ze(l))))}}let Di=!1;var Ai,ji,Li;function ir(e=""){return document.createTextNode(e)}function te(e){return ji.call(e)}function Re(e){return Li.call(e)}function n(e,t){return te(e)}function Yt(e,t){{var r=te(e);return r instanceof Comment&&r.data===""?Re(r):r}}function v(e,t=1,r=!1){let i=e;for(;t--;)i=Re(i);return i}function Ni(e){e.textContent=""}function Pr(e){X===null&&rt===null&&ki(),rt!==null&&(rt.f&wt)!==0&&X===null&&Si(),re&&wi()}function qi(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ve(e,t,r,i=!0){var a=X,s={ctx:st,deps:null,nodes_start:null,nodes_end:null,f:e|Lt,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(r)try{lr(s),s.f|=pr}catch(c){throw ee(s),c}else t!==null&&ze(s);var l=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(mr|Ke))===0;if(!l&&i&&(a!==null&&qi(s,a),rt!==null&&(rt.f&Rt)!==0)){var u=rt;(u.effects??(u.effects=[])).push(s)}return s}function Fi(e){const t=ve(Pe,null,!1);return Dt(t,St),t.teardown=e,t}function Ot(e){Pr();var t=X!==null&&(X.f&Vt)!==0&&st!==null&&!st.m;if(t){var r=st;(r.e??(r.e=[])).push({fn:e,effect:X,reaction:rt})}else{var i=Mr(e);return i}}function Vi(e){return Pr(),zi(e)}function Mr(e){return ve(hr,e,!1)}function zi(e){return ve(Pe,e,!0)}function T(e,t=[],r=$t){const i=t.map(r);return ar(()=>e(...i.map(o)))}function ar(e,t=0){return ve(Pe|Je|t,e,!0)}function Oe(e,t=!0){return ve(Pe|Vt,e,!0,t)}function Tr(e){var t=e.teardown;if(t!==null){const r=re,i=rt;Lr(!0),ie(null);try{t.call(null)}finally{Lr(r),ie(i)}}}function Rr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var i=r.next;(r.f&oe)!==0?r.parent=null:ee(r,t),r=i}}function Bi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Vt)===0&&ee(t),t=r}}function ee(e,t=!0){var r=!1;(t||(e.f&mi)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ui(e.nodes_start,e.nodes_end),r=!0),Rr(e,t&&!r),Ve(e,0),Dt(e,We);var i=e.transitions;if(i!==null)for(const s of i)s.stop();Tr(e);var a=e.parent;a!==null&&a.first!==null&&Or(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ui(e,t){for(;e!==null;){var r=e===t?null:Re(e);e.remove(),e=r}}function Or(e){var t=e.parent,r=e.prev,i=e.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=r))}function nr(e,t){var r=[];sr(e,r,!0),Dr(r,()=>{ee(e),t&&t()})}function Dr(e,t){var r=e.length;if(r>0){var i=()=>--r||t();for(var a of e)a.out(i)}else t()}function sr(e,t,r){if((e.f&zt)===0){if(e.f^=zt,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var i=e.first;i!==null;){var a=i.next,s=(i.f&Ze)!==0||(i.f&Vt)!==0;sr(i,t,s?r:!1),i=a}}}function De(e){Ar(e,!0)}function Ar(e,t){if((e.f&zt)!==0){e.f^=zt,(e.f&St)!==0&&(Dt(e,Lt),ze(e));for(var r=e.first;r!==null;){var i=r.next,a=(r.f&Ze)!==0||(r.f&Vt)!==0;Ar(r,a?t:!1),r=i}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Ae=[];function Hi(){var e=Ae;Ae=[],Qe(e)}function Yi(e){Ae.length===0&&queueMicrotask(Hi),Ae.push(e)}function Gi(e){var t=X;if((t.f&pr)===0){if((t.f&Ke)===0)throw e;t.fn(e)}else jr(e,t)}function jr(e,t){for(;t!==null;){if((t.f&Ke)!==0)try{t.fn(e);return}catch{}t=t.parent}throw e}let or=!1,je=null,Kt=!1,re=!1;function Lr(e){re=e}let Le=[],ks=[],rt=null,qt=!1;function ie(e){rt=e}let X=null;function Ne(e){X=e}let Bt=null;function Nr(e){rt!==null&&rt.f&Xe&&(Bt===null?Bt=[e]:Bt.push(e))}let ht=null,Ct=0,Pt=null;function Qi(e){Pt=e}let qr=1,qe=0,Gt=!1;function Fr(){return++qr}function Fe(e){var t=e.f;if((t&Lt)!==0)return!0;if((t&Jt)!==0){var r=e.deps,i=(t&wt)!==0;if(r!==null){var a,s,l=(t&Me)!==0,u=i&&X!==null&&!Gt,c=r.length;if(l||u){var _=e,h=_.parent;for(a=0;a<c;a++)s=r[a],(l||!s?.reactions?.includes(_))&&(s.reactions??(s.reactions=[])).push(_);l&&(_.f^=Me),u&&h!==null&&(h.f&wt)===0&&(_.f^=wt)}for(a=0;a<c;a++)if(s=r[a],Fe(s)&&Cr(s),s.wv>e.wv)return!0}(!i||X!==null&&!Gt)&&Dt(e,St)}return!1}function Vr(e,t,r=!0){var i=e.reactions;if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];Bt?.includes(e)||((s.f&Rt)!==0?Vr(s,t,!1):t===s&&(r?Dt(s,Lt):(s.f&St)!==0&&Dt(s,Jt),ze(s)))}}function zr(e){var w;var t=ht,r=Ct,i=Pt,a=rt,s=Gt,l=Bt,u=st,c=qt,_=e.f;ht=null,Ct=0,Pt=null,Gt=(_&wt)!==0&&(qt||!Kt||rt===null),rt=(_&(Vt|oe))===0?e:null,Bt=null,yr(e.ctx),qt=!1,qe++,e.f|=Xe;try{var h=(0,e.fn)(),b=e.deps;if(ht!==null){var f;if(Ve(e,Ct),b!==null&&Ct>0)for(b.length=Ct+ht.length,f=0;f<ht.length;f++)b[Ct+f]=ht[f];else e.deps=b=ht;if(!Gt)for(f=Ct;f<b.length;f++)((w=b[f]).reactions??(w.reactions=[])).push(e)}else b!==null&&Ct<b.length&&(Ve(e,Ct),b.length=Ct);if(Te()&&Pt!==null&&!qt&&b!==null&&(e.f&(Rt|Jt|Lt))===0)for(f=0;f<Pt.length;f++)Vr(Pt[f],e);return a!==null&&a!==e&&(qe++,Pt!==null&&(i===null?i=Pt:i.push(...Pt))),h}catch(m){Gi(m)}finally{ht=t,Ct=r,Pt=i,rt=a,Gt=s,Bt=l,yr(u),qt=c,e.f^=Xe}}function Ji(e,t){let r=t.reactions;if(r!==null){var i=ci.call(r,e);if(i!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[i]=r[a],r.pop())}}r===null&&(t.f&Rt)!==0&&(ht===null||!ht.includes(t))&&(Dt(t,Jt),(t.f&(wt|Me))===0&&(t.f^=Me),Sr(t),Ve(t,0))}function Ve(e,t){var r=e.deps;if(r!==null)for(var i=t;i<r.length;i++)Ji(e,r[i])}function lr(e){var t=e.f;if((t&We)===0){Dt(e,St);var r=X,i=Kt;X=e,Kt=!0;try{(t&Je)!==0?Bi(e):Rr(e),Tr(e);var a=zr(e);e.teardown=typeof a=="function"?a:null,e.wv=qr;var s;fr&&Ti&&(e.f&Lt)!==0&&e.deps}finally{Kt=i,X=r}}}function Ki(){try{Ci()}catch(e){if(je!==null)jr(e,je);else throw e}}function Wi(){var e=Kt;try{var t=0;for(Kt=!0;Le.length>0;){t++>1e3&&Ki();var r=Le,i=r.length;Le=[];for(var a=0;a<i;a++){var s=Xi(r[a]);Zi(s)}le.clear()}}finally{or=!1,Kt=e,je=null}}function Zi(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var i=e[r];(i.f&(We|zt))===0&&Fe(i)&&(lr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Or(i):i.fn=null))}}function ze(e){or||(or=!0,queueMicrotask(Wi));for(var t=je=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(oe|Vt))!==0){if((r&St)===0)return;t.f^=St}}Le.push(t)}function Xi(e){for(var t=[],r=e;r!==null;){var i=r.f,a=(i&(Vt|oe))!==0,s=a&&(i&St)!==0;if(!s&&(i&zt)===0){(i&hr)!==0?t.push(r):a?r.f^=St:Fe(r)&&lr(r);var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return t}function o(e){var t=e.f,r=(t&Rt)!==0;if(rt!==null&&!qt){if(!Bt?.includes(e)){var i=rt.deps;e.rv<qe&&(e.rv=qe,ht===null&&i!==null&&i[Ct]===e?Ct++:ht===null?ht=[e]:(!Gt||!ht.includes(e))&&ht.push(e))}}else if(r&&e.deps===null&&e.effects===null){var a=e,s=a.parent;s!==null&&(s.f&wt)===0&&(a.f^=wt)}return r&&(a=e,Fe(a)&&Cr(a)),re&&le.has(e)?le.get(e):e.v}function Be(e){var t=qt;try{return qt=!0,e()}finally{qt=t}}const $i=-7169;function Dt(e,t){e.f=e.f&$i|t}function ta(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Zt in e)dr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Zt in r&&dr(r)}}}function dr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{dr(e[i],t)}catch{}const r=Ge(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=gr(r);for(let a in i){const s=i[a].get;if(s)try{s.call(e)}catch{}}}}}const ea=new Set,ra=new Set;function ae(e){for(var t=0;t<e.length;t++)ea.add(e[t]);for(var r of ra)r(e)}function Br(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ue(e,t){var r=X;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function x(e,t){var r=(t&di)!==0,i=(t&vi)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=Br(s?e:"<!>"+e),r||(a=te(a)));var l=i||Ai?document.importNode(a,!0):a.cloneNode(!0);if(r){var u=te(l),c=l.lastChild;ue(u,c)}else ue(l,l);return l}}function ia(e,t,r="svg"){var i=!e.startsWith("<!>"),a=`<${r}>${i?e:"<!>"+e}</${r}>`,s;return()=>{if(!s){var l=Br(a),u=te(l);s=te(u)}var c=s.cloneNode(!0);return ue(c,c),c}}function Ur(e,t){return ia(e,t,"svg")}function Ue(e=""){{var t=ir(e+"");return ue(t,t),t}}function ne(){var e=document.createDocumentFragment(),t=document.createComment(""),r=ir();return e.append(t,r),ue(t,r),e}function g(e,t){e!==null&&e.before(t)}function k(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function aa(e){st===null&&br(),Xt&&st.l!==null?sa(st).m.push(e):Ot(()=>{const t=Be(e);if(typeof t=="function")return t})}function na(e,t,{bubbles:r=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:i})}function Hr(){const e=st;return e===null&&br(),(t,r,i)=>{const a=e.s.$$events?.[t];if(a){const s=Ye(a)?a.slice():[a],l=na(t,r,i);for(const u of s)u.call(e.x,l);return!l.defaultPrevented}return!0}}function sa(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function E(e,t,[r,i]=[0,0]){var a=e,s=null,l=null,u=xt,c=r>0?Ze:0,_=!1;const h=(f,w=!0)=>{_=!0,b(w,f)},b=(f,w)=>{u!==(u=f)&&(u?(s?De(s):w&&(s=Oe(()=>w(a))),l&&nr(l,()=>{l=null})):(l?De(l):w&&(l=Oe(()=>w(a,[r+1,i]))),s&&nr(s,()=>{s=null})))};ar(()=>{_=!1,t(h),_||b(null,null)},c)}function Et(e,t){return t}function oa(e,t,r,i){for(var a=[],s=t.length,l=0;l<s;l++)sr(t[l].e,a,!0);var u=s>0&&a.length===0&&r!==null;if(u){var c=r.parentNode;Ni(c),c.append(r),i.clear(),Qt(e,t[0].prev,t[s-1].next)}Dr(a,()=>{for(var _=0;_<s;_++){var h=t[_];u||(i.delete(h.k),Qt(e,h.prev,h.next)),ee(h.e,!u)}})}function It(e,t,r,i,a,s=null){var l=e,u={flags:t,items:new Map,first:null},c=(t&cr)!==0;if(c){var _=e;l=_.appendChild(ir())}var h=null,b=!1,f=wr(()=>{var w=r();return Ye(w)?w:w==null?[]:_r(w)});ar(()=>{var w=o(f),m=w.length;b&&m===0||(b=m===0,la(w,u,l,a,t,i,r),s!==null&&(m===0?h?De(h):h=Oe(()=>s(l)):h!==null&&nr(h,()=>{h=null})),o(f))})}function la(e,t,r,i,a,s,l){var u=(a&ri)!==0,c=(a&(yt|jt))!==0,_=e.length,h=t.items,b=t.first,f=b,w,m=null,q,O=[],j=[],M,S,p,C;if(u)for(C=0;C<_;C+=1)M=e[C],S=s(M,C),p=h.get(S),p!==void 0&&(p.a?.measure(),(q??(q=new Set)).add(p));for(C=0;C<_;C+=1){if(M=e[C],S=s(M,C),p=h.get(S),p===void 0){var I=f?f.e.nodes_start:r;m=va(I,t,m,m===null?t.first:m.next,M,S,C,i,a,l),h.set(S,m),O=[],j=[],f=m.next;continue}if(c&&da(p,M,C,a),(p.e.f&zt)!==0&&(De(p.e),u&&(p.a?.unfix(),(q??(q=new Set)).delete(p))),p!==f){if(w!==void 0&&w.has(p)){if(O.length<j.length){var F=j[0],A;m=F.prev;var K=O[0],z=O[O.length-1];for(A=0;A<O.length;A+=1)Yr(O[A],F,r);for(A=0;A<j.length;A+=1)w.delete(j[A]);Qt(t,K.prev,z.next),Qt(t,m,K),Qt(t,z,F),f=F,m=z,C-=1,O=[],j=[]}else w.delete(p),Yr(p,f,r),Qt(t,p.prev,p.next),Qt(t,p,m===null?t.first:m.next),Qt(t,m,p),m=p;continue}for(O=[],j=[];f!==null&&f.k!==S;)(f.e.f&zt)===0&&(w??(w=new Set)).add(f),j.push(f),f=f.next;if(f===null)continue;p=f}O.push(p),m=p,f=p.next}if(f!==null||w!==void 0){for(var G=w===void 0?[]:_r(w);f!==null;)(f.e.f&zt)===0&&G.push(f),f=f.next;var $=G.length;if($>0){var tt=(a&cr)!==0&&_===0?r:null;if(u){for(C=0;C<$;C+=1)G[C].a?.measure();for(C=0;C<$;C+=1)G[C].a?.fix()}oa(t,G,tt,h)}}u&&Yi(()=>{if(q!==void 0)for(p of q)p.a?.apply()}),X.first=t.first&&t.first.e,X.last=m&&m.e}function da(e,t,r,i){(i&yt)!==0&&er(e.v,t),(i&jt)!==0?er(e.i,r):e.i=r}function va(e,t,r,i,a,s,l,u,c,_){var h=(c&yt)!==0,b=(c&ii)===0,f=h?b?Er(a,!1,!1):de(a):a,w=(c&jt)===0?l:de(l),m={i:w,v:f,k:s,a:null,e:null,prev:r,next:i};try{return m.e=Oe(()=>u(e,f,w,_),Di),m.e.prev=r&&r.e,m.e.next=i&&i.e,r===null?t.first=m:(r.next=m,r.e.next=m.e),i!==null&&(i.prev=m,i.e.prev=m.e),m}finally{}}function Yr(e,t,r){for(var i=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==i;){var l=Re(s);a.before(s),s=l}}function Qt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ua(e,t,r){var i=e==null?"":""+e;return t&&(i=i?i+" "+t:t),i===""?null:i}function ca(e,t){return e==null?null:String(e)}function ut(e,t,r,i,a,s){var l=e.__className;if(l!==r||l===void 0){var u=ua(r,i);u==null?e.removeAttribute("class"):e.className=u,e.__className=r}return s}function fa(e,t,r,i){var a=e.__style;if(a!==t){var s=ca(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return i}const _a=Symbol("is custom element"),ga=Symbol("is html");function ha(e,t){var r=Qr(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Gr(e,t,r,i){var a=Qr(e);a[t]!==(a[t]=r)&&(t==="loading"&&(e[bi]=r),r==null?e.removeAttribute(t):typeof r!="string"&&pa(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Qr(e){return e.__attributes??(e.__attributes={[_a]:e.nodeName.includes("-"),[ga]:e.namespaceURI===ui})}var Jr=new Map;function pa(e){var t=Jr.get(e.nodeName);if(t)return t;Jr.set(e.nodeName,t=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=gr(i);for(var s in r)r[s].set&&t.push(s);i=Ge(i)}return t}function ma(e=!1){const t=st,r=t.l.u;if(!r)return;let i=()=>ta(t.s);if(e){let a=0,s={};const l=$t(()=>{let u=!1;const c=t.s;for(const _ in c)c[_]!==s[_]&&(s[_]=c[_],u=!0);return u&&a++,a});i=()=>o(l)}r.b.length&&Vi(()=>{Kr(t,i),Qe(r.b)}),Ot(()=>{const a=Be(()=>r.m.map(gi));return()=>{for(const s of a)typeof s=="function"&&s()}}),r.a.length&&Ot(()=>{Kr(t,i),Qe(r.a)})}function Kr(e,t){if(e.l.s)for(const r of e.l.s)o(r);t()}let He=!1;function xa(e){var t=He;try{return He=!1,[e(),He]}finally{He=t}}function Wr(e){return e.ctx?.d??!1}function vt(e,t,r,i){var a=(r&ai)!==0,s=!Xt||(r&ni)!==0,l=(r&oi)!==0,u=(r&li)!==0,c=!1,_;l?[_,c]=xa(()=>e[t]):_=e[t];var h=Zt in e||xi in e,b=l&&(Ie(e,t)?.set??(h&&t in e&&(I=>e[t]=I)))||void 0,f=i,w=!0,m=!1,q=()=>(m=!0,w&&(w=!1,u?f=Be(i):f=i),f);_===void 0&&i!==void 0&&(b&&s&&Ei(),_=q(),b&&b(_));var O;if(s)O=()=>{var I=e[t];return I===void 0?q():(w=!0,m=!1,I)};else{var j=(a?$t:wr)(()=>e[t]);j.f|=pi,O=()=>{var I=o(j);return I!==void 0&&(f=void 0),I===void 0?f:I}}if((r&si)===0&&s)return O;if(b){var M=e.$$legacy;return function(I,F){return arguments.length>0?((!s||!F||M||c)&&b(F?O():I),I):O()}}var S=!1,p=Er(_),C=$t(()=>{var I=O(),F=o(p);return S?(S=!1,F):p.v=I});return l&&o(C),a||(C.equals=$e),function(I,F){if(arguments.length>0){const A=F?o(C):s&&l?Nt(I):I;if(!C.equals(A)){if(S=!0,H(p,A),m&&f!==void 0&&(f=A),Wr(C))return I;Be(()=>o(C))}return I}return Wr(C)?C.v:o(C)}}class Zr{constructor(t,r={}){this.baseUrl=t||"http://localhost:8080/api/v1",this.modelId=r.modelId,this.authToken=r.authToken,this.timeout=r.timeout||1e4}async request(t,r={}){const i=`${this.baseUrl}${t}`,a={method:"GET",headers:{"Content-Type":"application/json",...this.authToken&&{Authorization:`Bearer ${this.authToken}`},...r.headers},...r};a.body&&typeof a.body=="object"&&(a.body=JSON.stringify(a.body));try{const s=new AbortController,l=setTimeout(()=>s.abort(),this.timeout),u=await fetch(i,{...a,signal:s.signal});if(clearTimeout(l),!u.ok)throw new Error(`HTTP ${u.status}: ${u.statusText}`);return await u.json()}catch(s){throw s.name==="AbortError"?new Error("Request timeout"):s}}async getModel(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}`)}async getModelOptions(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}/options`)}async createConfiguration(t={}){return this.request("/configurations",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([r,i])=>({option_id:r,quantity:i}))}})}async updateConfiguration(t,r){return this.request(`/configurations/${t}`,{method:"PUT",body:{model_id:this.modelId,selections:Object.entries(r).map(([i,a])=>({option_id:i,quantity:a}))}})}async validateConfiguration(t){return this.request("/configurations/validate-selection",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([r,i])=>({option_id:r,quantity:i}))}})}async calculatePricing(t,r={}){return this.request("/pricing/calculate",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([i,a])=>({option_id:i,quantity:a})),context:r}})}async getVolumeTiers(){return this.request(`/pricing/volume-tiers/${this.modelId}`)}}class ba{constructor(){mt(this,ce,Z(""));mt(this,fe,Z(null));mt(this,_e,Z(Nt({})));mt(this,ge,Z(Nt([])));mt(this,he,Z(null));mt(this,pe,Z(!1));mt(this,me,Z(!1));mt(this,xe,Z(!1));mt(this,be,Z(null));mt(this,ye,Z(0));mt(this,we,Z(null));mt(this,Se,Z(null));mt(this,ke,Z(!1));mt(this,Ce,Z(null));this.initialized=!1}get modelId(){return o(J(this,ce))}set modelId(t){H(J(this,ce),t,!0)}get model(){return o(J(this,fe))}set model(t){H(J(this,fe),t,!0)}get selections(){return o(J(this,_e))}set selections(t){H(J(this,_e),t,!0)}get validationResults(){return o(J(this,ge))}set validationResults(t){H(J(this,ge),t,!0)}get pricingData(){return o(J(this,he))}set pricingData(t){H(J(this,he),t,!0)}get isLoading(){return o(J(this,pe))}set isLoading(t){H(J(this,pe),t,!0)}get isValidating(){return o(J(this,me))}set isValidating(t){H(J(this,me),t,!0)}get isPricing(){return o(J(this,xe))}set isPricing(t){H(J(this,xe),t,!0)}get error(){return o(J(this,be))}set error(t){H(J(this,be),t,!0)}get currentStep(){return o(J(this,ye))}set currentStep(t){H(J(this,ye),t,!0)}get configurationId(){return o(J(this,we))}set configurationId(t){H(J(this,we),t,!0)}get lastSaved(){return o(J(this,Se))}set lastSaved(t){H(J(this,Se),t,!0)}get isDirty(){return o(J(this,ke))}set isDirty(t){H(J(this,ke),t,!0)}get api(){return o(J(this,Ce))}set api(t){H(J(this,Ce),t,!0)}initialize(){this.initialized||(this.initialized=!0,Ot(()=>{this.modelId&&(this.api=new Zr("http://localhost:8080/api/v1",{modelId:this.modelId}),this.loadModel())}),Ot(()=>{this.api&&Object.keys(this.selections).length>0&&this.validateSelections()}),Ot(()=>{this.api&&this.isValid&&Object.keys(this.selections).length>0&&this.calculatePricing()}),Ot(()=>{if(this.isDirty&&this.configurationId){const t=setInterval(()=>{this.saveConfiguration()},3e4);return()=>clearInterval(t)}}))}get isValid(){return this.validationResults.length===0}get totalPrice(){return this.pricingData?.total_price||0}get basePrice(){return this.pricingData?.base_price||0}get adjustments(){return this.pricingData?.adjustments||[]}get completionPercentage(){if(!this.model?.option_groups)return 0;const t=this.model.option_groups.filter(i=>i.required);if(t.length===0)return 100;const r=t.filter(i=>i.options.some(a=>this.selections[a.id]>0));return Math.round(r.length/t.length*100)}get canProceedToNextStep(){switch(this.currentStep){case 0:return this.model!==null;case 1:return this.isValid&&Object.keys(this.selections).length>0;case 2:return this.isValid&&this.pricingData!==null;default:return!1}}get selectedOptions(){return this.model?.options?this.model.options.filter(t=>this.selections[t.id]>0):[]}async loadModel(){if(this.api){this.isLoading=!0,this.error=null;try{const t=await this.api.getModel();if(t.success)this.model=t.data;else throw new Error(t.message||"Failed to load model")}catch(t){this.error=t.message}finally{this.isLoading=!1}}}async validateSelections(){if(!(!this.api||this.isValidating)){this.isValidating=!0;try{const t=await this.api.validateConfiguration(this.selections);t.success&&(this.validationResults=t.data?.validation_result?.errors||[])}catch(t){console.warn("Validation failed:",t),this.validationResults=[{message:"Validation service unavailable"}]}finally{this.isValidating=!1}}}async calculatePricing(){if(!(!this.api||this.isPricing)){this.isPricing=!0;try{const t=await this.api.calculatePricing(this.selections);t.success&&(this.pricingData=t.data)}catch(t){console.warn("Pricing calculation failed:",t),this.pricingData=null}finally{this.isPricing=!1}}}async saveConfiguration(){if(this.api)try{if(this.configurationId)await this.api.updateConfiguration(this.configurationId,this.selections);else{const t=await this.api.createConfiguration(this.selections);t.success&&(this.configurationId=t.data.id)}this.lastSaved=new Date,this.isDirty=!1}catch(t){console.warn("Failed to save configuration:",t)}}setModelId(t){this.modelId=t,this.reset(),typeof window<"u"&&window.__API_BASE_URL__&&(this.api=new Zr(window.__API_BASE_URL__,{modelId:t}),this.loadModel())}updateSelection(t,r){r<=0?(delete this.selections[t],this.selections={...this.selections}):(this.selections[t]=r,this.selections={...this.selections}),this.isDirty=!0,this.api&&!this.initialized&&this.validateSelections()}removeSelection(t){delete this.selections[t],this.selections={...this.selections},this.isDirty=!0}clearSelections(){this.selections={},this.validationResults=[],this.pricingData=null,this.isDirty=!0}nextStep(){this.canProceedToNextStep&&(this.currentStep=Math.min(this.currentStep+1,3))}previousStep(){this.currentStep=Math.max(this.currentStep-1,0)}goToStep(t){this.currentStep=Math.max(0,Math.min(t,3))}reset(){this.model=null,this.selections={},this.validationResults=[],this.pricingData=null,this.currentStep=0,this.configurationId=null,this.lastSaved=null,this.isDirty=!1,this.error=null}generateShareableUrl(){const t={modelId:this.modelId,selections:this.selections,timestamp:Date.now()},r=btoa(JSON.stringify(t));return`${window.location.origin}/configure/${this.modelId}?config=${r}`}loadFromShareableUrl(t){try{const r=JSON.parse(atob(t));r.modelId&&r.selections&&(this.setModelId(r.modelId),this.selections=r.selections,this.isDirty=!0)}catch(r){console.warn("Failed to load shared configuration:",r)}}exportConfiguration(){return{model_id:this.modelId,model_name:this.model?.name,selections:this.selectedOptions.map(t=>({option_id:t.id,option_name:t.name,quantity:this.selections[t.id],unit_price:t.base_price,total_price:t.base_price*this.selections[t.id]})),pricing:this.pricingData,validation:{is_valid:this.isValid,errors:this.validationResults},metadata:{created_at:new Date().toISOString(),completion_percentage:this.completionPercentage}}}}ce=new WeakMap,fe=new WeakMap,_e=new WeakMap,ge=new WeakMap,he=new WeakMap,pe=new WeakMap,me=new WeakMap,xe=new WeakMap,be=new WeakMap,ye=new WeakMap,we=new WeakMap,Se=new WeakMap,ke=new WeakMap,Ce=new WeakMap;const d=new ba;Ri();var ya=x('<div class="absolute inset-0 flex items-center" aria-hidden="true"><div></div></div>'),wa=(e,t)=>d.goToStep(o(t).id),Sa=Ur('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),ka=x('<span class="text-sm font-medium"> </span>'),Ca=x('<li><!> <button><!></button> <div class="mt-2 text-center"><div> </div> <div> </div></div></li>'),Ea=x('<nav aria-label="Progress"><ol class="flex items-center"></ol></nav>');function Ia(e,t){Ut(t,!1);const r=[{id:0,name:"Select",description:"Choose your product"},{id:1,name:"Configure",description:"Customize options"},{id:2,name:"Review",description:"Verify & price"},{id:3,name:"Complete",description:"Finalize order"}];ma();var i=Ea(),a=n(i);It(a,5,()=>r,Et,(s,l,u)=>{var c=Ca(),_=n(c);{var h=p=>{var C=ya(),I=n(C);T(()=>ut(I,1,`h-0.5 w-full ${d.currentStep>o(l).id?"bg-primary-600":"bg-gray-200"}`)),g(p,C)};E(_,p=>{u<r.length-1&&p(h)})}var b=v(_,2);b.__click=[wa,l];var f=n(b);{var w=p=>{var C=Sa();g(p,C)},m=p=>{var C=ka(),I=n(C);T(()=>k(I,o(l).id+1)),g(p,C)};E(f,p=>{d.currentStep>o(l).id?p(w):p(m,!1)})}var q=v(b,2),O=n(q),j=n(O),M=v(O,2),S=n(M);T(()=>{ut(c,1,`relative ${u<r.length-1?"pr-8 sm:pr-20":""}`),ut(b,1,`relative w-8 h-8 flex items-center justify-center rounded-full transition-colors
                 ${d.currentStep>o(l).id?"bg-primary-600 text-white":d.currentStep===o(l).id?"bg-primary-50 border-2 border-primary-600 text-primary-600":"bg-white border-2 border-gray-300 text-gray-500"}`),Gr(b,"aria-current",d.currentStep===o(l).id?"step":void 0),ut(O,1,`text-xs font-medium ${d.currentStep>=o(l).id?"text-gray-900":"text-gray-500"}`),k(j,o(l).name),ut(M,1,`text-xs ${d.currentStep>=o(l).id?"text-gray-500":"text-gray-400"}`),k(S,o(l).description)}),g(s,c)}),g(e,i),Ht()}ae(["click"]);var Pa=x('<p class="mt-4 text-sm text-gray-600"> </p>'),Ma=x('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" aria-live="polite"><div class="bg-white rounded-lg p-6 text-center"><div></div> <!></div></div>'),Ta=x('<span class="ml-3 text-sm text-gray-600"> </span>'),Ra=x('<div class="flex items-center justify-center" aria-live="polite"><div></div> <!></div>');function Oa(e,t){let r=vt(t,"size",3,"md"),i=vt(t,"color",3,"primary"),a=vt(t,"message",3,""),s=vt(t,"overlay",3,!1);const l={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},u={primary:"border-primary-600",gray:"border-gray-600",white:"border-white"};var c=ne(),_=Yt(c);{var h=f=>{var w=Ma(),m=n(w),q=n(m),O=v(q,2);{var j=M=>{var S=Pa(),p=n(S);T(()=>k(p,a())),g(M,S)};E(O,M=>{a()&&M(j)})}T(()=>ut(q,1,`animate-spin rounded-full ${l[r()]??""} border-2 border-gray-200 ${u[i()]??""} border-t-transparent mx-auto`)),g(f,w)},b=f=>{var w=Ra(),m=n(w),q=v(m,2);{var O=j=>{var M=Ta(),S=n(M);T(()=>k(S,a())),g(j,M)};E(q,j=>{a()&&j(O)})}T(()=>ut(m,1,`animate-spin rounded-full ${l[r()]??""} border-2 border-gray-200 ${u[i()]??""} border-t-transparent`)),g(f,w)};E(_,f=>{s()?f(h):f(b,!1)})}g(e,c)}function Da(e,t,r,i){t()<r()&&i("retry")}function Aa(e,t){t(!t())}var ja=x('<div class="mt-3 text-xs text-red-600 bg-red-100 p-2 rounded border"><pre class="whitespace-pre-wrap"> </pre></div>'),La=x('<button type="button" class="text-sm bg-red-100 text-red-800 px-3 py-1 rounded hover:bg-red-200 transition-colors"> </button>'),Na=x('<div class="rounded-md bg-red-50 p-4 border border-red-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3 flex-1"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"><p> </p></div> <!> <div class="mt-4 flex space-x-3"><!> <button type="button" class="text-sm text-red-600 hover:text-red-500 underline"> </button></div></div></div></div>');function qa(e,t){Ut(t,!0);let r=vt(t,"error",3,null),i=vt(t,"context",3,"Application"),a=vt(t,"showDetails",7,!1),s=vt(t,"retryable",3,!0),l=vt(t,"retryCount",3,0),u=vt(t,"maxRetries",3,3);const c=Hr();let _=kt(()=>s()&&l()<u());var h=ne(),b=Yt(h);{var f=w=>{var m=Na(),q=n(m),O=v(n(q),2),j=n(O),M=n(j),S=v(j,2),p=n(S),C=n(p),I=v(S,2);{var F=tt=>{var R=ja(),y=n(R),P=n(y);T(L=>k(P,L),[()=>r().stack||JSON.stringify(r(),null,2)]),g(tt,R)};E(I,tt=>{a()&&tt(F)})}var A=v(I,2),K=n(A);{var z=tt=>{var R=La();R.__click=[Da,l,u,c];var y=n(R);T(()=>k(y,`Retry ${l()>0?`(${l()}/${u()})`:""}`)),g(tt,R)};E(K,tt=>{o(_)&&tt(z)})}var G=v(K,2);G.__click=[Aa,a];var $=n(G);T(()=>{k(M,`${i()??""} Error`),k(C,`Something went wrong. ${r().message||"An unexpected error occurred."}`),k($,`${a()?"Hide":"Show"} Details`)}),g(w,m)};E(b,w=>{r()&&w(f)})}g(e,h),Ht()}ae(["click"]);function Fa(e,t,r){t.group.max_selections&&o(r)>=t.group.max_selections||rr(r)}function Va(e,t){o(t)>0&&rr(t,-1)}function za(e,t,r){o(t)?H(r,0):H(r,1)}var Ba=x('<div class="absolute -top-2 -right-2 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),Ua=x('<p class="mt-1 text-sm text-gray-500"> </p>'),Ha=x('<span class="text-xs text-gray-500"> </span>'),Ya=x('<div class="text-xs text-primary-600"> </div>'),Ga=x('<span class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded"> </span>'),Qa=x('<span class="text-xs text-gray-500"> </span>'),Ja=x('<div class="mt-2 flex flex-wrap gap-1"><!> <!></div>'),Ka=x('<div class="w-2 h-2 bg-white rounded-full"></div>'),Wa=x('<button type="button"><div><!></div> <span> </span></button>'),Za=x('<div class="flex items-center space-x-3"><span class="text-sm text-gray-500">Quantity:</span> <div class="flex items-center space-x-2"><button type="button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg></button> <span class="w-8 text-center text-sm font-medium"> </span> <button type="button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button></div></div>'),Xa=x('<div class="text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded"> </div>'),$a=x('<div><!> <div class="p-4"><div class="flex items-start justify-between"><div class="flex-1"><h3 class="text-sm font-medium text-gray-900"> </h3> <!></div> <div class="ml-4 text-right"><div class="text-sm font-medium text-gray-900"> <!></div> <!></div></div> <!> <div class="mt-4 flex items-center justify-between"><!> <!></div></div></div>');function tn(e,t){Ut(t,!0);let r=Z(Nt(d.selections[t.option.id]||0)),i=kt(()=>o(r)>0),a=kt(()=>o(r)*t.option.base_price);Ot(()=>{d.updateSelection(t.option.id,o(r))}),Ot(()=>{if(t.group.selection_type==="single"&&o(i))for(const R of t.group.options)R.id!==t.option.id&&d.selections[R.id]>0&&d.updateSelection(R.id,0)});var s=$a(),l=n(s);{var u=R=>{var y=Ba();g(R,y)};E(l,R=>{o(i)&&R(u)})}var c=v(l,2),_=n(c),h=n(_),b=n(h),f=n(b),w=v(b,2);{var m=R=>{var y=Ua(),P=n(y);T(()=>k(P,t.option.description)),g(R,y)};E(w,R=>{t.option.description&&R(m)})}var q=v(h,2),O=n(q),j=n(O),M=v(j);{var S=R=>{var y=Ha(),P=n(y);T(()=>k(P,`/${t.option.price_unit??""}`)),g(R,y)};E(M,R=>{t.option.price_unit&&t.option.price_unit!=="each"&&R(S)})}var p=v(O,2);{var C=R=>{var y=Ya(),P=n(y);T(L=>k(P,`Total: $${L??""}`),[()=>o(a).toFixed(2)]),g(R,y)};E(p,R=>{o(a)>t.option.base_price&&R(C)})}var I=v(_,2);{var F=R=>{var y=Ja(),P=n(y);It(P,17,()=>t.option.constraints.slice(0,3),Et,(N,D)=>{var Q=Ga(),et=n(Q);T(()=>k(et,o(D))),g(N,Q)});var L=v(P,2);{var it=N=>{var D=Qa(),Q=n(D);T(()=>k(Q,`+${t.option.constraints.length-3} more`)),g(N,D)};E(L,N=>{t.option.constraints.length>3&&N(it)})}g(R,y)};E(I,R=>{t.option.constraints&&t.option.constraints.length>0&&R(F)})}var A=v(I,2),K=n(A);{var z=R=>{var y=Wa();y.__click=[za,i,r];var P=n(y),L=n(P);{var it=Q=>{var et=Ka();g(Q,et)};E(L,Q=>{o(i)&&Q(it)})}var N=v(P,2),D=n(N);T(()=>{ut(y,1,`flex items-center space-x-2 text-sm font-medium
                 ${o(i)?"text-primary-600":"text-gray-500 hover:text-gray-700"}`),ut(P,1,`w-4 h-4 rounded-full border-2 flex items-center justify-center
                      ${o(i)?"border-primary-600 bg-primary-600":"border-gray-300"}`),k(D,o(i)?"Selected":"Select")}),g(R,y)},G=R=>{var y=Za(),P=v(n(y),2),L=n(P);L.__click=[Va,r];var it=v(L,2),N=n(it),D=v(it,2);D.__click=[Fa,t,r],T(()=>{ut(L,1,`w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center
                     ${o(r)>0?"hover:bg-gray-100 text-gray-700":"text-gray-400 cursor-not-allowed"}`),L.disabled=o(r)<=0,k(N,o(r)),ut(D,1,`w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center
                     hover:bg-gray-100 text-gray-700
                     ${t.group.max_selections&&o(r)>=t.group.max_selections?"opacity-50 cursor-not-allowed":""}`),D.disabled=t.group.max_selections&&o(r)>=t.group.max_selections}),g(R,y)};E(K,R=>{t.group.selection_type==="single"?R(z):R(G,!1)})}var $=v(K,2);{var tt=R=>{var y=Xa(),P=n(y);T(()=>k(P,t.option.availability_status)),g(R,y)};E($,R=>{t.option.availability_status&&t.option.availability_status!=="available"&&R(tt)})}T(R=>{ut(s,1,`relative rounded-lg border-2 transition-all duration-200 
            ${o(i)?"border-primary-500 bg-primary-50":"border-gray-200 bg-white hover:border-gray-300"}`),k(f,t.option.name),k(j,`$${R??""} `)},[()=>t.option.base_price.toFixed(2)]),g(e,s),Ht()}ae(["click"]);var en=x('<span class="ml-2 text-sm text-red-500">*</span>'),rn=Ur('<svg class="ml-2 w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),an=x('<p class="mt-1 text-sm text-gray-500"> </p>'),nn=x('<div class="text-xs text-gray-400">Choose one</div>'),sn=x('<div class="text-xs text-gray-400"><!></div>'),on=x("<div> </div>"),ln=x('<div class="mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2"></div>'),dn=x('<div class="text-xs bg-gray-50 p-2 rounded"> </div>'),vn=x('<div class="mt-4 text-sm text-gray-600"><details class="group"><summary class="cursor-pointer font-medium group-hover:text-gray-800"> </summary> <div class="mt-2 space-y-1"></div></details></div>'),un=x('<div class="mb-8"><div class="mb-4"><div class="flex items-center justify-between"><div><h2 class="text-lg font-medium text-gray-900 flex items-center"> <!> <!></h2> <!></div> <div class="text-right"><div class="text-sm text-gray-500"> <!> selected</div> <!></div></div> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div> <!></div>');function cn(e,t){Ut(t,!0);let r=kt(()=>t.group.options.reduce((y,P)=>y+(d.selections[P.id]||0),0)),i=kt(()=>t.group.required),a=kt(()=>!o(i)||o(r)>=(t.group.min_selections||1)),s=kt(()=>d.validationResults.some(y=>y.group_id===t.group.id||t.group.options.some(P=>y.option_id===P.id)));var l=un(),u=n(l),c=n(u),_=n(c),h=n(_),b=n(h),f=v(b);{var w=y=>{var P=en();g(y,P)};E(f,y=>{o(i)&&y(w)})}var m=v(f,2);{var q=y=>{var P=rn();g(y,P)};E(m,y=>{o(a)&&y(q)})}var O=v(h,2);{var j=y=>{var P=an(),L=n(P);T(()=>k(L,t.group.description)),g(y,P)};E(O,y=>{t.group.description&&y(j)})}var M=v(_,2),S=n(M),p=n(S),C=v(p);{var I=y=>{var P=Ue();T(()=>k(P,`/ ${t.group.max_selections??""}`)),g(y,P)};E(C,y=>{t.group.max_selections&&y(I)})}var F=v(S,2);{var A=y=>{var P=nn();g(y,P)},K=(y,P)=>{{var L=it=>{var N=sn(),D=n(N);{var Q=Y=>{var dt=Ue();T(()=>k(dt,`${t.group.min_selections??""}-${t.group.max_selections??""} required`)),g(Y,dt)},et=(Y,dt)=>{{var B=W=>{var at=Ue();T(()=>k(at,`Min ${t.group.min_selections??""} required`)),g(W,at)},V=(W,at)=>{{var nt=ct=>{var ft=Ue();T(()=>k(ft,`Max ${t.group.max_selections??""} allowed`)),g(ct,ft)};E(W,ct=>{t.group.max_selections&&ct(nt)},at)}};E(Y,W=>{t.group.min_selections?W(B):W(V,!1)},dt)}};E(D,Y=>{t.group.min_selections&&t.group.max_selections?Y(Q):Y(et,!1)})}g(it,N)};E(y,it=>{(t.group.min_selections||t.group.max_selections)&&it(L)},P)}};E(F,y=>{t.group.selection_type==="single"?y(A):y(K,!1)})}var z=v(c,2);{var G=y=>{var P=ln();It(P,21,()=>d.validationResults,Et,(L,it)=>{var N=ne(),D=Yt(N);{var Q=et=>{var Y=on(),dt=n(Y);T(()=>k(dt,o(it).message)),g(et,Y)};E(D,et=>{o(it).group_id===t.group.id&&et(Q)})}g(L,N)}),g(y,P)};E(z,y=>{o(s)&&y(G)})}var $=v(u,2);It($,21,()=>t.group.options,Et,(y,P)=>{tn(y,{get option(){return o(P)},get group(){return t.group}})});var tt=v($,2);{var R=y=>{var P=vn(),L=n(P),it=n(L),N=n(it),D=v(it,2);It(D,21,()=>t.group.constraints,Et,(Q,et)=>{var Y=dn(),dt=n(Y);T(()=>k(dt,o(et))),g(Q,Y)}),T(()=>k(N,`View Constraints (${t.group.constraints.length??""})`)),g(y,P)};E(tt,y=>{t.group.constraints&&t.group.constraints.length>0&&y(R)})}T(()=>{k(b,`${t.group.name??""} `),k(p,`${o(r)??""} `)}),g(e,l),Ht()}var fn=x('<div class="text-sm text-gray-500 flex items-center"><div class="animate-spin w-4 h-4 border-2 border-gray-300 border-t-primary-600 rounded-full mr-2"></div> Calculating...</div>'),_n=x('<div class="text-sm text-green-600">Updated</div>'),gn=x('<span class="text-green-600 ml-2"> </span>'),hn=x('<div class="text-sm text-gray-500"> <!></div>'),pn=x('<div class="text-gray-500 text-xs"> </div>'),mn=x('<div class="flex justify-between text-sm"><div class="flex-1"><div class="text-gray-900"> </div> <!></div> <div class="text-gray-900 font-medium"> </div></div>'),xn=x('<div class="flex justify-between text-sm"><span class="text-gray-600"> </span> <span> </span></div>'),bn=x('<div class="space-y-3"><h4 class="text-sm font-medium text-gray-700 border-b border-gray-200 pb-2">Price Breakdown</h4> <!> <div class="border-t border-gray-200 pt-3"><div class="flex justify-between text-sm"><span class="text-gray-500">Subtotal</span> <span class="text-gray-900"> </span></div></div> <!> <div class="border-t border-gray-200 pt-3"><div class="flex justify-between text-lg font-medium"><span class="text-gray-900">Total</span> <span class="text-gray-900"> </span></div></div></div>'),yn=()=>d.saveConfiguration(),wn=x('<div class="mt-6 space-y-3"><button type="button" class="w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 transition-colors">Save Configuration</button> <button type="button" class="w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-200 transition-colors">Export Configuration</button></div>'),Sn=x('<div class="bg-white rounded-lg border border-gray-200 p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900">Pricing</h3> <!></div> <div class="text-center mb-6"><div class="text-3xl font-bold text-gray-900"> </div> <!></div> <!> <!></div>');function Xr(e,t){Ut(t,!0);let r=vt(t,"detailed",3,!1),i=vt(t,"showBreakdown",3,!0),a=kt(()=>d.adjustments.reduce((S,p)=>p.amount<0?S+Math.abs(p.amount):S,0));var s=Sn(),l=n(s),u=v(n(l),2);{var c=S=>{var p=fn();g(S,p)},_=(S,p)=>{{var C=I=>{var F=_n();g(I,F)};E(S,I=>{d.pricingData&&I(C)},p)}};E(u,S=>{d.isPricing?S(c):S(_,!1)})}var h=v(l,2),b=n(h),f=n(b),w=v(b,2);{var m=S=>{var p=hn(),C=n(p),I=v(C);{var F=A=>{var K=gn(),z=n(K);T(G=>k(z,`Save $${G??""}`),[()=>o(a).toFixed(2)]),g(A,K)};E(I,A=>{o(a)>0&&A(F)})}T(A=>k(C,`Base: $${A??""} `),[()=>d.basePrice.toFixed(2)]),g(S,p)};E(w,S=>{d.basePrice!==d.totalPrice&&S(m)})}var q=v(h,2);{var O=S=>{var p=bn(),C=v(n(p),2);It(C,17,()=>d.selectedOptions,Et,(P,L)=>{var it=mn(),N=n(it),D=n(N),Q=n(D),et=v(D,2);{var Y=V=>{var W=pn(),at=n(W);T(nt=>k(at,`$${nt??""} × ${d.selections[o(L).id]??""}`),[()=>o(L).base_price.toFixed(2)]),g(V,W)};E(et,V=>{d.selections[o(L).id]>1&&V(Y)})}var dt=v(N,2),B=n(dt);T(V=>{k(Q,o(L).name),k(B,`$${V??""}`)},[()=>(o(L).base_price*d.selections[o(L).id]).toFixed(2)]),g(P,it)});var I=v(C,2),F=n(I),A=v(n(F),2),K=n(A),z=v(I,2);{var G=P=>{var L=ne(),it=Yt(L);It(it,17,()=>d.adjustments,Et,(N,D)=>{var Q=xn(),et=n(Q),Y=n(et),dt=v(et,2),B=n(dt);T(V=>{k(Y,o(D).rule_name||o(D).name),ut(dt,1,o(D).amount<0?"text-green-600":"text-red-600"),k(B,`${o(D).amount<0?"-":"+"}$${V??""}`)},[()=>Math.abs(o(D).amount).toFixed(2)]),g(N,Q)}),g(P,L)};E(z,P=>{d.adjustments.length>0&&P(G)})}var $=v(z,2),tt=n($),R=v(n(tt),2),y=n(R);T((P,L)=>{k(K,`$${P??""}`),k(y,`$${L??""}`)},[()=>d.basePrice.toFixed(2),()=>d.totalPrice.toFixed(2)]),g(S,p)};E(q,S=>{i()&&d.pricingData&&d.selectedOptions.length>0&&S(O)})}var j=v(q,2);{var M=S=>{var p=wn(),C=n(p);C.__click=[yn];var I=v(C,2);I.__click=()=>{const F=d.exportConfiguration(),A=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),K=URL.createObjectURL(A),z=document.createElement("a");z.href=K,z.download=`configuration-${Date.now()}.json`,z.click()},g(S,p)};E(j,S=>{r()&&S(M)})}T(S=>k(f,`$${S??""}`),[()=>d.totalPrice.toFixed(2)]),g(e,s),Ht()}ae(["click"]);var kn=x("<li> </li>"),Cn=x('<div class="rounded-md bg-red-50 p-4 border border-red-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"><ul class="space-y-1"></ul></div></div></div></div>'),En=x("<li> </li>"),In=x('<div class="rounded-md bg-yellow-50 p-4 border border-yellow-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-yellow-800"> </h3> <div class="mt-2 text-sm text-yellow-700"><ul class="space-y-1"></ul></div></div></div></div>'),Pn=x("<li> </li>"),Mn=x('<div class="rounded-md bg-blue-50 p-4 border border-blue-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-blue-800"> </h3> <div class="mt-2 text-sm text-blue-700"><ul class="space-y-1"></ul></div></div></div></div>'),Tn=x('<div class="space-y-3"><!> <!> <!></div>'),Rn=x('<div class="text-center py-4"><div class="animate-spin w-6 h-6 border-2 border-gray-300 border-t-primary-600 rounded-full mx-auto"></div> <p class="mt-2 text-sm text-gray-500">Validating configuration...</p></div>'),On=x('<div class="rounded-md bg-green-50 p-4 border border-green-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-green-800">Configuration Valid</h3> <div class="mt-2 text-sm text-green-700"><p>Your configuration meets all requirements and constraints.</p></div></div></div></div>');function $r(e,t){Ut(t,!0);let r=vt(t,"showSuggestions",3,!0),i=kt(()=>d.validationResults.filter(h=>h.severity==="error"||h.level==="error")),a=kt(()=>d.validationResults.filter(h=>h.severity==="warning"||h.level==="warning")),s=kt(()=>d.validationResults.filter(h=>h.severity==="info"||h.level==="suggestion"));var l=ne(),u=Yt(l);{var c=h=>{var b=Tn(),f=n(b);{var w=M=>{var S=Cn(),p=n(S),C=v(n(p),2),I=n(C),F=n(I),A=v(I,2),K=n(A);It(K,21,()=>o(i),Et,(z,G)=>{var $=kn(),tt=n($);T(()=>k(tt,`• ${o(G).message??""}`)),g(z,$)}),T(()=>k(F,`Configuration Errors (${o(i).length??""})`)),g(M,S)};E(f,M=>{o(i).length>0&&M(w)})}var m=v(f,2);{var q=M=>{var S=In(),p=n(S),C=v(n(p),2),I=n(C),F=n(I),A=v(I,2),K=n(A);It(K,21,()=>o(a),Et,(z,G)=>{var $=En(),tt=n($);T(()=>k(tt,`• ${o(G).message??""}`)),g(z,$)}),T(()=>k(F,`Warnings (${o(a).length??""})`)),g(M,S)};E(m,M=>{o(a).length>0&&M(q)})}var O=v(m,2);{var j=M=>{var S=Mn(),p=n(S),C=v(n(p),2),I=n(C),F=n(I),A=v(I,2),K=n(A);It(K,21,()=>o(s),Et,(z,G)=>{var $=Pn(),tt=n($);T(()=>k(tt,`• ${o(G).message??""}`)),g(z,$)}),T(()=>k(F,`Suggestions (${o(s).length??""})`)),g(M,S)};E(O,M=>{r()&&o(s).length>0&&M(j)})}g(h,b)},_=(h,b)=>{{var f=m=>{var q=Rn();g(m,q)},w=m=>{var q=On();g(m,q)};E(h,m=>{d.isValidating?m(f):m(w,!1)},b)}};E(u,h=>{d.validationResults.length>0?h(c):h(_,!1)})}g(e,l),Ht()}var Dn=x('<div class="text-sm text-gray-500 mt-1"> </div>'),An=x('<div class="text-sm text-gray-600 mt-1"> </div>'),jn=x('<div class="text-sm text-gray-500"> </div>'),Ln=x('<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"><div class="flex-1"><div class="font-medium text-gray-900"> </div> <!> <!></div> <div class="text-right"><div class="font-medium text-gray-900"> </div> <!></div></div>'),Nn=x('<div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Selected Options</h3> <div class="space-y-4"></div></div>'),qn=(e,t)=>H(t,!0),Fn=()=>d.saveConfiguration(),Vn=(e,t)=>H(t,!1),zn=e=>e.stopPropagation(),Bn=(e,t,r)=>t(o(r)),Un=(e,t)=>H(t,!1),Hn=x('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 max-w-md w-full mx-4"><h3 class="text-lg font-medium text-gray-900 mb-4">Share Configuration</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Shareable Link</label> <div class="flex"><input type="text" readonly="" class="flex-1 px-3 py-2 border border-gray-300 rounded-l-md text-sm bg-gray-50"/> <button type="button" class="px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 transition-colors text-sm"> </button></div></div> <div class="flex justify-end space-x-3"><button type="button" class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">Close</button></div></div></div></div>'),Yn=x('<div class="space-y-6"><div class="bg-white rounded-lg border border-gray-200 p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Configuration Summary</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="text-center p-4 bg-gray-50 rounded-lg"><div class="text-2xl font-bold text-primary-600"> </div> <div class="text-sm text-gray-500">Options Selected</div></div> <div class="text-center p-4 bg-gray-50 rounded-lg"><div class="text-2xl font-bold text-primary-600"> </div> <div class="text-sm text-gray-500">Complete</div></div> <div class="text-center p-4 bg-gray-50 rounded-lg"><div> </div> <div class="text-sm text-gray-500"> </div></div></div></div> <!> <div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Validation Status</h3> <!></div> <!> <div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Actions</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><button type="button" class="flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg> Share Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Export Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path></svg> Save Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 3H3m4 10v6a1 1 0 001 1h6a1 1 0 001-1v-6m-8 0V9a1 1 0 011-1h6a1 1 0 011 1v4.01"></path></svg> Request Quote</button></div></div></div> <!>',1);function Gn(e,t){Ut(t,!0);let r=kt(()=>d.generateShareableUrl()),i=Z(!1),a=Z(!1);async function s(N){try{await navigator.clipboard.writeText(N),H(a,!0),setTimeout(()=>H(a,!1),2e3)}catch(D){console.warn("Failed to copy to clipboard:",D)}}function l(){const N=d.exportConfiguration(),D=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),Q=URL.createObjectURL(D),et=document.createElement("a");et.href=Q,et.download=`configuration-${Date.now()}.json`,et.click(),URL.revokeObjectURL(Q)}var u=Yn(),c=Yt(u),_=n(c),h=v(n(_),2),b=n(h),f=n(b),w=n(f),m=v(b,2),q=n(m),O=n(q),j=v(m,2),M=n(j),S=n(M),p=v(M,2),C=n(p),I=v(_,2);{var F=N=>{var D=Nn(),Q=v(n(D),2);It(Q,21,()=>d.selectedOptions,Et,(et,Y)=>{var dt=Ln(),B=n(dt),V=n(B),W=n(V),at=v(V,2);{var nt=U=>{var lt=Dn(),gt=n(lt);T(()=>k(gt,o(Y).description)),g(U,lt)};E(at,U=>{o(Y).description&&U(nt)})}var ct=v(at,2);{var ft=U=>{var lt=An(),gt=n(lt);T(()=>k(gt,`Quantity: ${d.selections[o(Y).id]??""}`)),g(U,lt)};E(ct,U=>{d.selections[o(Y).id]>1&&U(ft)})}var pt=v(B,2),_t=n(pt),Mt=n(_t),At=v(_t,2);{var ot=U=>{var lt=jn(),gt=n(lt);T(Ft=>k(gt,`$${Ft??""} each`),[()=>o(Y).base_price.toFixed(2)]),g(U,lt)};E(At,U=>{d.selections[o(Y).id]>1&&U(ot)})}T(U=>{k(W,o(Y).name),k(Mt,`$${U??""}`)},[()=>(o(Y).base_price*d.selections[o(Y).id]).toFixed(2)]),g(et,dt)}),g(N,D)};E(I,N=>{d.selectedOptions.length>0&&N(F)})}var A=v(I,2),K=v(n(A),2);$r(K,{});var z=v(A,2);Xr(z,{detailed:!0});var G=v(z,2),$=v(n(G),2),tt=n($);tt.__click=[qn,i];var R=v(tt,2);R.__click=l;var y=v(R,2);y.__click=[Fn];var P=v(y,2),L=v(c,2);{var it=N=>{var D=Hn();D.__click=[Vn,i];var Q=n(D);Q.__click=[zn];var et=v(n(Q),2),Y=n(et),dt=v(n(Y),2),B=n(dt),V=v(B,2);V.__click=[Bn,s,r];var W=n(V),at=v(Y,2),nt=n(at);nt.__click=[Un,i],T(()=>{ha(B,o(r)),k(W,o(a)?"Copied!":"Copy")}),g(N,D)};E(L,N=>{o(i)&&N(it)})}T(()=>{k(w,d.selectedOptions.length),k(O,`${d.completionPercentage??""}%`),ut(M,1,`text-2xl font-bold ${d.isValid?"text-green-600":"text-red-600"}`),k(S,d.isValid?"✓":"✗"),k(C,d.isValid?"Valid":"Has Errors"),y.disabled=!d.isValid,P.disabled=!d.isValid}),g(e,u),Ht()}ae(["click"]);function Qn(e,t,r,i){const a=d.exportConfiguration();t()&&t()(a),r("complete",a),i()&&window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-complete",configuration:a},"*")}var Jn=x('<div class="text-sm text-red-500"> </div>'),Kn=x('<div class="text-sm text-green-600">Valid</div>'),Wn=x('<div class="cpq-embed-header bg-white border-b border-gray-200 p-4"><div class="flex items-center justify-between"><div><h1 class="text-lg font-semibold text-gray-900"> </h1> <div class="text-sm text-gray-500"> </div></div> <div class="text-right"><div class="text-lg font-bold text-primary-600"> </div> <!></div></div> <div class="mt-3"><div class="bg-gray-200 rounded-full h-2"><div class="bg-primary-600 h-2 rounded-full transition-all duration-300"></div></div></div></div>'),Zn=x('<p class="mt-1 text-gray-600"> </p>'),Xn=x('<div class="mb-8"><div class="flex items-center justify-between mb-6"><div><h1 class="text-2xl font-bold text-gray-900"> </h1> <!></div> <div class="text-right"><div class="text-sm text-gray-500">Progress</div> <div class="text-lg font-semibold text-primary-600"> </div></div></div> <!></div>'),$n=x('<div><span class="text-gray-500"> </span> <span class="ml-2 text-gray-900"> </span></div>'),ts=x('<div><h3 class="text-sm font-medium text-gray-700 mb-2">Specifications</h3> <div class="grid grid-cols-2 gap-4 text-sm"></div></div>'),es=()=>d.nextStep(),rs=x('<div class="bg-white rounded-lg border border-gray-200 p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Product Overview</h2> <div class="space-y-4"><!> <div class="pt-4"><button type="button" class="bg-primary-600 text-white px-6 py-3 rounded-md font-medium hover:bg-primary-700 transition-colors">Start Configuring</button></div></div></div>'),is=x('<div class="bg-white rounded-lg border border-gray-200 p-6"><!></div>'),as=x('<div class="text-center py-8 text-gray-500">No configuration options available.</div>'),ns=x('<div class="bg-white rounded-lg border border-gray-200 p-6"><!></div>'),ss=x('<div class="space-y-6"><!> <!></div>'),os=()=>d.goToStep(1),ls=x('<div class="bg-white rounded-lg border border-gray-200 p-8 text-center"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-gray-900 mb-2">Configuration Complete!</h2> <p class="text-gray-600 mb-6">Your product configuration has been finalized.</p> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-md mx-auto"><button type="button" class="bg-primary-600 text-white px-4 py-2 rounded-md font-medium hover:bg-primary-700 transition-colors">Get Quote</button> <button type="button" class="border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors">Modify</button></div></div>'),ds=()=>d.previousStep(),vs=()=>d.nextStep(),us=x('<button type="button"> <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>'),cs=()=>d.clearSelections(),fs=()=>d.saveConfiguration(),_s=x('<div class="cpq-sidebar"><div class="sticky top-8 space-y-6"><!> <div class="bg-white rounded-lg border border-gray-200 p-4"><h3 class="text-sm font-medium text-gray-900 mb-3">Quick Actions</h3> <div class="space-y-2"><button type="button" class="w-full text-left text-sm text-gray-600 hover:text-gray-900 p-2 rounded hover:bg-gray-50">Clear All</button> <button type="button" class="w-full text-left text-sm text-gray-600 hover:text-gray-900 p-2 rounded hover:bg-gray-50">Save Progress</button></div></div></div></div>'),gs=x('<!> <div><!> <div class="mt-6 flex justify-between"><button type="button"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> Previous</button> <!></div></div> <!>',1),hs=x('<div class="text-center py-12"><h2 class="text-xl font-semibold text-gray-900 mb-2">Model Not Found</h2> <p class="text-gray-600">The requested model could not be found.</p></div>'),ps=x("<div><!></div>");function ms(e,t){Ut(t,!0);let r=vt(t,"theme",7,"light"),i=vt(t,"apiUrl",3,"http://localhost:8080/api/v1"),a=vt(t,"embedMode",3,!1),s=vt(t,"onComplete",3,null),l=vt(t,"onConfigurationChange",3,null),u=vt(t,"onError",3,null);const c=Hr();let _=Z(0),h=Nt(a());typeof window<"u"&&(window.__API_BASE_URL__=i()),aa(()=>{d.initialize(),d.setModelId(t.modelId),document.documentElement.setAttribute("data-theme",r()),a()&&b()});function b(){window.addEventListener("message",f),window.parent!==window&&window.parent.postMessage({type:"cpq-configurator-ready",modelId:t.modelId},"*"),new ResizeObserver(()=>{window.parent!==window&&window.parent.postMessage({type:"cpq-configurator-resize",height:document.body.scrollHeight},"*")}).observe(document.body)}function f(M){const{type:S,data:p}=M.data;switch(S){case"cpq-set-theme":r(p.theme),document.documentElement.setAttribute("data-theme",r());break;case"cpq-load-configuration":p.config&&d.loadFromShareableUrl(p.config);break;case"cpq-get-configuration":window.parent.postMessage({type:"cpq-configuration-data",configuration:d.exportConfiguration()},"*");break}}function w(){rr(_),d.reset(),d.setModelId(t.modelId)}Ot(()=>{l()&&l()(d.exportConfiguration()),a()&&window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-change",configuration:d.exportConfiguration()},"*")}),Ot(()=>{d.error&&u()&&u()(d.error)});var m=ps(),q=n(m);{var O=M=>{qa(M,{get error(){return d.error},context:"Configurator",get retryCount(){return o(_)},$$events:{retry:w}})},j=(M,S)=>{{var p=I=>{Oa(I,{size:"lg",message:"Loading configurator..."})},C=(I,F)=>{{var A=z=>{var G=gs(),$=Yt(G);{var tt=B=>{var V=Wn(),W=n(V),at=n(W),nt=n(at),ct=n(nt),ft=v(nt,2),pt=n(ft),_t=v(at,2),Mt=n(_t),At=n(Mt),ot=v(Mt,2);{var U=Tt=>{var se=Jn(),Ee=n(se);T(()=>k(Ee,`${d.validationResults.length??""} issues`)),g(Tt,se)},lt=(Tt,se)=>{{var Ee=ur=>{var ws=Kn();g(ur,ws)};E(Tt,ur=>{d.selectedOptions.length>0&&ur(Ee)},se)}};E(ot,Tt=>{d.validationResults.length>0?Tt(U):Tt(lt,!1)})}var gt=v(W,2),Ft=n(gt),Wt=n(Ft);T(Tt=>{k(ct,d.model.name),k(pt,`Step ${d.currentStep+1} of 4 • ${d.completionPercentage??""}% complete`),k(At,`$${Tt??""}`),fa(Wt,`width: ${d.completionPercentage??""}%`)},[()=>d.totalPrice.toFixed(2)]),g(B,V)},R=B=>{var V=Xn(),W=n(V),at=n(W),nt=n(at),ct=n(nt),ft=v(nt,2);{var pt=U=>{var lt=Zn(),gt=n(lt);T(()=>k(gt,d.model.description)),g(U,lt)};E(ft,U=>{d.model.description&&U(pt)})}var _t=v(at,2),Mt=v(n(_t),2),At=n(Mt),ot=v(W,2);Ia(ot,{}),T(()=>{k(ct,d.model.name),k(At,`${d.completionPercentage??""}%`)}),g(B,V)};E($,B=>{a()?B(tt):B(R,!1)})}var y=v($,2),P=n(y);{var L=B=>{var V=rs(),W=v(n(V),2),at=n(W);{var nt=pt=>{var _t=ts(),Mt=v(n(_t),2);It(Mt,21,()=>Object.entries(d.model.specifications),Et,(At,ot)=>{var U=kt(()=>hi(o(ot),2));let lt=()=>o(U)[0],gt=()=>o(U)[1];var Ft=$n(),Wt=n(Ft),Tt=n(Wt),se=v(Wt,2),Ee=n(se);T(()=>{k(Tt,`${lt()??""}:`),k(Ee,gt())}),g(At,Ft)}),g(pt,_t)};E(at,pt=>{d.model.specifications&&pt(nt)})}var ct=v(at,2),ft=n(ct);ft.__click=[es],g(B,V)},it=(B,V)=>{{var W=nt=>{var ct=ss(),ft=n(ct);{var pt=ot=>{var U=ne(),lt=Yt(U);It(lt,17,()=>d.model.option_groups,Et,(gt,Ft)=>{var Wt=is(),Tt=n(Wt);cn(Tt,{get group(){return o(Ft)}}),g(gt,Wt)}),g(ot,U)},_t=ot=>{var U=as();g(ot,U)};E(ft,ot=>{d.model.option_groups&&d.model.option_groups.length>0?ot(pt):ot(_t,!1)})}var Mt=v(ft,2);{var At=ot=>{var U=ns(),lt=n(U);$r(lt,{}),g(ot,U)};E(Mt,ot=>{(d.validationResults.length>0||d.isValidating)&&ot(At)})}g(nt,ct)},at=(nt,ct)=>{{var ft=_t=>{Gn(_t,{})},pt=(_t,Mt)=>{{var At=ot=>{var U=ls(),lt=v(n(U),6),gt=n(lt);gt.__click=[Qn,s,c,a];var Ft=v(gt,2);Ft.__click=[os],g(ot,U)};E(_t,ot=>{d.currentStep===3&&ot(At)},Mt)}};E(nt,_t=>{d.currentStep===2?_t(ft):_t(pt,!1)},ct)}};E(B,nt=>{d.currentStep===1?nt(W):nt(at,!1)},V)}};E(P,B=>{d.currentStep===0?B(L):B(it,!1)})}var N=v(P,2),D=n(N);D.__click=[ds];var Q=v(D,2);{var et=B=>{var V=us();V.__click=[vs];var W=n(V);T(()=>{ut(V,1,`flex items-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors
                   ${d.canProceedToNextStep?"":"opacity-50 cursor-not-allowed"}`),V.disabled=!d.canProceedToNextStep,k(W,`${d.currentStep===2?"Complete":"Next"} `)}),g(B,V)};E(Q,B=>{d.currentStep<3&&B(et)})}var Y=v(y,2);{var dt=B=>{var V=_s(),W=n(V),at=n(W);Xr(at,{});var nt=v(at,2),ct=v(n(nt),2),ft=n(ct);ft.__click=[cs];var pt=v(ft,2);pt.__click=[fs],g(B,V)};E(Y,B=>{a()||B(dt)})}T(()=>{ut(y,1,a()?"cpq-embed-content":"cpq-full-content","svelte-k7ary"),ut(D,1,`flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors
                 ${d.currentStep===0?"opacity-50 cursor-not-allowed":""}`),D.disabled=d.currentStep===0}),g(z,G)},K=z=>{var G=hs();g(z,G)};E(I,z=>{d.model?z(A):z(K,!1)},F)}};E(M,I=>{d.isLoading?I(p):I(C,!1)},S)}};E(q,M=>{d.error?M(O):M(j,!1)})}T(()=>{ut(m,1,`cpq-configurator ${a()?"cpq-embed-mode":""} ${h?"cpq-compact":""}`,"svelte-k7ary"),Gr(m,"data-theme",r())}),g(e,m),Ht()}ae(["click"]);const vr=new URLSearchParams(window.location.search),xs=vr.get("model")||window.location.pathname.split("/").pop(),bs=vr.get("theme")||"light",ys=vr.get("api")||"http://localhost:8080/api/v1";return new ms({target:document.body,props:{modelId:xs,theme:bs,apiUrl:ys,embedMode:!0,onComplete:e=>{window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-complete",configuration:e},"*")},onConfigurationChange:e=>{window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-change",configuration:e},"*")},onError:e=>{window.parent!==window&&window.parent.postMessage({type:"cpq-error",error:e.message},"*")}}})}();
