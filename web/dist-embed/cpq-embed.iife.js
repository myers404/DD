var CPQEmbed=function(){"use strict";var di=de=>{throw TypeError(de)};var _r=(de,oe,ce)=>oe.has(de)||di("Cannot "+ce);var j=(de,oe,ce)=>(_r(de,oe,"read from private field"),ce?ce.call(de):oe.get(de)),ae=(de,oe,ce)=>oe.has(de)?di("Cannot add the same private member more than once"):oe instanceof WeakSet?oe.add(de):oe.set(de,ce),Ue=(de,oe,ce,Ge)=>(_r(de,oe,"write to private field"),Ge?Ge.call(de,ce):oe.set(de,ce),ce),gr=(de,oe,ce)=>(_r(de,oe,"access private method"),ce);var si,vt,ct,ft,_t,gt,ht,pt,mt,xt,yt,bt,wt,St,Et,at,ot,Re,ze,kt,hr;var oe=Array.isArray,ce=Array.prototype.indexOf,Ge=Array.from,ui=Object.defineProperty,Je=Object.getOwnPropertyDescriptor,pr=Object.getOwnPropertyDescriptors,vi=Object.prototype,ci=Array.prototype,Gt=Object.getPrototypeOf,mr=Object.isExtensible;function fi(t){return t()}function Jt(t){for(var e=0;e<t.length;e++)t[e]()}const we=2,xr=4,It=8,Qt=16,Ie=32,Qe=64,Wt=128,_e=256,Mt=512,ge=1024,Me=2048,He=4096,Pe=8192,Kt=16384,yr=32768,Zt=65536,_i=1<<17,gi=1<<19,br=1<<20,Xt=1<<21,We=Symbol("$state"),hi=Symbol("legacy props"),pi=Symbol("");function wr(t){return t===this.v}function mi(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function $t(t){return!mi(t,this.v)}function xi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function yi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function wi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Si(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ei(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ki(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ci(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ke=!1,po=!1;function Ii(){Ke=!0}const er=1,tr=2,Sr=4,Mi=8,Pi=16,Ti=1,Oi=2,Di=4,Ri=8,Ai=16,Ni=1,Li=2,fe=Symbol(),ji="http://www.w3.org/1999/xhtml";function Er(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ie=null;function kr(t){ie=t}function Te(t,e=!1,r){var i=ie={p:ie,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Ke&&!e&&(ie.l={s:null,u:null,r1:[],r2:lt(!1)}),Ui(()=>{i.d=!0})}function Oe(t){const e=ie;if(e!==null){const s=e.e;if(s!==null){var r=W,i=X;e.e=null;try{for(var n=0;n<s.length;n++){var a=s[n];tt(a.effect),qe(a.reaction),jr(a.fn)}}finally{tt(r),qe(i)}}ie=e.p,e.m=!0}return{}}function Pt(){return!Ke||ie!==null&&ie.l===null}function ke(t){if(typeof t!="object"||t===null||We in t)return t;const e=Gt(t);if(e!==vi&&e!==ci)return t;var r=new Map,i=oe(t),n=Q(0),a=X,s=u=>{var v=X;qe(a);var c=u();return qe(v),c};return i&&r.set("length",Q(t.length)),new Proxy(t,{defineProperty(u,v,c){return(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Ei(),s(()=>{var f=r.get(v);f===void 0?(f=Q(c.value),r.set(v,f)):B(f,c.value,!0)}),!0},deleteProperty(u,v){var c=r.get(v);if(c===void 0){if(v in u){const d=s(()=>Q(fe));r.set(v,d),rr(n)}}else{if(i&&typeof v=="string"){var f=r.get("length"),g=Number(v);Number.isInteger(g)&&g<f.v&&B(f,g)}B(c,fe),rr(n)}return!0},get(u,v,c){if(v===We)return t;var f=r.get(v),g=v in u;if(f===void 0&&(!g||Je(u,v)?.writable)&&(f=s(()=>{var p=ke(g?u[v]:fe),m=Q(p);return m}),r.set(v,f)),f!==void 0){var d=l(f);return d===fe?void 0:d}return Reflect.get(u,v,c)},getOwnPropertyDescriptor(u,v){var c=Reflect.getOwnPropertyDescriptor(u,v);if(c&&"value"in c){var f=r.get(v);f&&(c.value=l(f))}else if(c===void 0){var g=r.get(v),d=g?.v;if(g!==void 0&&d!==fe)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return c},has(u,v){if(v===We)return!0;var c=r.get(v),f=c!==void 0&&c.v!==fe||Reflect.has(u,v);if(c!==void 0||W!==null&&(!f||Je(u,v)?.writable)){c===void 0&&(c=s(()=>{var d=f?ke(u[v]):fe,p=Q(d);return p}),r.set(v,c));var g=l(c);if(g===fe)return!1}return f},set(u,v,c,f){var g=r.get(v),d=v in u;if(i&&v==="length")for(var p=c;p<g.v;p+=1){var m=r.get(p+"");m!==void 0?B(m,fe):p in u&&(m=s(()=>Q(fe)),r.set(p+"",m))}if(g===void 0)(!d||Je(u,v)?.writable)&&(g=s(()=>{var y=Q(void 0);return B(y,ke(c)),y}),r.set(v,g));else{d=g.v!==fe;var D=s(()=>ke(c));B(g,D)}var R=Reflect.getOwnPropertyDescriptor(u,v);if(R?.set&&R.set.call(f,c),!d){if(i&&typeof v=="string"){var A=r.get("length"),P=Number(v);Number.isInteger(P)&&P>=A.v&&B(A,P+1)}rr(n)}return!0},ownKeys(u){l(n);var v=Reflect.ownKeys(u).filter(g=>{var d=r.get(g);return d===void 0||d.v!==fe});for(var[c,f]of r)f.v!==fe&&!(c in u)&&v.push(c);return v},setPrototypeOf(){ki()}})}function rr(t,e=1){B(t,t.v+e)}function Ze(t){var e=we|Me,r=X!==null&&(X.f&we)!==0?X:null;return W===null||r!==null&&(r.f&_e)!==0?e|=_e:W.f|=br,{ctx:ie,deps:null,effects:null,equals:wr,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??W}}function me(t){const e=Ze(t);return Yr(e),e}function Cr(t){const e=Ze(t);return e.equals=$t,e}function Ir(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)je(e[r])}}function qi(t){for(var e=t.parent;e!==null;){if((e.f&we)===0)return e;e=e.parent}return null}function Mr(t){var e,r=W;tt(qi(t));try{Ir(t),e=Wr(t)}finally{tt(r)}return e}function Pr(t){var e=Mr(t);if(t.equals(e)||(t.v=e,t.wv=Jr()),!et){var r=(Fe||(t.f&_e)!==0)&&t.deps!==null?He:ge;Ee(t,r)}}const st=new Map;function lt(t,e){var r={f:0,v:t,reactions:null,equals:wr,rv:0,wv:0};return r}function Q(t,e){const r=lt(t);return Yr(r),r}function Tr(t,e=!1,r=!0){var n;const i=lt(t);return e||(i.equals=$t),Ke&&r&&ie!==null&&ie.l!==null&&((n=ie.l).s??(n.s=[])).push(i),i}function B(t,e,r=!1){X!==null&&!Ce&&Pt()&&(X.f&(we|Qt))!==0&&!De?.includes(t)&&Ci();let i=r?ke(e):e;return ir(t,i)}function ir(t,e){if(!t.equals(e)){var r=t.v;et?st.set(t,e):st.set(t,r),t.v=e,(t.f&we)!==0&&((t.f&Me)!==0&&Mr(t),Ee(t,(t.f&_e)===0?ge:He)),t.wv=Jr(),Or(t,Me),Pt()&&W!==null&&(W.f&ge)!==0&&(W.f&(Ie|Qe))===0&&(xe===null?Xi([t]):xe.push(t))}return e}function nr(t,e=1){var r=l(t),i=e===1?r++:r--;return B(t,r),i}function Or(t,e){var r=t.reactions;if(r!==null)for(var i=Pt(),n=r.length,a=0;a<n;a++){var s=r[a],u=s.f;(u&Me)===0&&(!i&&s===W||(Ee(s,e),(u&(ge|_e))!==0&&((u&we)!==0?Or(s,He):Vt(s))))}}let Fi=!1;var Dr,Rr,Ar,Nr;function Vi(){if(Dr===void 0){Dr=window,Rr=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;Ar=Je(e,"firstChild").get,Nr=Je(e,"nextSibling").get,mr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),mr(r)&&(r.__t=void 0)}}function Tt(t=""){return document.createTextNode(t)}function Xe(t){return Ar.call(t)}function Ot(t){return Nr.call(t)}function o(t,e){return Xe(t)}function Le(t,e){{var r=Xe(t);return r instanceof Comment&&r.data===""?Ot(r):r}}function _(t,e=1,r=!1){let i=t;for(;e--;)i=Ot(i);return i}function zi(t){t.textContent=""}function Lr(t){W===null&&X===null&&bi(),X!==null&&(X.f&_e)!==0&&W===null&&yi(),et&&xi()}function Bi(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function $e(t,e,r,i=!0){var n=W,a={ctx:ie,deps:null,nodes_start:null,nodes_end:null,f:t|Me,first:null,fn:e,last:null,next:null,parent:n,prev:null,teardown:null,transitions:null,wv:0};if(r)try{lr(a),a.f|=yr}catch(v){throw je(a),v}else e!==null&&Vt(a);var s=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(br|Wt))===0;if(!s&&i&&(n!==null&&Bi(a,n),X!==null&&(X.f&we)!==0)){var u=X;(u.effects??(u.effects=[])).push(a)}return a}function Ui(t){const e=$e(It,null,!1);return Ee(e,ge),e.teardown=t,e}function Se(t){Lr();var e=W!==null&&(W.f&Ie)!==0&&ie!==null&&!ie.m;if(e){var r=ie;(r.e??(r.e=[])).push({fn:t,effect:W,reaction:X})}else{var i=jr(t);return i}}function Hi(t){return Lr(),Gi(t)}function Yi(t){const e=$e(Qe,t,!0);return(r={})=>new Promise(i=>{r.outro?Dt(e,()=>{je(e),i(void 0)}):(je(e),i(void 0))})}function jr(t){return $e(xr,t,!1)}function Gi(t){return $e(It,t,!0)}function O(t,e=[],r=Ze){const i=e.map(r);return ar(()=>t(...i.map(l)))}function ar(t,e=0){return $e(It|Qt|e,t,!0)}function dt(t,e=!0){return $e(It|Ie,t,!0,e)}function qr(t){var e=t.teardown;if(e!==null){const r=et,i=X;Hr(!0),qe(null);try{e.call(null)}finally{Hr(r),qe(i)}}}function Fr(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var i=r.next;(r.f&Qe)!==0?r.parent=null:je(r,e),r=i}}function Ji(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Ie)===0&&je(e),e=r}}function je(t,e=!0){var r=!1;(e||(t.f&gi)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Qi(t.nodes_start,t.nodes_end),r=!0),Fr(t,e&&!r),Ft(t,0),Ee(t,Kt);var i=t.transitions;if(i!==null)for(const a of i)a.stop();qr(t);var n=t.parent;n!==null&&n.first!==null&&Vr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Qi(t,e){for(;t!==null;){var r=t===e?null:Ot(t);t.remove(),t=r}}function Vr(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function Dt(t,e){var r=[];or(t,r,!0),zr(r,()=>{je(t),e&&e()})}function zr(t,e){var r=t.length;if(r>0){var i=()=>--r||e();for(var n of t)n.out(i)}else e()}function or(t,e,r){if((t.f&Pe)===0){if(t.f^=Pe,t.transitions!==null)for(const s of t.transitions)(s.is_global||r)&&e.push(s);for(var i=t.first;i!==null;){var n=i.next,a=(i.f&Zt)!==0||(i.f&Ie)!==0;or(i,e,a?r:!1),i=n}}}function Rt(t){Br(t,!0)}function Br(t,e){if((t.f&Pe)!==0){t.f^=Pe,(t.f&ge)!==0&&(Ee(t,Me),Vt(t));for(var r=t.first;r!==null;){var i=r.next,n=(r.f&Zt)!==0||(r.f&Ie)!==0;Br(r,n?e:!1),r=i}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}let At=[];function Wi(){var t=At;At=[],Jt(t)}function Ki(t){At.length===0&&queueMicrotask(Wi),At.push(t)}function Zi(t){var e=W;if((e.f&yr)===0){if((e.f&Wt)===0)throw t;e.fn(t)}else Ur(t,e)}function Ur(t,e){for(;e!==null;){if((e.f&Wt)!==0)try{e.fn(t);return}catch{}e=e.parent}throw t}let sr=!1,Nt=null,Ye=!1,et=!1;function Hr(t){et=t}let Lt=[],mo=[],X=null,Ce=!1;function qe(t){X=t}let W=null;function tt(t){W=t}let De=null;function Yr(t){X!==null&&X.f&Xt&&(De===null?De=[t]:De.push(t))}let ve=null,he=0,xe=null;function Xi(t){xe=t}let Gr=1,jt=0,Fe=!1;function Jr(){return++Gr}function qt(t){var e=t.f;if((e&Me)!==0)return!0;if((e&He)!==0){var r=t.deps,i=(e&_e)!==0;if(r!==null){var n,a,s=(e&Mt)!==0,u=i&&W!==null&&!Fe,v=r.length;if(s||u){var c=t,f=c.parent;for(n=0;n<v;n++)a=r[n],(s||!a?.reactions?.includes(c))&&(a.reactions??(a.reactions=[])).push(c);s&&(c.f^=Mt),u&&f!==null&&(f.f&_e)===0&&(c.f^=_e)}for(n=0;n<v;n++)if(a=r[n],qt(a)&&Pr(a),a.wv>t.wv)return!0}(!i||W!==null&&!Fe)&&Ee(t,ge)}return!1}function Qr(t,e,r=!0){var i=t.reactions;if(i!==null)for(var n=0;n<i.length;n++){var a=i[n];De?.includes(t)||((a.f&we)!==0?Qr(a,e,!1):e===a&&(r?Ee(a,Me):(a.f&ge)!==0&&Ee(a,He),Vt(a)))}}function Wr(t){var p;var e=ve,r=he,i=xe,n=X,a=Fe,s=De,u=ie,v=Ce,c=t.f;ve=null,he=0,xe=null,Fe=(c&_e)!==0&&(Ce||!Ye||X===null),X=(c&(Ie|Qe))===0?t:null,De=null,kr(t.ctx),Ce=!1,jt++,t.f|=Xt;try{var f=(0,t.fn)(),g=t.deps;if(ve!==null){var d;if(Ft(t,he),g!==null&&he>0)for(g.length=he+ve.length,d=0;d<ve.length;d++)g[he+d]=ve[d];else t.deps=g=ve;if(!Fe)for(d=he;d<g.length;d++)((p=g[d]).reactions??(p.reactions=[])).push(t)}else g!==null&&he<g.length&&(Ft(t,he),g.length=he);if(Pt()&&xe!==null&&!Ce&&g!==null&&(t.f&(we|He|Me))===0)for(d=0;d<xe.length;d++)Qr(xe[d],t);return n!==null&&n!==t&&(jt++,xe!==null&&(i===null?i=xe:i.push(...xe))),f}catch(m){Zi(m)}finally{ve=e,he=r,xe=i,X=n,Fe=a,De=s,kr(u),Ce=v,t.f^=Xt}}function $i(t,e){let r=e.reactions;if(r!==null){var i=ce.call(r,t);if(i!==-1){var n=r.length-1;n===0?r=e.reactions=null:(r[i]=r[n],r.pop())}}r===null&&(e.f&we)!==0&&(ve===null||!ve.includes(e))&&(Ee(e,He),(e.f&(_e|Mt))===0&&(e.f^=Mt),Ir(e),Ft(e,0))}function Ft(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)$i(t,r[i])}function lr(t){var e=t.f;if((e&Kt)===0){Ee(t,ge);var r=W,i=Ye;W=t,Ye=!0;try{(e&Qt)!==0?Ji(t):Fr(t),qr(t);var n=Wr(t);t.teardown=typeof n=="function"?n:null,t.wv=Gr;var a}finally{Ye=i,W=r}}}function en(){try{wi()}catch(t){if(Nt!==null)Ur(t,Nt);else throw t}}function tn(){var t=Ye;try{var e=0;for(Ye=!0;Lt.length>0;){e++>1e3&&en();var r=Lt,i=r.length;Lt=[];for(var n=0;n<i;n++){var a=nn(r[n]);rn(a)}st.clear()}}finally{sr=!1,Ye=t,Nt=null}}function rn(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var i=t[r];(i.f&(Kt|Pe))===0&&qt(i)&&(lr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Vr(i):i.fn=null))}}function Vt(t){sr||(sr=!0,queueMicrotask(tn));for(var e=Nt=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Qe|Ie))!==0){if((r&ge)===0)return;e.f^=ge}}Lt.push(e)}function nn(t){for(var e=[],r=t;r!==null;){var i=r.f,n=(i&(Ie|Qe))!==0,a=n&&(i&ge)!==0;if(!a&&(i&Pe)===0){(i&xr)!==0?e.push(r):n?r.f^=ge:qt(r)&&lr(r);var s=r.first;if(s!==null){r=s;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function l(t){var e=t.f,r=(e&we)!==0;if(X!==null&&!Ce){if(!De?.includes(t)){var i=X.deps;t.rv<jt&&(t.rv=jt,ve===null&&i!==null&&i[he]===t?he++:ve===null?ve=[t]:(!Fe||!ve.includes(t))&&ve.push(t))}}else if(r&&t.deps===null&&t.effects===null){var n=t,a=n.parent;a!==null&&(a.f&_e)===0&&(n.f^=_e)}return r&&(n=t,qt(n)&&Pr(n)),et&&st.has(t)?st.get(t):t.v}function zt(t){var e=Ce;try{return Ce=!0,t()}finally{Ce=e}}const an=-7169;function Ee(t,e){t.f=t.f&an|e}function on(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(We in t)dr(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&We in r&&dr(r)}}}function dr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{dr(t[i],e)}catch{}const r=Gt(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=pr(r);for(let n in i){const a=i[n].get;if(a)try{a.call(t)}catch{}}}}}const sn=["touchstart","touchmove"];function ln(t){return sn.includes(t)}const Kr=new Set,ur=new Set;function rt(t){for(var e=0;e<t.length;e++)Kr.add(t[e]);for(var r of ur)r(t)}function Bt(t){var e=this,r=e.ownerDocument,i=t.type,n=t.composedPath?.()||[],a=n[0]||t.target,s=0,u=t.__root;if(u){var v=n.indexOf(u);if(v!==-1&&(e===document||e===window)){t.__root=e;return}var c=n.indexOf(e);if(c===-1)return;v<=c&&(s=v)}if(a=n[s]||t.target,a!==e){ui(t,"currentTarget",{configurable:!0,get(){return a||r}});var f=X,g=W;qe(null),tt(null);try{for(var d,p=[];a!==null;){var m=a.assignedSlot||a.parentNode||a.host||null;try{var D=a["__"+i];if(D!=null&&(!a.disabled||t.target===a))if(oe(D)){var[R,...A]=D;R.apply(a,[t,...A])}else D.call(a,t)}catch(P){d?p.push(P):d=P}if(t.cancelBubble||m===e||m===null)break;a=m}if(d){for(let P of p)queueMicrotask(()=>{throw P});throw d}}finally{t.__root=e,delete t.currentTarget,qe(f),tt(g)}}}function Zr(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function ut(t,e){var r=W;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function E(t,e){var r=(e&Ni)!==0,i=(e&Li)!==0,n,a=!t.startsWith("<!>");return()=>{n===void 0&&(n=Zr(a?t:"<!>"+t),r||(n=Xe(n)));var s=i||Rr?document.importNode(n,!0):n.cloneNode(!0);if(r){var u=Xe(s),v=s.lastChild;ut(u,v)}else ut(s,s);return s}}function dn(t,e,r="svg"){var i=!t.startsWith("<!>"),n=`<${r}>${i?t:"<!>"+t}</${r}>`,a;return()=>{if(!a){var s=Zr(n),u=Xe(s);a=Xe(u)}var v=a.cloneNode(!0);return ut(v,v),v}}function Xr(t,e){return dn(t,e,"svg")}function Ut(t=""){{var e=Tt(t+"");return ut(e,e),e}}function it(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Tt();return t.append(e,r),ut(e,r),t}function w(t,e){t!==null&&t.before(e)}function C(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function un(t,e){return vn(t,e)}const nt=new Map;function vn(t,{target:e,anchor:r,props:i={},events:n,context:a,intro:s=!0}){Vi();var u=new Set,v=g=>{for(var d=0;d<g.length;d++){var p=g[d];if(!u.has(p)){u.add(p);var m=ln(p);e.addEventListener(p,Bt,{passive:m});var D=nt.get(p);D===void 0?(document.addEventListener(p,Bt,{passive:m}),nt.set(p,1)):nt.set(p,D+1)}}};v(Ge(Kr)),ur.add(v);var c=void 0,f=Yi(()=>{var g=r??e.appendChild(Tt());return dt(()=>{if(a){Te({});var d=ie;d.c=a}n&&(i.$$events=n),c=t(g,i)||{},a&&Oe()}),()=>{for(var d of u){e.removeEventListener(d,Bt);var p=nt.get(d);--p===0?(document.removeEventListener(d,Bt),nt.delete(d)):nt.set(d,p)}ur.delete(v),g!==r&&g.parentNode?.removeChild(g)}});return cn.set(c,f),c}let cn=new WeakMap;function M(t,e,[r,i]=[0,0]){var n=t,a=null,s=null,u=fe,v=r>0?Zt:0,c=!1;const f=(d,p=!0)=>{c=!0,g(p,d)},g=(d,p)=>{u!==(u=d)&&(u?(a?Rt(a):p&&(a=dt(()=>p(n))),s&&Dt(s,()=>{s=null})):(s?Rt(s):p&&(s=dt(()=>p(n,[r+1,i]))),a&&Dt(a,()=>{a=null})))};ar(()=>{c=!1,e(f),c||g(null,null)},v)}function ye(t,e){return e}function fn(t,e,r,i){for(var n=[],a=e.length,s=0;s<a;s++)or(e[s].e,n,!0);var u=a>0&&n.length===0&&r!==null;if(u){var v=r.parentNode;zi(v),v.append(r),i.clear(),Ve(t,e[0].prev,e[a-1].next)}zr(n,()=>{for(var c=0;c<a;c++){var f=e[c];u||(i.delete(f.k),Ve(t,f.prev,f.next)),je(f.e,!u)}})}function be(t,e,r,i,n,a=null){var s=t,u={flags:e,items:new Map,first:null},v=(e&Sr)!==0;if(v){var c=t;s=c.appendChild(Tt())}var f=null,g=!1,d=Cr(()=>{var p=r();return oe(p)?p:p==null?[]:Ge(p)});ar(()=>{var p=l(d),m=p.length;g&&m===0||(g=m===0,_n(p,u,s,n,e,i,r),a!==null&&(m===0?f?Rt(f):f=dt(()=>a(s)):f!==null&&Dt(f,()=>{f=null})),l(d))})}function _n(t,e,r,i,n,a,s){var u=(n&Mi)!==0,v=(n&(er|tr))!==0,c=t.length,f=e.items,g=e.first,d=g,p,m=null,D,R=[],A=[],P,y,x,S;if(u)for(S=0;S<c;S+=1)P=t[S],y=a(P,S),x=f.get(y),x!==void 0&&(x.a?.measure(),(D??(D=new Set)).add(x));for(S=0;S<c;S+=1){if(P=t[S],y=a(P,S),x=f.get(y),x===void 0){var I=d?d.e.nodes_start:r;m=hn(I,e,m,m===null?e.first:m.next,P,y,S,i,n,s),f.set(y,m),R=[],A=[],d=m.next;continue}if(v&&gn(x,P,S,n),(x.e.f&Pe)!==0&&(Rt(x.e),u&&(x.a?.unfix(),(D??(D=new Set)).delete(x))),x!==d){if(p!==void 0&&p.has(x)){if(R.length<A.length){var N=A[0],L;m=N.prev;var K=R[0],Y=R[R.length-1];for(L=0;L<R.length;L+=1)$r(R[L],N,r);for(L=0;L<A.length;L+=1)p.delete(A[L]);Ve(e,K.prev,Y.next),Ve(e,m,K),Ve(e,Y,N),d=N,m=Y,S-=1,R=[],A=[]}else p.delete(x),$r(x,d,r),Ve(e,x.prev,x.next),Ve(e,x,m===null?e.first:m.next),Ve(e,m,x),m=x;continue}for(R=[],A=[];d!==null&&d.k!==y;)(d.e.f&Pe)===0&&(p??(p=new Set)).add(d),A.push(d),d=d.next;if(d===null)continue;x=d}R.push(x),m=x,d=x.next}if(d!==null||p!==void 0){for(var U=p===void 0?[]:Ge(p);d!==null;)(d.e.f&Pe)===0&&U.push(d),d=d.next;var $=U.length;if($>0){var Z=(n&Sr)!==0&&c===0?r:null;if(u){for(S=0;S<$;S+=1)U[S].a?.measure();for(S=0;S<$;S+=1)U[S].a?.fix()}fn(e,U,Z,f)}}u&&Ki(()=>{if(D!==void 0)for(x of D)x.a?.apply()}),W.first=e.first&&e.first.e,W.last=m&&m.e}function gn(t,e,r,i){(i&er)!==0&&ir(t.v,e),(i&tr)!==0?ir(t.i,r):t.i=r}function hn(t,e,r,i,n,a,s,u,v,c){var f=(v&er)!==0,g=(v&Pi)===0,d=f?g?Tr(n,!1,!1):lt(n):n,p=(v&tr)===0?s:lt(s),m={i:p,v:d,k:a,a:null,e:null,prev:r,next:i};try{return m.e=dt(()=>u(t,d,p,c),Fi),m.e.prev=r&&r.e,m.e.next=i&&i.e,r===null?e.first=m:(r.next=m,r.e.next=m.e),i!==null&&(i.prev=m,i.e.prev=m.e),m}finally{}}function $r(t,e,r){for(var i=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,a=t.e.nodes_start;a!==i;){var s=Ot(a);n.before(a),a=s}}function Ve(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function pn(t,e,r){var i=t==null?"":""+t;return i===""?null:i}function se(t,e,r,i,n,a){var s=t.__className;if(s!==r||s===void 0){var u=pn(r);u==null?t.removeAttribute("class"):t.className=u,t.__className=r}return a}const mn=Symbol("is custom element"),xn=Symbol("is html");function yn(t,e){var r=ti(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function ei(t,e,r,i){var n=ti(t);n[e]!==(n[e]=r)&&(e==="loading"&&(t[pi]=r),r==null?t.removeAttribute(e):typeof r!="string"&&bn(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function ti(t){return t.__attributes??(t.__attributes={[mn]:t.nodeName.includes("-"),[xn]:t.namespaceURI===ji})}var ri=new Map;function bn(t){var e=ri.get(t.nodeName);if(e)return e;ri.set(t.nodeName,e=[]);for(var r,i=t,n=Element.prototype;n!==i;){r=pr(i);for(var a in r)r[a].set&&e.push(a);i=Gt(i)}return e}function wn(t=!1){const e=ie,r=e.l.u;if(!r)return;let i=()=>on(e.s);if(t){let n=0,a={};const s=Ze(()=>{let u=!1;const v=e.s;for(const c in v)v[c]!==a[c]&&(a[c]=v[c],u=!0);return u&&n++,n});i=()=>l(s)}r.b.length&&Hi(()=>{ii(e,i),Jt(r.b)}),Se(()=>{const n=zt(()=>r.m.map(fi));return()=>{for(const a of n)typeof a=="function"&&a()}}),r.a.length&&Se(()=>{ii(e,i),Jt(r.a)})}function ii(t,e){if(t.l.s)for(const r of t.l.s)l(r);e()}let Ht=!1;function Sn(t){var e=Ht;try{return Ht=!1,[t(),Ht]}finally{Ht=e}}function ni(t){return t.ctx?.d??!1}function le(t,e,r,i){var n=(r&Ti)!==0,a=!Ke||(r&Oi)!==0,s=(r&Ri)!==0,u=(r&Ai)!==0,v=!1,c;s?[c,v]=Sn(()=>t[e]):c=t[e];var f=We in t||hi in t,g=s&&(Je(t,e)?.set??(f&&e in t&&(I=>t[e]=I)))||void 0,d=i,p=!0,m=!1,D=()=>(m=!0,p&&(p=!1,u?d=zt(i):d=i),d);c===void 0&&i!==void 0&&(g&&a&&Si(),c=D(),g&&g(c));var R;if(a)R=()=>{var I=t[e];return I===void 0?D():(p=!0,m=!1,I)};else{var A=(n?Ze:Cr)(()=>t[e]);A.f|=_i,R=()=>{var I=l(A);return I!==void 0&&(d=void 0),I===void 0?d:I}}if((r&Di)===0&&a)return R;if(g){var P=t.$$legacy;return function(I,N){return arguments.length>0?((!a||!N||P||v)&&g(N?R():I),I):R()}}var y=!1,x=Tr(c),S=Ze(()=>{var I=R(),N=l(x);return y?(y=!1,N):x.v=I});return s&&l(S),n||(S.equals=$t),function(I,N){if(arguments.length>0){const L=N?l(S):a&&s?ke(I):I;if(!S.equals(L)){if(y=!0,B(x,L),m&&d!==void 0&&(d=L),ni(S))return I;zt(()=>l(S))}return I}return ni(S)?S.v:l(S)}}function En(t){ie===null&&Er(),Ke&&ie.l!==null?Cn(ie).m.push(t):Se(()=>{const e=zt(t);if(typeof e=="function")return e})}function kn(t,e,{bubbles:r=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:i})}function ai(){const t=ie;return t===null&&Er(),(e,r,i)=>{const n=t.s.$$events?.[e];if(n){const a=oe(n)?n.slice():[n],s=kn(e,r,i);for(const u of a)u.call(t.x,s);return!s.defaultPrevented}return!0}}function Cn(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const In="5";typeof window<"u"&&((si=window.__svelte??(window.__svelte={})).v??(si.v=new Set)).add(In);class Mn{constructor(e,r={}){this.baseUrl=e||"http://localhost:8080/api/v1",this.modelId=r.modelId,this.authToken=r.authToken,this.timeout=r.timeout||1e4}async request(e,r={}){const i=`${this.baseUrl}${e}`,n={method:"GET",headers:{"Content-Type":"application/json",...this.authToken&&{Authorization:`Bearer ${this.authToken}`},...r.headers},...r};n.body&&typeof n.body=="object"&&(n.body=JSON.stringify(n.body));try{const a=new AbortController,s=setTimeout(()=>a.abort(),this.timeout),u=await fetch(i,{...n,signal:a.signal});if(clearTimeout(s),!u.ok)throw new Error(`HTTP ${u.status}: ${u.statusText}`);return await u.json()}catch(a){throw a.name==="AbortError"?new Error("Request timeout"):a}}async getModel(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}`)}async getModelOptions(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}/options`)}async createConfiguration(e={}){return this.request("/configurations",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(e).map(([r,i])=>({option_id:r,quantity:i}))}})}async updateConfiguration(e,r){return this.request(`/configurations/${e}`,{method:"PUT",body:{model_id:this.modelId,selections:Object.entries(r).map(([i,n])=>({option_id:i,quantity:n}))}})}async validateConfiguration(e){return this.request("/configurations/validate-selection",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(e).map(([r,i])=>({option_id:r,quantity:i}))}})}async calculatePricing(e,r={}){return this.request("/pricing/calculate",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(e).map(([i,n])=>({option_id:i,quantity:n})),context:r}})}async getVolumeTiers(){return this.request(`/pricing/volume-tiers/${this.modelId}`)}}class Pn{constructor(){ae(this,kt);ae(this,vt,Q(""));ae(this,ct,Q(null));ae(this,ft,Q(ke({})));ae(this,_t,Q(ke([])));ae(this,gt,Q(null));ae(this,ht,Q(!1));ae(this,pt,Q(!1));ae(this,mt,Q(!1));ae(this,xt,Q(null));ae(this,yt,Q(0));ae(this,bt,Q(null));ae(this,wt,Q(null));ae(this,St,Q(!1));ae(this,Et,Q(null));ae(this,at,"");ae(this,ot,"");ae(this,Re,new Map);ae(this,ze,!1);this.initialized=!1}get modelId(){return l(j(this,vt))}set modelId(e){B(j(this,vt),e,!0)}get model(){return l(j(this,ct))}set model(e){B(j(this,ct),e,!0)}get selections(){return l(j(this,ft))}set selections(e){B(j(this,ft),e,!0)}get validationResults(){return l(j(this,_t))}set validationResults(e){B(j(this,_t),e,!0)}get pricingData(){return l(j(this,gt))}set pricingData(e){B(j(this,gt),e,!0)}get isLoading(){return l(j(this,ht))}set isLoading(e){B(j(this,ht),e,!0)}get isValidating(){return l(j(this,pt))}set isValidating(e){B(j(this,pt),e,!0)}get isPricing(){return l(j(this,mt))}set isPricing(e){B(j(this,mt),e,!0)}get error(){return l(j(this,xt))}set error(e){B(j(this,xt),e,!0)}get currentStep(){return l(j(this,yt))}set currentStep(e){B(j(this,yt),e,!0)}get configurationId(){return l(j(this,bt))}set configurationId(e){B(j(this,bt),e,!0)}get lastSaved(){return l(j(this,wt))}set lastSaved(e){B(j(this,wt),e,!0)}get isDirty(){return l(j(this,St))}set isDirty(e){B(j(this,St),e,!0)}get api(){return l(j(this,Et))}set api(e){B(j(this,Et),e,!0)}initialize(){this.initialized||(this.initialized=!0,console.log("🔧 ConfigurationStore initialized"),Se(()=>{this.modelId&&!j(this,ze)&&(console.log("🔄 ModelId changed, initializing API client:",this.modelId),this.api=new Mn("http://localhost:8080/api/v1",{modelId:this.modelId}),this.loadModel())}),Se(()=>{const e=JSON.stringify(this.selections);if(this.api&&Object.keys(this.selections).length>0&&e!==j(this,at)){gr(this,kt,hr).call(this,"validation");const r=setTimeout(()=>{Ue(this,at,e),this.validateSelections()},300);j(this,Re).set("validation",r)}}),Se(()=>{const e=JSON.stringify(this.selections);if(this.api&&this.isValid&&Object.keys(this.selections).length>0&&e!==j(this,ot)){gr(this,kt,hr).call(this,"pricing");const r=setTimeout(()=>{Ue(this,ot,e),this.calculatePricing()},500);j(this,Re).set("pricing",r)}}),Se(()=>{if(this.isDirty&&this.configurationId){const e=setInterval(()=>{this.saveConfiguration()},3e4);return()=>clearInterval(e)}}))}get isValid(){return this.validationResults.length===0}get totalPrice(){return this.pricingData?.total_price||0}get basePrice(){return this.pricingData?.base_price||0}get adjustments(){return this.pricingData?.adjustments||[]}get selectedOptions(){if(!this.model?.option_groups)return[];const e=[];for(const r of this.model.option_groups)for(const i of r.options)this.selections[i.id]>0&&e.push({...i,quantity:this.selections[i.id],group_name:r.name});return e}get completionPercentage(){if(!this.model?.option_groups)return 0;const e=this.model.option_groups.filter(i=>i.required);if(e.length===0)return 100;const r=e.filter(i=>i.options.some(n=>this.selections[n.id]>0));return Math.round(r.length/e.length*100)}get canProceedToNextStep(){return this.completionPercentage>=100&&this.isValid}setModelId(e){console.log("🆔 setModelId called:",{current:this.modelId,new:e}),this.modelId!==e&&(console.log("🔄 ModelId changing from",this.modelId,"to",e),this.modelId=e,this.reset())}async loadModel(){if(!this.api||j(this,ze)){console.log("⚠️ Skipping loadModel - no API or already loading");return}Ue(this,ze,!0),this.isLoading=!0,this.error=null,console.log("📡 Loading model:",this.modelId);try{const e=await this.api.getModel();if(console.log("✅ Model loaded successfully:",e.name),this.model=e,Object.keys(this.selections).length===0){const r={};if(e.option_groups)for(const i of e.option_groups)for(const n of i.options)n.default_selected&&(r[n.id]=n.default_quantity||1);Object.keys(r).length>0&&(console.log("🎯 Setting initial selections:",r),this.selections=r,this.isDirty=!0)}}catch(e){this.error=e.message,console.error("❌ Failed to load model:",e)}finally{this.isLoading=!1,Ue(this,ze,!1),console.log("🏁 loadModel completed")}}updateSelection(e,r){(this.selections[e]||0)!==r&&(r>0?this.selections[e]=r:delete this.selections[e],this.isDirty=!0,this.selections={...this.selections})}async validateSelections(){if(!(!this.api||this.isValidating)){this.isValidating=!0;try{const e=await this.api.validateConfiguration(this.selections);this.validationResults=e.violations||[]}catch(e){console.error("Validation failed:",e),this.validationResults=[{type:"error",message:"Failed to validate configuration. Please try again."}]}finally{this.isValidating=!1}}}async calculatePricing(){if(!(!this.api||this.isPricing)){this.isPricing=!0;try{const e=await this.api.calculatePricing(this.selections);this.pricingData=e}catch(e){console.error("Pricing calculation failed:",e),this.pricingData=null}finally{this.isPricing=!1}}}async saveConfiguration(){if(!this.api||!this.isDirty)return null;try{let e;return this.configurationId?e=await this.api.updateConfiguration(this.configurationId,{selections:this.selections,pricing:this.pricingData}):(e=await this.api.createConfiguration({model_id:this.modelId,selections:this.selections,pricing:this.pricingData}),this.configurationId=e.id),this.lastSaved=new Date,this.isDirty=!1,e}catch(e){throw console.error("Failed to save configuration:",e),e}}nextStep(){this.canProceedToNextStep&&(this.currentStep=Math.min(this.currentStep+1,3))}previousStep(){this.currentStep=Math.max(this.currentStep-1,0)}goToStep(e){this.currentStep=Math.max(0,Math.min(e,3))}reset(){console.log("🔄 Resetting store state");for(const e of j(this,Re).values())clearTimeout(e);j(this,Re).clear(),this.model=null,this.selections={},this.validationResults=[],this.pricingData=null,this.currentStep=0,this.configurationId=null,this.lastSaved=null,this.isDirty=!1,this.error=null,Ue(this,at,""),Ue(this,ot,""),Ue(this,ze,!1)}generateShareableUrl(){const e={modelId:this.modelId,selections:this.selections,timestamp:Date.now()},r=btoa(JSON.stringify(e));return`${window.location.origin}/configure/${this.modelId}?config=${r}`}loadFromShareableUrl(e){try{const r=JSON.parse(atob(e));r.modelId&&r.selections&&(this.setModelId(r.modelId),this.selections=r.selections,this.isDirty=!0)}catch(r){console.warn("Failed to load shared configuration:",r)}}exportConfiguration(){return{model_id:this.modelId,model_name:this.model?.name,selections:this.selectedOptions.map(e=>({option_id:e.id,option_name:e.name,quantity:this.selections[e.id],unit_price:e.base_price,total_price:e.base_price*this.selections[e.id]})),pricing:this.pricingData,validation:{is_valid:this.isValid,errors:this.validationResults},metadata:{created_at:new Date().toISOString(),completion_percentage:this.completionPercentage}}}}vt=new WeakMap,ct=new WeakMap,ft=new WeakMap,_t=new WeakMap,gt=new WeakMap,ht=new WeakMap,pt=new WeakMap,mt=new WeakMap,xt=new WeakMap,yt=new WeakMap,bt=new WeakMap,wt=new WeakMap,St=new WeakMap,Et=new WeakMap,at=new WeakMap,ot=new WeakMap,Re=new WeakMap,ze=new WeakMap,kt=new WeakSet,hr=function(e){const r=j(this,Re).get(e);r&&(clearTimeout(r),j(this,Re).delete(e))};const h=new Pn;Ii();var Tn=E('<div class="absolute inset-0 flex items-center" aria-hidden="true"><div></div></div>'),On=(t,e)=>h.goToStep(l(e).id),Dn=Xr('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Rn=E('<span class="text-sm font-medium"> </span>'),An=E('<li><!> <button><!></button> <div class="mt-2 text-center"><div> </div> <div> </div></div></li>'),Nn=E('<nav aria-label="Progress"><ol class="flex items-center"></ol></nav>');function Ln(t,e){Te(e,!1);const r=[{id:0,name:"Select",description:"Choose your product"},{id:1,name:"Configure",description:"Customize options"},{id:2,name:"Review",description:"Verify & price"},{id:3,name:"Complete",description:"Finalize order"}];wn();var i=Nn(),n=o(i);be(n,5,()=>r,ye,(a,s,u)=>{var v=An(),c=o(v);{var f=x=>{var S=Tn(),I=o(S);O(()=>se(I,1,`h-0.5 w-full ${h.currentStep>l(s).id?"bg-primary-600":"bg-gray-200"}`)),w(x,S)};M(c,x=>{u<r.length-1&&x(f)})}var g=_(c,2);g.__click=[On,s];var d=o(g);{var p=x=>{var S=Dn();w(x,S)},m=x=>{var S=Rn(),I=o(S);O(()=>C(I,l(s).id+1)),w(x,S)};M(d,x=>{h.currentStep>l(s).id?x(p):x(m,!1)})}var D=_(g,2),R=o(D),A=o(R),P=_(R,2),y=o(P);O(()=>{se(v,1,`relative ${u<r.length-1?"pr-8 sm:pr-20":""}`),se(g,1,`relative w-8 h-8 flex items-center justify-center rounded-full transition-colors
                 ${h.currentStep>l(s).id?"bg-primary-600 text-white":h.currentStep===l(s).id?"bg-primary-50 border-2 border-primary-600 text-primary-600":"bg-white border-2 border-gray-300 text-gray-500"}`),ei(g,"aria-current",h.currentStep===l(s).id?"step":void 0),se(R,1,`text-xs font-medium ${h.currentStep>=l(s).id?"text-gray-900":"text-gray-500"}`),C(A,l(s).name),se(P,1,`text-xs ${h.currentStep>=l(s).id?"text-gray-500":"text-gray-400"}`),C(y,l(s).description)}),w(a,v)}),w(t,i),Oe()}rt(["click"]);var jn=E('<p class="mt-4 text-sm text-gray-600"> </p>'),qn=E('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" aria-live="polite"><div class="bg-white rounded-lg p-6 text-center"><div></div> <!></div></div>'),Fn=E('<span class="ml-3 text-sm text-gray-600"> </span>'),Vn=E('<div class="flex items-center justify-center" aria-live="polite"><div></div> <!></div>');function oi(t,e){let r=le(e,"size",3,"md"),i=le(e,"color",3,"primary"),n=le(e,"message",3,""),a=le(e,"overlay",3,!1);const s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},u={primary:"border-primary-600",gray:"border-gray-600",white:"border-white"};var v=it(),c=Le(v);{var f=d=>{var p=qn(),m=o(p),D=o(m),R=_(D,2);{var A=P=>{var y=jn(),x=o(y);O(()=>C(x,n())),w(P,y)};M(R,P=>{n()&&P(A)})}O(()=>se(D,1,`animate-spin rounded-full ${s[r()]??""} border-2 border-gray-200 ${u[i()]??""} border-t-transparent mx-auto`)),w(d,p)},g=d=>{var p=Vn(),m=o(p),D=_(m,2);{var R=A=>{var P=Fn(),y=o(P);O(()=>C(y,n())),w(A,P)};M(D,A=>{n()&&A(R)})}O(()=>se(m,1,`animate-spin rounded-full ${s[r()]??""} border-2 border-gray-200 ${u[i()]??""} border-t-transparent`)),w(d,p)};M(c,d=>{a()?d(f):d(g,!1)})}w(t,v)}function zn(t,e,r,i){e()<r()&&i("retry")}function Bn(t,e){e(!e())}var Un=E('<div class="mt-3 text-xs text-red-600 bg-red-100 p-2 rounded border"><pre class="whitespace-pre-wrap"> </pre></div>'),Hn=E('<button type="button" class="text-sm bg-red-100 text-red-800 px-3 py-1 rounded hover:bg-red-200 transition-colors"> </button>'),Yn=E('<div class="rounded-md bg-red-50 p-4 border border-red-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3 flex-1"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"><p> </p></div> <!> <div class="mt-4 flex space-x-3"><!> <button type="button" class="text-sm text-red-600 hover:text-red-500 underline"> </button></div></div></div></div>');function Gn(t,e){Te(e,!0);let r=le(e,"error",3,null),i=le(e,"context",3,"Application"),n=le(e,"showDetails",7,!1),a=le(e,"retryable",3,!0),s=le(e,"retryCount",3,0),u=le(e,"maxRetries",3,3);const v=ai();let c=me(()=>a()&&s()<u());var f=it(),g=Le(f);{var d=p=>{var m=Yn(),D=o(m),R=_(o(D),2),A=o(R),P=o(A),y=_(A,2),x=o(y),S=o(x),I=_(y,2);{var N=Z=>{var T=Un(),b=o(T),k=o(b);O(V=>C(k,V),[()=>r().stack||JSON.stringify(r(),null,2)]),w(Z,T)};M(I,Z=>{n()&&Z(N)})}var L=_(I,2),K=o(L);{var Y=Z=>{var T=Hn();T.__click=[zn,s,u,v];var b=o(T);O(()=>C(b,`Retry ${s()>0?`(${s()}/${u()})`:""}`)),w(Z,T)};M(K,Z=>{l(c)&&Z(Y)})}var U=_(K,2);U.__click=[Bn,n];var $=o(U);O(()=>{C(P,`${i()??""} Error`),C(S,`Something went wrong. ${r().message||"An unexpected error occurred."}`),C($,`${n()?"Hide":"Show"} Details`)}),w(p,m)};M(g,p=>{r()&&p(d)})}w(t,f),Oe()}rt(["click"]);function Jn(t,e,r){e.group.max_selections&&l(r)>=e.group.max_selections||nr(r)}function Qn(t,e){l(e)>0&&nr(e,-1)}function Wn(t,e,r){l(e)?B(r,0):B(r,1)}var Kn=E('<div class="absolute -top-2 -right-2 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),Zn=E('<p class="mt-1 text-sm text-gray-500"> </p>'),Xn=E('<span class="text-xs text-gray-500"> </span>'),$n=E('<div class="text-xs text-primary-600"> </div>'),ea=E('<span class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded"> </span>'),ta=E('<span class="text-xs text-gray-500"> </span>'),ra=E('<div class="mt-2 flex flex-wrap gap-1"><!> <!></div>'),ia=E('<div class="w-2 h-2 bg-white rounded-full"></div>'),na=E('<button type="button"><div><!></div> <span> </span></button>'),aa=E('<div class="flex items-center space-x-3"><span class="text-sm text-gray-500">Quantity:</span> <div class="flex items-center space-x-2"><button type="button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg></button> <span class="w-8 text-center text-sm font-medium"> </span> <button type="button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button></div></div>'),oa=E('<div class="text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded"> </div>'),sa=E('<div><!> <div class="p-4"><div class="flex items-start justify-between"><div class="flex-1"><h3 class="text-sm font-medium text-gray-900"> </h3> <!></div> <div class="ml-4 text-right"><div class="text-sm font-medium text-gray-900"> <!></div> <!></div></div> <!> <div class="mt-4 flex items-center justify-between"><!> <!></div></div></div>');function la(t,e){Te(e,!0);let r=Q(ke(h.selections[e.option.id]||0)),i=me(()=>l(r)>0),n=me(()=>l(r)*e.option.base_price);Se(()=>{h.updateSelection(e.option.id,l(r))}),Se(()=>{if(e.group.selection_type==="single"&&l(i))for(const T of e.group.options)T.id!==e.option.id&&h.selections[T.id]>0&&h.updateSelection(T.id,0)});var a=sa(),s=o(a);{var u=T=>{var b=Kn();w(T,b)};M(s,T=>{l(i)&&T(u)})}var v=_(s,2),c=o(v),f=o(c),g=o(f),d=o(g),p=_(g,2);{var m=T=>{var b=Zn(),k=o(b);O(()=>C(k,e.option.description)),w(T,b)};M(p,T=>{e.option.description&&T(m)})}var D=_(f,2),R=o(D),A=o(R),P=_(A);{var y=T=>{var b=Xn(),k=o(b);O(()=>C(k,`/${e.option.price_unit??""}`)),w(T,b)};M(P,T=>{e.option.price_unit&&e.option.price_unit!=="each"&&T(y)})}var x=_(R,2);{var S=T=>{var b=$n(),k=o(b);O(V=>C(k,`Total: $${V??""}`),[()=>l(n).toFixed(2)]),w(T,b)};M(x,T=>{l(n)>e.option.base_price&&T(S)})}var I=_(c,2);{var N=T=>{var b=ra(),k=o(b);be(k,17,()=>e.option.constraints.slice(0,3),ye,(z,q)=>{var G=ea(),ee=o(G);O(()=>C(ee,l(q))),w(z,G)});var V=_(k,2);{var te=z=>{var q=ta(),G=o(q);O(()=>C(G,`+${e.option.constraints.length-3} more`)),w(z,q)};M(V,z=>{e.option.constraints.length>3&&z(te)})}w(T,b)};M(I,T=>{e.option.constraints&&e.option.constraints.length>0&&T(N)})}var L=_(I,2),K=o(L);{var Y=T=>{var b=na();b.__click=[Wn,i,r];var k=o(b),V=o(k);{var te=G=>{var ee=ia();w(G,ee)};M(V,G=>{l(i)&&G(te)})}var z=_(k,2),q=o(z);O(()=>{se(b,1,`flex items-center space-x-2 text-sm font-medium
                 ${l(i)?"text-primary-600":"text-gray-500 hover:text-gray-700"}`),se(k,1,`w-4 h-4 rounded-full border-2 flex items-center justify-center
                      ${l(i)?"border-primary-600 bg-primary-600":"border-gray-300"}`),C(q,l(i)?"Selected":"Select")}),w(T,b)},U=T=>{var b=aa(),k=_(o(b),2),V=o(k);V.__click=[Qn,r];var te=_(V,2),z=o(te),q=_(te,2);q.__click=[Jn,e,r],O(()=>{se(V,1,`w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center
                     ${l(r)>0?"hover:bg-gray-100 text-gray-700":"text-gray-400 cursor-not-allowed"}`),V.disabled=l(r)<=0,C(z,l(r)),se(q,1,`w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center
                     hover:bg-gray-100 text-gray-700
                     ${e.group.max_selections&&l(r)>=e.group.max_selections?"opacity-50 cursor-not-allowed":""}`),q.disabled=e.group.max_selections&&l(r)>=e.group.max_selections}),w(T,b)};M(K,T=>{e.group.selection_type==="single"?T(Y):T(U,!1)})}var $=_(K,2);{var Z=T=>{var b=oa(),k=o(b);O(()=>C(k,e.option.availability_status)),w(T,b)};M($,T=>{e.option.availability_status&&e.option.availability_status!=="available"&&T(Z)})}O(T=>{se(a,1,`relative rounded-lg border-2 transition-all duration-200 
            ${l(i)?"border-primary-500 bg-primary-50":"border-gray-200 bg-white hover:border-gray-300"}`),C(d,e.option.name),C(A,`$${T??""} `)},[()=>e.option.base_price.toFixed(2)]),w(t,a),Oe()}rt(["click"]);var da=E('<span class="ml-2 text-sm text-red-500">*</span>'),ua=Xr('<svg class="ml-2 w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),va=E('<p class="mt-1 text-sm text-gray-500"> </p>'),ca=E('<div class="text-xs text-gray-400">Choose one</div>'),fa=E('<div class="text-xs text-gray-400"><!></div>'),_a=E("<div> </div>"),ga=E('<div class="mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2"></div>'),ha=E('<div class="text-xs bg-gray-50 p-2 rounded"> </div>'),pa=E('<div class="mt-4 text-sm text-gray-600"><details class="group"><summary class="cursor-pointer font-medium group-hover:text-gray-800"> </summary> <div class="mt-2 space-y-1"></div></details></div>'),ma=E('<div class="mb-8"><div class="mb-4"><div class="flex items-center justify-between"><div><h2 class="text-lg font-medium text-gray-900 flex items-center"> <!> <!></h2> <!></div> <div class="text-right"><div class="text-sm text-gray-500"> <!> selected</div> <!></div></div> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div> <!></div>');function xa(t,e){Te(e,!0);let r=me(()=>e.group.options.reduce((b,k)=>b+(h.selections[k.id]||0),0)),i=me(()=>e.group.required),n=me(()=>!l(i)||l(r)>=(e.group.min_selections||1)),a=me(()=>h.validationResults.some(b=>b.group_id===e.group.id||e.group.options.some(k=>b.option_id===k.id)));var s=ma(),u=o(s),v=o(u),c=o(v),f=o(c),g=o(f),d=_(g);{var p=b=>{var k=da();w(b,k)};M(d,b=>{l(i)&&b(p)})}var m=_(d,2);{var D=b=>{var k=ua();w(b,k)};M(m,b=>{l(n)&&b(D)})}var R=_(f,2);{var A=b=>{var k=va(),V=o(k);O(()=>C(V,e.group.description)),w(b,k)};M(R,b=>{e.group.description&&b(A)})}var P=_(c,2),y=o(P),x=o(y),S=_(x);{var I=b=>{var k=Ut();O(()=>C(k,`/ ${e.group.max_selections??""}`)),w(b,k)};M(S,b=>{e.group.max_selections&&b(I)})}var N=_(y,2);{var L=b=>{var k=ca();w(b,k)},K=(b,k)=>{{var V=te=>{var z=fa(),q=o(z);{var G=H=>{var F=Ut();O(()=>C(F,`${e.group.min_selections??""}-${e.group.max_selections??""} required`)),w(H,F)},ee=(H,F)=>{{var ne=re=>{var ue=Ut();O(()=>C(ue,`Min ${e.group.min_selections??""} required`)),w(re,ue)},J=(re,ue)=>{{var Ae=Ne=>{var Yt=Ut();O(()=>C(Yt,`Max ${e.group.max_selections??""} allowed`)),w(Ne,Yt)};M(re,Ne=>{e.group.max_selections&&Ne(Ae)},ue)}};M(H,re=>{e.group.min_selections?re(ne):re(J,!1)},F)}};M(q,H=>{e.group.min_selections&&e.group.max_selections?H(G):H(ee,!1)})}w(te,z)};M(b,te=>{(e.group.min_selections||e.group.max_selections)&&te(V)},k)}};M(N,b=>{e.group.selection_type==="single"?b(L):b(K,!1)})}var Y=_(v,2);{var U=b=>{var k=ga();be(k,21,()=>h.validationResults,ye,(V,te)=>{var z=it(),q=Le(z);{var G=ee=>{var H=_a(),F=o(H);O(()=>C(F,l(te).message)),w(ee,H)};M(q,ee=>{l(te).group_id===e.group.id&&ee(G)})}w(V,z)}),w(b,k)};M(Y,b=>{l(a)&&b(U)})}var $=_(u,2);be($,21,()=>e.group.options,ye,(b,k)=>{la(b,{get option(){return l(k)},get group(){return e.group}})});var Z=_($,2);{var T=b=>{var k=pa(),V=o(k),te=o(V),z=o(te),q=_(te,2);be(q,21,()=>e.group.constraints,ye,(G,ee)=>{var H=ha(),F=o(H);O(()=>C(F,l(ee))),w(G,H)}),O(()=>C(z,`View Constraints (${e.group.constraints.length??""})`)),w(b,k)};M(Z,b=>{e.group.constraints&&e.group.constraints.length>0&&b(T)})}O(()=>{C(g,`${e.group.name??""} `),C(x,`${l(r)??""} `)}),w(t,s),Oe()}var ya=E('<div class="text-sm text-gray-500 flex items-center"><div class="animate-spin w-4 h-4 border-2 border-gray-300 border-t-primary-600 rounded-full mr-2"></div> Calculating...</div>'),ba=E('<div class="text-sm text-green-600">Updated</div>'),wa=E('<span class="text-green-600 ml-2"> </span>'),Sa=E('<div class="text-sm text-gray-500"> <!></div>'),Ea=E('<div class="text-gray-500 text-xs"> </div>'),ka=E('<div class="flex justify-between text-sm"><div class="flex-1"><div class="text-gray-900"> </div> <!></div> <div class="text-gray-900 font-medium"> </div></div>'),Ca=E('<div class="flex justify-between text-sm"><span class="text-gray-600"> </span> <span> </span></div>'),Ia=E('<div class="space-y-3"><h4 class="text-sm font-medium text-gray-700 border-b border-gray-200 pb-2">Price Breakdown</h4> <!> <div class="border-t border-gray-200 pt-3"><div class="flex justify-between text-sm"><span class="text-gray-500">Subtotal</span> <span class="text-gray-900"> </span></div></div> <!> <div class="border-t border-gray-200 pt-3"><div class="flex justify-between text-lg font-medium"><span class="text-gray-900">Total</span> <span class="text-gray-900"> </span></div></div></div>'),Ma=()=>h.saveConfiguration(),Pa=E('<div class="mt-6 space-y-3"><button type="button" class="w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 transition-colors">Save Configuration</button> <button type="button" class="w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-200 transition-colors">Export Configuration</button></div>'),Ta=E('<div class="bg-white rounded-lg border border-gray-200 p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900">Pricing</h3> <!></div> <div class="text-center mb-6"><div class="text-3xl font-bold text-gray-900"> </div> <!></div> <!> <!></div>');function vr(t,e){Te(e,!0);let r=le(e,"detailed",3,!1),i=le(e,"showBreakdown",3,!0),n=me(()=>h.adjustments.reduce((y,x)=>x.amount<0?y+Math.abs(x.amount):y,0));var a=Ta(),s=o(a),u=_(o(s),2);{var v=y=>{var x=ya();w(y,x)},c=(y,x)=>{{var S=I=>{var N=ba();w(I,N)};M(y,I=>{h.pricingData&&I(S)},x)}};M(u,y=>{h.isPricing?y(v):y(c,!1)})}var f=_(s,2),g=o(f),d=o(g),p=_(g,2);{var m=y=>{var x=Sa(),S=o(x),I=_(S);{var N=L=>{var K=wa(),Y=o(K);O(U=>C(Y,`Save $${U??""}`),[()=>l(n).toFixed(2)]),w(L,K)};M(I,L=>{l(n)>0&&L(N)})}O(L=>C(S,`Base: $${L??""} `),[()=>h.basePrice.toFixed(2)]),w(y,x)};M(p,y=>{h.basePrice!==h.totalPrice&&y(m)})}var D=_(f,2);{var R=y=>{var x=Ia(),S=_(o(x),2);be(S,17,()=>h.selectedOptions,ye,(k,V)=>{var te=ka(),z=o(te),q=o(z),G=o(q),ee=_(q,2);{var H=J=>{var re=Ea(),ue=o(re);O(Ae=>C(ue,`$${Ae??""} × ${h.selections[l(V).id]??""}`),[()=>l(V).base_price.toFixed(2)]),w(J,re)};M(ee,J=>{h.selections[l(V).id]>1&&J(H)})}var F=_(z,2),ne=o(F);O(J=>{C(G,l(V).name),C(ne,`$${J??""}`)},[()=>(l(V).base_price*h.selections[l(V).id]).toFixed(2)]),w(k,te)});var I=_(S,2),N=o(I),L=_(o(N),2),K=o(L),Y=_(I,2);{var U=k=>{var V=it(),te=Le(V);be(te,17,()=>h.adjustments,ye,(z,q)=>{var G=Ca(),ee=o(G),H=o(ee),F=_(ee,2),ne=o(F);O(J=>{C(H,l(q).rule_name||l(q).name),se(F,1,l(q).amount<0?"text-green-600":"text-red-600"),C(ne,`${l(q).amount<0?"-":"+"}$${J??""}`)},[()=>Math.abs(l(q).amount).toFixed(2)]),w(z,G)}),w(k,V)};M(Y,k=>{h.adjustments.length>0&&k(U)})}var $=_(Y,2),Z=o($),T=_(o(Z),2),b=o(T);O((k,V)=>{C(K,`$${k??""}`),C(b,`$${V??""}`)},[()=>h.basePrice.toFixed(2),()=>h.totalPrice.toFixed(2)]),w(y,x)};M(D,y=>{i()&&h.pricingData&&h.selectedOptions.length>0&&y(R)})}var A=_(D,2);{var P=y=>{var x=Pa(),S=o(x);S.__click=[Ma];var I=_(S,2);I.__click=()=>{const N=h.exportConfiguration(),L=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),K=URL.createObjectURL(L),Y=document.createElement("a");Y.href=K,Y.download=`configuration-${Date.now()}.json`,Y.click()},w(y,x)};M(A,y=>{r()&&y(P)})}O(y=>C(d,`$${y??""}`),[()=>h.totalPrice.toFixed(2)]),w(t,a),Oe()}rt(["click"]);var Oa=E("<li> </li>"),Da=E('<div class="rounded-md bg-red-50 p-4 border border-red-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"><ul class="space-y-1"></ul></div></div></div></div>'),Ra=E("<li> </li>"),Aa=E('<div class="rounded-md bg-yellow-50 p-4 border border-yellow-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-yellow-800"> </h3> <div class="mt-2 text-sm text-yellow-700"><ul class="space-y-1"></ul></div></div></div></div>'),Na=E("<li> </li>"),La=E('<div class="rounded-md bg-blue-50 p-4 border border-blue-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-blue-800"> </h3> <div class="mt-2 text-sm text-blue-700"><ul class="space-y-1"></ul></div></div></div></div>'),ja=E('<div class="space-y-3"><!> <!> <!></div>'),qa=E('<div class="text-center py-4"><div class="animate-spin w-6 h-6 border-2 border-gray-300 border-t-primary-600 rounded-full mx-auto"></div> <p class="mt-2 text-sm text-gray-500">Validating configuration...</p></div>'),Fa=E('<div class="rounded-md bg-green-50 p-4 border border-green-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-green-800">Configuration Valid</h3> <div class="mt-2 text-sm text-green-700"><p>Your configuration meets all requirements and constraints.</p></div></div></div></div>');function cr(t,e){Te(e,!0);let r=le(e,"showSuggestions",3,!0),i=me(()=>h.validationResults.filter(f=>f.severity==="error"||f.level==="error")),n=me(()=>h.validationResults.filter(f=>f.severity==="warning"||f.level==="warning")),a=me(()=>h.validationResults.filter(f=>f.severity==="info"||f.level==="suggestion"));var s=it(),u=Le(s);{var v=f=>{var g=ja(),d=o(g);{var p=P=>{var y=Da(),x=o(y),S=_(o(x),2),I=o(S),N=o(I),L=_(I,2),K=o(L);be(K,21,()=>l(i),ye,(Y,U)=>{var $=Oa(),Z=o($);O(()=>C(Z,`• ${l(U).message??""}`)),w(Y,$)}),O(()=>C(N,`Configuration Errors (${l(i).length??""})`)),w(P,y)};M(d,P=>{l(i).length>0&&P(p)})}var m=_(d,2);{var D=P=>{var y=Aa(),x=o(y),S=_(o(x),2),I=o(S),N=o(I),L=_(I,2),K=o(L);be(K,21,()=>l(n),ye,(Y,U)=>{var $=Ra(),Z=o($);O(()=>C(Z,`• ${l(U).message??""}`)),w(Y,$)}),O(()=>C(N,`Warnings (${l(n).length??""})`)),w(P,y)};M(m,P=>{l(n).length>0&&P(D)})}var R=_(m,2);{var A=P=>{var y=La(),x=o(y),S=_(o(x),2),I=o(S),N=o(I),L=_(I,2),K=o(L);be(K,21,()=>l(a),ye,(Y,U)=>{var $=Na(),Z=o($);O(()=>C(Z,`• ${l(U).message??""}`)),w(Y,$)}),O(()=>C(N,`Suggestions (${l(a).length??""})`)),w(P,y)};M(R,P=>{r()&&l(a).length>0&&P(A)})}w(f,g)},c=(f,g)=>{{var d=m=>{var D=qa();w(m,D)},p=m=>{var D=Fa();w(m,D)};M(f,m=>{h.isValidating?m(d):m(p,!1)},g)}};M(u,f=>{h.validationResults.length>0?f(v):f(c,!1)})}w(t,s),Oe()}var Va=E('<div class="text-sm text-gray-500 mt-1"> </div>'),za=E('<div class="text-sm text-gray-600 mt-1"> </div>'),Ba=E('<div class="text-sm text-gray-500"> </div>'),Ua=E('<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"><div class="flex-1"><div class="font-medium text-gray-900"> </div> <!> <!></div> <div class="text-right"><div class="font-medium text-gray-900"> </div> <!></div></div>'),Ha=E('<div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Selected Options</h3> <div class="space-y-4"></div></div>'),Ya=(t,e)=>B(e,!0),Ga=()=>h.saveConfiguration(),Ja=(t,e)=>B(e,!1),Qa=t=>t.stopPropagation(),Wa=(t,e,r)=>e(l(r)),Ka=(t,e)=>B(e,!1),Za=E('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 max-w-md w-full mx-4"><h3 class="text-lg font-medium text-gray-900 mb-4">Share Configuration</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Shareable Link</label> <div class="flex"><input type="text" readonly="" class="flex-1 px-3 py-2 border border-gray-300 rounded-l-md text-sm bg-gray-50"/> <button type="button" class="px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 transition-colors text-sm"> </button></div></div> <div class="flex justify-end space-x-3"><button type="button" class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">Close</button></div></div></div></div>'),Xa=E('<div class="space-y-6"><div class="bg-white rounded-lg border border-gray-200 p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Configuration Summary</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="text-center p-4 bg-gray-50 rounded-lg"><div class="text-2xl font-bold text-primary-600"> </div> <div class="text-sm text-gray-500">Options Selected</div></div> <div class="text-center p-4 bg-gray-50 rounded-lg"><div class="text-2xl font-bold text-primary-600"> </div> <div class="text-sm text-gray-500">Complete</div></div> <div class="text-center p-4 bg-gray-50 rounded-lg"><div> </div> <div class="text-sm text-gray-500"> </div></div></div></div> <!> <div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Validation Status</h3> <!></div> <!> <div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Actions</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><button type="button" class="flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg> Share Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Export Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path></svg> Save Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 3H3m4 10v6a1 1 0 001 1h6a1 1 0 001-1v-6m-8 0V9a1 1 0 011-1h6a1 1 0 011 1v4.01"></path></svg> Request Quote</button></div></div></div> <!>',1);function $a(t,e){Te(e,!0);let r=me(()=>h.generateShareableUrl()),i=Q(!1),n=Q(!1);async function a(z){try{await navigator.clipboard.writeText(z),B(n,!0),setTimeout(()=>B(n,!1),2e3)}catch(q){console.warn("Failed to copy to clipboard:",q)}}function s(){const z=h.exportConfiguration(),q=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),G=URL.createObjectURL(q),ee=document.createElement("a");ee.href=G,ee.download=`configuration-${Date.now()}.json`,ee.click(),URL.revokeObjectURL(G)}var u=Xa(),v=Le(u),c=o(v),f=_(o(c),2),g=o(f),d=o(g),p=o(d),m=_(g,2),D=o(m),R=o(D),A=_(m,2),P=o(A),y=o(P),x=_(P,2),S=o(x),I=_(c,2);{var N=z=>{var q=Ha(),G=_(o(q),2);be(G,21,()=>h.selectedOptions,ye,(ee,H)=>{var F=Ua(),ne=o(F),J=o(ne),re=o(J),ue=_(J,2);{var Ae=pe=>{var Be=Va(),Ct=o(Be);O(()=>C(Ct,l(H).description)),w(pe,Be)};M(ue,pe=>{l(H).description&&pe(Ae)})}var Ne=_(ue,2);{var Yt=pe=>{var Be=za(),Ct=o(Be);O(()=>C(Ct,`Quantity: ${h.selections[l(H).id]??""}`)),w(pe,Be)};M(Ne,pe=>{h.selections[l(H).id]>1&&pe(Yt)})}var co=_(ne,2),li=o(co),fo=o(li),_o=_(li,2);{var go=pe=>{var Be=Ba(),Ct=o(Be);O(ho=>C(Ct,`$${ho??""} each`),[()=>l(H).base_price.toFixed(2)]),w(pe,Be)};M(_o,pe=>{h.selections[l(H).id]>1&&pe(go)})}O(pe=>{C(re,l(H).name),C(fo,`$${pe??""}`)},[()=>(l(H).base_price*h.selections[l(H).id]).toFixed(2)]),w(ee,F)}),w(z,q)};M(I,z=>{h.selectedOptions.length>0&&z(N)})}var L=_(I,2),K=_(o(L),2);cr(K,{});var Y=_(L,2);vr(Y,{detailed:!0});var U=_(Y,2),$=_(o(U),2),Z=o($);Z.__click=[Ya,i];var T=_(Z,2);T.__click=s;var b=_(T,2);b.__click=[Ga];var k=_(b,2),V=_(v,2);{var te=z=>{var q=Za();q.__click=[Ja,i];var G=o(q);G.__click=[Qa];var ee=_(o(G),2),H=o(ee),F=_(o(H),2),ne=o(F),J=_(ne,2);J.__click=[Wa,a,r];var re=o(J),ue=_(H,2),Ae=o(ue);Ae.__click=[Ka,i],O(()=>{yn(ne,l(r)),C(re,l(n)?"Copied!":"Copy")}),w(z,q)};M(V,z=>{l(i)&&z(te)})}O(()=>{C(p,h.selectedOptions.length),C(R,`${h.completionPercentage??""}%`),se(P,1,`text-2xl font-bold ${h.isValid?"text-green-600":"text-red-600"}`),C(y,h.isValid?"✓":"✗"),C(S,h.isValid?"Valid":"Has Errors"),b.disabled=!h.isValid,k.disabled=!h.isValid}),w(t,u),Oe()}rt(["click"]);var eo=E('<div class="space-y-6"><!> <!> <!></div>'),to=E('<div class="mt-4"><!> <!></div>'),ro=()=>h.previousStep(),io=(t,e)=>h.canProceedToNextStep?e():h.nextStep(),no=E('<div class="mt-8 flex justify-between items-center"><button type="button">Previous</button> <button type="button"> </button></div>'),ao=E("<!> <div><div><!></div> <!></div> <!>",1),oo=E("<div><!></div>");function so(t,e){Te(e,!0);let r=le(e,"theme",7,"light"),i=le(e,"apiUrl",3,"http://localhost:8080/api/v1"),n=le(e,"embedMode",3,!1),a=le(e,"onComplete",3,null),s=le(e,"onConfigurationChange",3,null);le(e,"onError",3,null),ai();let u=Q(0),v=ke(n()),c=Q(!1);typeof window<"u"&&(window.__API_BASE_URL__=i()),En(()=>{console.log("🚀 ConfiguratorApp mounting with modelId:",e.modelId),h.initialize(),l(c)||(h.setModelId(e.modelId),B(c,!0)),document.documentElement.setAttribute("data-theme",r()),n()&&f()}),Se(()=>{l(c)&&e.modelId!==h.modelId&&(console.log("📝 ModelId prop changed, updating store:",e.modelId),h.setModelId(e.modelId))});function f(){window.addEventListener("message",g),window.parent!==window&&window.parent.postMessage({type:"cpq-configurator-ready",modelId:e.modelId},"*"),new ResizeObserver(()=>{window.parent!==window&&window.parent.postMessage({type:"cpq-configurator-resize",height:document.body.scrollHeight},"*")}).observe(document.body)}function g(y){const{type:x,data:S}=y.data;switch(x){case"cpq-set-theme":r(S.theme),document.documentElement.setAttribute("data-theme",r());break;case"cpq-load-configuration":S.config&&h.loadFromShareableUrl(S.config);break;case"cpq-get-configuration":window.parent.postMessage({type:"cpq-configuration-response",configuration:h.exportConfiguration()},"*");break}}function d(){nr(u),h.loadModel()}function p(){s()&&s()(h.exportConfiguration()),n()&&window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-change",configuration:h.exportConfiguration()},"*")}function m(){const y=h.exportConfiguration();a()&&a()(y),n()&&window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-complete",configuration:y},"*")}Se(()=>{l(c)&&Object.keys(h.selections).length>0&&p()});var D=oo(),R=o(D);{var A=y=>{Gn(y,{get error(){return h.error},onRetry:d,get retryCount(){return l(u)}})},P=(y,x)=>{{var S=N=>{oi(N,{message:"Loading product configuration...",size:"large"})},I=(N,L)=>{{var K=U=>{var $=ao(),Z=Le($);{var T=F=>{Ln(F,{get currentStep(){return h.currentStep},totalSteps:4,get completionPercentage(){return h.completionPercentage}})};M(Z,F=>{n()||F(T)})}var b=_(Z,2),k=o(b),V=o(k);{var te=F=>{var ne=it(),J=Le(ne);be(J,17,()=>h.model.option_groups,ye,(re,ue)=>{xa(re,{get group(){return l(ue)}})}),w(F,ne)};M(V,F=>{h.model.option_groups&&F(te)})}var z=_(k,2);{var q=F=>{var ne=eo(),J=o(ne);cr(J,{});var re=_(J,2);vr(re,{detailed:!0});var ue=_(re,2);{var Ae=Ne=>{$a(Ne,{})};M(ue,Ne=>{h.completionPercentage>=100&&Ne(Ae)})}w(F,ne)},G=F=>{var ne=to(),J=o(ne);vr(J,{detailed:!1});var re=_(J,2);cr(re,{}),w(F,ne)};M(z,F=>{n()?F(G,!1):F(q)})}var ee=_(b,2);{var H=F=>{var ne=no(),J=o(ne);J.__click=[ro];var re=_(J,2);re.__click=[io,m];var ue=o(re);O(()=>{se(J,1,`flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors
                 ${h.currentStep===0?"opacity-50 cursor-not-allowed":""}`),J.disabled=h.currentStep===0,se(re,1,`flex items-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors
                 ${!h.canProceedToNextStep&&h.currentStep===3?"opacity-50 cursor-not-allowed":""}`),re.disabled=!h.canProceedToNextStep&&h.currentStep===3,C(ue,h.currentStep===3?"Complete Configuration":"Next")}),w(F,ne)};M(ee,F=>{n()||F(H)})}O(()=>{se(b,1,`grid grid-cols-1 ${n()?"lg:grid-cols-1":"lg:grid-cols-3"} gap-6`),se(k,1,`${n()?"col-span-1":"col-span-2"} space-y-6`)}),w(U,$)},Y=U=>{oi(U,{message:"Initializing configurator...",size:"large"})};M(N,U=>{h.model?U(K):U(Y,!1)},L)}};M(y,N=>{h.isLoading?N(S):N(I,!1)},x)}};M(R,y=>{h.error?y(A):y(P,!1)})}O(()=>{se(D,1,`cpq-configurator ${n()?"cpq-embed-mode":""} ${v?"cpq-compact":""}`),ei(D,"data-theme",r())}),w(t,D),Oe()}rt(["click"]);const fr=new URLSearchParams(window.location.search),lo=fr.get("model")||window.location.pathname.split("/").pop(),uo=fr.get("theme")||"light",vo=fr.get("api")||"http://localhost:8080/api/v1";return un(so,{target:document.body,props:{modelId:lo,theme:uo,apiUrl:vo,embedMode:!0,onComplete:t=>{window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-complete",configuration:t},"*")},onConfigurationChange:t=>{window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-change",configuration:t},"*")},onError:t=>{window.parent!==window&&window.parent.postMessage({type:"cpq-error",error:t.message},"*")}}})}();
