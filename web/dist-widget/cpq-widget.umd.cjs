(function(gt){typeof define=="function"&&define.amd?define(gt):gt()})(function(){"use strict";var ti=gt=>{throw TypeError(gt)};var bs=(gt,yt,jt)=>yt.has(gt)||ti("Cannot "+jt);var J=(gt,yt,jt)=>(bs(gt,yt,"read from private field"),jt?jt.call(gt):yt.get(gt)),xt=(gt,yt,jt)=>yt.has(gt)?ti("Cannot add the same private member more than once"):yt instanceof WeakSet?yt.add(gt):yt.set(gt,jt);var $r,ce,fe,_e,ge,he,me,pe,xe,be,ye,we,Se,ke,Ce;const gt="5";typeof window<"u"&&(($r=window.__svelte??(window.__svelte={})).v??($r.v=new Set)).add(gt);const yt=1,jt=2,ur=4,ei=8,ri=16,ii=1,ni=2,ai=4,si=8,oi=16,li=1,di=2,bt=Symbol(),vi="http://www.w3.org/1999/xhtml",cr=!1;var Ye=Array.isArray,ui=Array.prototype.indexOf,fr=Array.from,Ie=Object.getOwnPropertyDescriptor,_r=Object.getOwnPropertyDescriptors,ci=Object.prototype,fi=Array.prototype,Ge=Object.getPrototypeOf;function _i(e){return e()}function Qe(e){for(var t=0;t<e.length;t++)e[t]()}function gi(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const i of e)if(r.push(i),r.length===t)break;return r}const Ot=2,gr=4,Pe=8,Je=16,Vt=32,oe=64,Ke=128,wt=256,Me=512,St=1024,qt=2048,Jt=4096,zt=8192,We=16384,hr=32768,Ze=65536,hi=1<<17,mi=1<<19,mr=1<<20,Xe=1<<21,Zt=Symbol("$state"),pi=Symbol("legacy props"),xi=Symbol("");function pr(e){return e===this.v}function bi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function $e(e){return!bi(e,this.v)}function yi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function wi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Si(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ki(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ci(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ei(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ii(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Pi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Xt=!1,Mi=!1;function Ti(){Xt=!0}function xr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let st=null;function br(e){st=e}function Ut(e,t=!1,r){var i=st={p:st,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Xt&&!t&&(st.l={s:null,u:null,r1:[],r2:de(!1)}),Ni(()=>{i.d=!0})}function Ht(e){const t=st;if(t!==null){const l=t.e;if(l!==null){var r=X,i=rt;t.e=null;try{for(var n=0;n<l.length;n++){var s=l[n];Le(s.effect),ie(s.reaction),Pr(s.fn)}}finally{Le(r),ie(i)}}st=t.p,t.m=!0}return{}}function Te(){return!Xt||st!==null&&st.l===null}function Lt(e){if(typeof e!="object"||e===null||Zt in e)return e;const t=Ge(e);if(t!==ci&&t!==fi)return e;var r=new Map,i=Ye(e),n=Z(0),s=rt,l=v=>{var c=rt;ie(s);var _=v();return ie(c),_};return i&&r.set("length",Z(e.length)),new Proxy(e,{defineProperty(v,c,_){return(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&Ei(),l(()=>{var g=r.get(c);g===void 0?(g=Z(_.value),r.set(c,g)):H(g,_.value,!0)}),!0},deleteProperty(v,c){var _=r.get(c);if(_===void 0){if(c in v){const f=l(()=>Z(bt));r.set(c,f),tr(n)}}else{if(i&&typeof c=="string"){var g=r.get("length"),m=Number(c);Number.isInteger(m)&&m<g.v&&H(g,m)}H(_,bt),tr(n)}return!0},get(v,c,_){if(c===Zt)return e;var g=r.get(c),m=c in v;if(g===void 0&&(!m||Ie(v,c)?.writable)&&(g=l(()=>{var w=Lt(m?v[c]:bt),x=Z(w);return x}),r.set(c,g)),g!==void 0){var f=o(g);return f===bt?void 0:f}return Reflect.get(v,c,_)},getOwnPropertyDescriptor(v,c){var _=Reflect.getOwnPropertyDescriptor(v,c);if(_&&"value"in _){var g=r.get(c);g&&(_.value=o(g))}else if(_===void 0){var m=r.get(c),f=m?.v;if(m!==void 0&&f!==bt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return _},has(v,c){if(c===Zt)return!0;var _=r.get(c),g=_!==void 0&&_.v!==bt||Reflect.has(v,c);if(_!==void 0||X!==null&&(!g||Ie(v,c)?.writable)){_===void 0&&(_=l(()=>{var f=g?Lt(v[c]):bt,w=Z(f);return w}),r.set(c,_));var m=o(_);if(m===bt)return!1}return g},set(v,c,_,g){var m=r.get(c),f=c in v;if(i&&c==="length")for(var w=_;w<m.v;w+=1){var x=r.get(w+"");x!==void 0?H(x,bt):w in v&&(x=l(()=>Z(bt)),r.set(w+"",x))}if(m===void 0)(!f||Ie(v,c)?.writable)&&(m=l(()=>{var S=Z(void 0);return H(S,Lt(_)),S}),r.set(c,m));else{f=m.v!==bt;var N=l(()=>Lt(_));H(m,N)}var R=Reflect.getOwnPropertyDescriptor(v,c);if(R?.set&&R.set.call(g,_),!f){if(i&&typeof c=="string"){var j=r.get("length"),M=Number(c);Number.isInteger(M)&&M>=j.v&&H(j,M+1)}tr(n)}return!0},ownKeys(v){o(n);var c=Reflect.ownKeys(v).filter(m=>{var f=r.get(m);return f===void 0||f.v!==bt});for(var[_,g]of r)g.v!==bt&&!(_ in v)&&c.push(_);return c},setPrototypeOf(){Ii()}})}function tr(e,t=1){H(e,e.v+t)}function $t(e){var t=Ot|qt,r=rt!==null&&(rt.f&Ot)!==0?rt:null;return X===null||r!==null&&(r.f&wt)!==0?t|=wt:X.f|=mr,{ctx:st,deps:null,effects:null,equals:pr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??X}}function kt(e){const t=$t(e);return qr(t),t}function yr(e){const t=$t(e);return t.equals=$e,t}function wr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ee(t[r])}}function Oi(e){for(var t=e.parent;t!==null;){if((t.f&Ot)===0)return t;t=t.parent}return null}function Sr(e){var t,r=X;Le(Oi(e));try{wr(e),t=Vr(e)}finally{Le(r)}return t}function kr(e){var t=Sr(e);if(e.equals(t)||(e.v=t,e.wv=Nr()),!re){var r=(Gt||(e.f&wt)!==0)&&e.deps!==null?Jt:St;At(e,r)}}const le=new Map;function de(e,t){var r={f:0,v:e,reactions:null,equals:pr,rv:0,wv:0};return r}function Z(e,t){const r=de(e);return qr(r),r}function Cr(e,t=!1,r=!0){var n;const i=de(e);return t||(i.equals=$e),Xt&&r&&st!==null&&st.l!==null&&((n=st.l).s??(n.s=[])).push(i),i}function H(e,t,r=!1){rt!==null&&!Nt&&Te()&&(rt.f&(Ot|Je))!==0&&!Bt?.includes(e)&&Pi();let i=r?Lt(t):t;return er(e,i)}function er(e,t){if(!e.equals(t)){var r=e.v;re?le.set(e,t):le.set(e,r),e.v=t,(e.f&Ot)!==0&&((e.f&qt)!==0&&Sr(e),At(e,(e.f&wt)===0?St:Jt)),e.wv=Nr(),Er(e,qt),Te()&&X!==null&&(X.f&St)!==0&&(X.f&(Vt|oe))===0&&(Pt===null?Gi([e]):Pt.push(e))}return t}function rr(e,t=1){var r=o(e),i=t===1?r++:r--;return H(e,r),i}function Er(e,t){var r=e.reactions;if(r!==null)for(var i=Te(),n=r.length,s=0;s<n;s++){var l=r[s],v=l.f;(v&qt)===0&&(!i&&l===X||(At(l,t),(v&(St|wt))!==0&&((v&Ot)!==0?Er(l,Jt):ze(l))))}}let Ri=!1;var Ai,Di,ji;function ir(e=""){return document.createTextNode(e)}function te(e){return Di.call(e)}function Oe(e){return ji.call(e)}function a(e,t){return te(e)}function Yt(e,t){{var r=te(e);return r instanceof Comment&&r.data===""?Oe(r):r}}function u(e,t=1,r=!1){let i=e;for(;t--;)i=Oe(i);return i}function qi(e){e.textContent=""}function Ir(e){X===null&&rt===null&&Si(),rt!==null&&(rt.f&wt)!==0&&X===null&&wi(),re&&yi()}function Li(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ve(e,t,r,i=!0){var n=X,s={ctx:st,deps:null,nodes_start:null,nodes_end:null,f:e|qt,first:null,fn:t,last:null,next:null,parent:n,prev:null,teardown:null,transitions:null,wv:0};if(r)try{lr(s),s.f|=hr}catch(c){throw ee(s),c}else t!==null&&ze(s);var l=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(mr|Ke))===0;if(!l&&i&&(n!==null&&Li(s,n),rt!==null&&(rt.f&Ot)!==0)){var v=rt;(v.effects??(v.effects=[])).push(s)}return s}function Ni(e){const t=ve(Pe,null,!1);return At(t,St),t.teardown=e,t}function Rt(e){Ir();var t=X!==null&&(X.f&Vt)!==0&&st!==null&&!st.m;if(t){var r=st;(r.e??(r.e=[])).push({fn:e,effect:X,reaction:rt})}else{var i=Pr(e);return i}}function Fi(e){return Ir(),Vi(e)}function Pr(e){return ve(gr,e,!1)}function Vi(e){return ve(Pe,e,!0)}function T(e,t=[],r=$t){const i=t.map(r);return nr(()=>e(...i.map(o)))}function nr(e,t=0){return ve(Pe|Je|t,e,!0)}function Re(e,t=!0){return ve(Pe|Vt,e,!0,t)}function Mr(e){var t=e.teardown;if(t!==null){const r=re,i=rt;jr(!0),ie(null);try{t.call(null)}finally{jr(r),ie(i)}}}function Tr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var i=r.next;(r.f&oe)!==0?r.parent=null:ee(r,t),r=i}}function zi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Vt)===0&&ee(t),t=r}}function ee(e,t=!0){var r=!1;(t||(e.f&mi)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Bi(e.nodes_start,e.nodes_end),r=!0),Tr(e,t&&!r),Ve(e,0),At(e,We);var i=e.transitions;if(i!==null)for(const s of i)s.stop();Mr(e);var n=e.parent;n!==null&&n.first!==null&&Or(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Bi(e,t){for(;e!==null;){var r=e===t?null:Oe(e);e.remove(),e=r}}function Or(e){var t=e.parent,r=e.prev,i=e.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=r))}function ar(e,t){var r=[];sr(e,r,!0),Rr(r,()=>{ee(e),t&&t()})}function Rr(e,t){var r=e.length;if(r>0){var i=()=>--r||t();for(var n of e)n.out(i)}else t()}function sr(e,t,r){if((e.f&zt)===0){if(e.f^=zt,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var i=e.first;i!==null;){var n=i.next,s=(i.f&Ze)!==0||(i.f&Vt)!==0;sr(i,t,s?r:!1),i=n}}}function Ae(e){Ar(e,!0)}function Ar(e,t){if((e.f&zt)!==0){e.f^=zt,(e.f&St)!==0&&(At(e,qt),ze(e));for(var r=e.first;r!==null;){var i=r.next,n=(r.f&Ze)!==0||(r.f&Vt)!==0;Ar(r,n?t:!1),r=i}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let De=[];function Ui(){var e=De;De=[],Qe(e)}function Hi(e){De.length===0&&queueMicrotask(Ui),De.push(e)}function Yi(e){var t=X;if((t.f&hr)===0){if((t.f&Ke)===0)throw e;t.fn(e)}else Dr(e,t)}function Dr(e,t){for(;t!==null;){if((t.f&Ke)!==0)try{t.fn(e);return}catch{}t=t.parent}throw e}let or=!1,je=null,Kt=!1,re=!1;function jr(e){re=e}let qe=[],ys=[],rt=null,Nt=!1;function ie(e){rt=e}let X=null;function Le(e){X=e}let Bt=null;function qr(e){rt!==null&&rt.f&Xe&&(Bt===null?Bt=[e]:Bt.push(e))}let mt=null,Ct=0,Pt=null;function Gi(e){Pt=e}let Lr=1,Ne=0,Gt=!1;function Nr(){return++Lr}function Fe(e){var t=e.f;if((t&qt)!==0)return!0;if((t&Jt)!==0){var r=e.deps,i=(t&wt)!==0;if(r!==null){var n,s,l=(t&Me)!==0,v=i&&X!==null&&!Gt,c=r.length;if(l||v){var _=e,g=_.parent;for(n=0;n<c;n++)s=r[n],(l||!s?.reactions?.includes(_))&&(s.reactions??(s.reactions=[])).push(_);l&&(_.f^=Me),v&&g!==null&&(g.f&wt)===0&&(_.f^=wt)}for(n=0;n<c;n++)if(s=r[n],Fe(s)&&kr(s),s.wv>e.wv)return!0}(!i||X!==null&&!Gt)&&At(e,St)}return!1}function Fr(e,t,r=!0){var i=e.reactions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];Bt?.includes(e)||((s.f&Ot)!==0?Fr(s,t,!1):t===s&&(r?At(s,qt):(s.f&St)!==0&&At(s,Jt),ze(s)))}}function Vr(e){var w;var t=mt,r=Ct,i=Pt,n=rt,s=Gt,l=Bt,v=st,c=Nt,_=e.f;mt=null,Ct=0,Pt=null,Gt=(_&wt)!==0&&(Nt||!Kt||rt===null),rt=(_&(Vt|oe))===0?e:null,Bt=null,br(e.ctx),Nt=!1,Ne++,e.f|=Xe;try{var g=(0,e.fn)(),m=e.deps;if(mt!==null){var f;if(Ve(e,Ct),m!==null&&Ct>0)for(m.length=Ct+mt.length,f=0;f<mt.length;f++)m[Ct+f]=mt[f];else e.deps=m=mt;if(!Gt)for(f=Ct;f<m.length;f++)((w=m[f]).reactions??(w.reactions=[])).push(e)}else m!==null&&Ct<m.length&&(Ve(e,Ct),m.length=Ct);if(Te()&&Pt!==null&&!Nt&&m!==null&&(e.f&(Ot|Jt|qt))===0)for(f=0;f<Pt.length;f++)Fr(Pt[f],e);return n!==null&&n!==e&&(Ne++,Pt!==null&&(i===null?i=Pt:i.push(...Pt))),g}catch(x){Yi(x)}finally{mt=t,Ct=r,Pt=i,rt=n,Gt=s,Bt=l,br(v),Nt=c,e.f^=Xe}}function Qi(e,t){let r=t.reactions;if(r!==null){var i=ui.call(r,e);if(i!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[i]=r[n],r.pop())}}r===null&&(t.f&Ot)!==0&&(mt===null||!mt.includes(t))&&(At(t,Jt),(t.f&(wt|Me))===0&&(t.f^=Me),wr(t),Ve(t,0))}function Ve(e,t){var r=e.deps;if(r!==null)for(var i=t;i<r.length;i++)Qi(e,r[i])}function lr(e){var t=e.f;if((t&We)===0){At(e,St);var r=X,i=Kt;X=e,Kt=!0;try{(t&Je)!==0?zi(e):Tr(e),Mr(e);var n=Vr(e);e.teardown=typeof n=="function"?n:null,e.wv=Lr;var s;cr&&Mi&&(e.f&qt)!==0&&e.deps}finally{Kt=i,X=r}}}function Ji(){try{ki()}catch(e){if(je!==null)Dr(e,je);else throw e}}function Ki(){var e=Kt;try{var t=0;for(Kt=!0;qe.length>0;){t++>1e3&&Ji();var r=qe,i=r.length;qe=[];for(var n=0;n<i;n++){var s=Zi(r[n]);Wi(s)}le.clear()}}finally{or=!1,Kt=e,je=null}}function Wi(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var i=e[r];(i.f&(We|zt))===0&&Fe(i)&&(lr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Or(i):i.fn=null))}}function ze(e){or||(or=!0,queueMicrotask(Ki));for(var t=je=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(oe|Vt))!==0){if((r&St)===0)return;t.f^=St}}qe.push(t)}function Zi(e){for(var t=[],r=e;r!==null;){var i=r.f,n=(i&(Vt|oe))!==0,s=n&&(i&St)!==0;if(!s&&(i&zt)===0){(i&gr)!==0?t.push(r):n?r.f^=St:Fe(r)&&lr(r);var l=r.first;if(l!==null){r=l;continue}}var v=r.parent;for(r=r.next;r===null&&v!==null;)r=v.next,v=v.parent}return t}function o(e){var t=e.f,r=(t&Ot)!==0;if(rt!==null&&!Nt){if(!Bt?.includes(e)){var i=rt.deps;e.rv<Ne&&(e.rv=Ne,mt===null&&i!==null&&i[Ct]===e?Ct++:mt===null?mt=[e]:(!Gt||!mt.includes(e))&&mt.push(e))}}else if(r&&e.deps===null&&e.effects===null){var n=e,s=n.parent;s!==null&&(s.f&wt)===0&&(n.f^=wt)}return r&&(n=e,Fe(n)&&kr(n)),re&&le.has(e)?le.get(e):e.v}function Be(e){var t=Nt;try{return Nt=!0,e()}finally{Nt=t}}const Xi=-7169;function At(e,t){e.f=e.f&Xi|t}function $i(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Zt in e)dr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Zt in r&&dr(r)}}}function dr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{dr(e[i],t)}catch{}const r=Ge(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=_r(r);for(let n in i){const s=i[n].get;if(s)try{s.call(e)}catch{}}}}}const tn=new Set,en=new Set;function ne(e){for(var t=0;t<e.length;t++)tn.add(e[t]);for(var r of en)r(e)}function zr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ue(e,t){var r=X;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function b(e,t){var r=(t&li)!==0,i=(t&di)!==0,n,s=!e.startsWith("<!>");return()=>{n===void 0&&(n=zr(s?e:"<!>"+e),r||(n=te(n)));var l=i||Ai?document.importNode(n,!0):n.cloneNode(!0);if(r){var v=te(l),c=l.lastChild;ue(v,c)}else ue(l,l);return l}}function rn(e,t,r="svg"){var i=!e.startsWith("<!>"),n=`<${r}>${i?e:"<!>"+e}</${r}>`,s;return()=>{if(!s){var l=zr(n),v=te(l);s=te(v)}var c=s.cloneNode(!0);return ue(c,c),c}}function Br(e,t){return rn(e,t,"svg")}function Ue(e=""){{var t=ir(e+"");return ue(t,t),t}}function ae(){var e=document.createDocumentFragment(),t=document.createComment(""),r=ir();return e.append(t,r),ue(t,r),e}function h(e,t){e!==null&&e.before(t)}function k(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function nn(e){st===null&&xr(),Xt&&st.l!==null?sn(st).m.push(e):Rt(()=>{const t=Be(e);if(typeof t=="function")return t})}function an(e,t,{bubbles:r=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:i})}function Ur(){const e=st;return e===null&&xr(),(t,r,i)=>{const n=e.s.$$events?.[t];if(n){const s=Ye(n)?n.slice():[n],l=an(t,r,i);for(const v of s)v.call(e.x,l);return!l.defaultPrevented}return!0}}function sn(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function E(e,t,[r,i]=[0,0]){var n=e,s=null,l=null,v=bt,c=r>0?Ze:0,_=!1;const g=(f,w=!0)=>{_=!0,m(w,f)},m=(f,w)=>{v!==(v=f)&&(v?(s?Ae(s):w&&(s=Re(()=>w(n))),l&&ar(l,()=>{l=null})):(l?Ae(l):w&&(l=Re(()=>w(n,[r+1,i]))),s&&ar(s,()=>{s=null})))};nr(()=>{_=!1,t(g),_||m(null,null)},c)}function Et(e,t){return t}function on(e,t,r,i){for(var n=[],s=t.length,l=0;l<s;l++)sr(t[l].e,n,!0);var v=s>0&&n.length===0&&r!==null;if(v){var c=r.parentNode;qi(c),c.append(r),i.clear(),Qt(e,t[0].prev,t[s-1].next)}Rr(n,()=>{for(var _=0;_<s;_++){var g=t[_];v||(i.delete(g.k),Qt(e,g.prev,g.next)),ee(g.e,!v)}})}function It(e,t,r,i,n,s=null){var l=e,v={flags:t,items:new Map,first:null},c=(t&ur)!==0;if(c){var _=e;l=_.appendChild(ir())}var g=null,m=!1,f=yr(()=>{var w=r();return Ye(w)?w:w==null?[]:fr(w)});nr(()=>{var w=o(f),x=w.length;m&&x===0||(m=x===0,ln(w,v,l,n,t,i,r),s!==null&&(x===0?g?Ae(g):g=Re(()=>s(l)):g!==null&&ar(g,()=>{g=null})),o(f))})}function ln(e,t,r,i,n,s,l){var v=(n&ei)!==0,c=(n&(yt|jt))!==0,_=e.length,g=t.items,m=t.first,f=m,w,x=null,N,R=[],j=[],M,S,p,C;if(v)for(C=0;C<_;C+=1)M=e[C],S=s(M,C),p=g.get(S),p!==void 0&&(p.a?.measure(),(N??(N=new Set)).add(p));for(C=0;C<_;C+=1){if(M=e[C],S=s(M,C),p=g.get(S),p===void 0){var I=f?f.e.nodes_start:r;x=vn(I,t,x,x===null?t.first:x.next,M,S,C,i,n,l),g.set(S,x),R=[],j=[],f=x.next;continue}if(c&&dn(p,M,C,n),(p.e.f&zt)!==0&&(Ae(p.e),v&&(p.a?.unfix(),(N??(N=new Set)).delete(p))),p!==f){if(w!==void 0&&w.has(p)){if(R.length<j.length){var F=j[0],D;x=F.prev;var K=R[0],z=R[R.length-1];for(D=0;D<R.length;D+=1)Hr(R[D],F,r);for(D=0;D<j.length;D+=1)w.delete(j[D]);Qt(t,K.prev,z.next),Qt(t,x,K),Qt(t,z,F),f=F,x=z,C-=1,R=[],j=[]}else w.delete(p),Hr(p,f,r),Qt(t,p.prev,p.next),Qt(t,p,x===null?t.first:x.next),Qt(t,x,p),x=p;continue}for(R=[],j=[];f!==null&&f.k!==S;)(f.e.f&zt)===0&&(w??(w=new Set)).add(f),j.push(f),f=f.next;if(f===null)continue;p=f}R.push(p),x=p,f=p.next}if(f!==null||w!==void 0){for(var G=w===void 0?[]:fr(w);f!==null;)(f.e.f&zt)===0&&G.push(f),f=f.next;var $=G.length;if($>0){var tt=(n&ur)!==0&&_===0?r:null;if(v){for(C=0;C<$;C+=1)G[C].a?.measure();for(C=0;C<$;C+=1)G[C].a?.fix()}on(t,G,tt,g)}}v&&Hi(()=>{if(N!==void 0)for(p of N)p.a?.apply()}),X.first=t.first&&t.first.e,X.last=x&&x.e}function dn(e,t,r,i){(i&yt)!==0&&er(e.v,t),(i&jt)!==0?er(e.i,r):e.i=r}function vn(e,t,r,i,n,s,l,v,c,_){var g=(c&yt)!==0,m=(c&ri)===0,f=g?m?Cr(n,!1,!1):de(n):n,w=(c&jt)===0?l:de(l),x={i:w,v:f,k:s,a:null,e:null,prev:r,next:i};try{return x.e=Re(()=>v(e,f,w,_),Ri),x.e.prev=r&&r.e,x.e.next=i&&i.e,r===null?t.first=x:(r.next=x,r.e.next=x.e),i!==null&&(i.prev=x,i.e.prev=x.e),x}finally{}}function Hr(e,t,r){for(var i=e.next?e.next.e.nodes_start:r,n=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==i;){var l=Oe(s);n.before(s),s=l}}function Qt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function un(e,t,r){var i=e==null?"":""+e;return t&&(i=i?i+" "+t:t),i===""?null:i}function cn(e,t){return e==null?null:String(e)}function ut(e,t,r,i,n,s){var l=e.__className;if(l!==r||l===void 0){var v=un(r,i);v==null?e.removeAttribute("class"):e.className=v,e.__className=r}return s}function fn(e,t,r,i){var n=e.__style;if(n!==t){var s=cn(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return i}const _n=Symbol("is custom element"),gn=Symbol("is html");function hn(e,t){var r=Gr(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Yr(e,t,r,i){var n=Gr(e);n[t]!==(n[t]=r)&&(t==="loading"&&(e[xi]=r),r==null?e.removeAttribute(t):typeof r!="string"&&mn(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Gr(e){return e.__attributes??(e.__attributes={[_n]:e.nodeName.includes("-"),[gn]:e.namespaceURI===vi})}var Qr=new Map;function mn(e){var t=Qr.get(e.nodeName);if(t)return t;Qr.set(e.nodeName,t=[]);for(var r,i=e,n=Element.prototype;n!==i;){r=_r(i);for(var s in r)r[s].set&&t.push(s);i=Ge(i)}return t}function pn(e=!1){const t=st,r=t.l.u;if(!r)return;let i=()=>$i(t.s);if(e){let n=0,s={};const l=$t(()=>{let v=!1;const c=t.s;for(const _ in c)c[_]!==s[_]&&(s[_]=c[_],v=!0);return v&&n++,n});i=()=>o(l)}r.b.length&&Fi(()=>{Jr(t,i),Qe(r.b)}),Rt(()=>{const n=Be(()=>r.m.map(_i));return()=>{for(const s of n)typeof s=="function"&&s()}}),r.a.length&&Rt(()=>{Jr(t,i),Qe(r.a)})}function Jr(e,t){if(e.l.s)for(const r of e.l.s)o(r);t()}let He=!1;function xn(e){var t=He;try{return He=!1,[e(),He]}finally{He=t}}function Kr(e){return e.ctx?.d??!1}function vt(e,t,r,i){var n=(r&ii)!==0,s=!Xt||(r&ni)!==0,l=(r&si)!==0,v=(r&oi)!==0,c=!1,_;l?[_,c]=xn(()=>e[t]):_=e[t];var g=Zt in e||pi in e,m=l&&(Ie(e,t)?.set??(g&&t in e&&(I=>e[t]=I)))||void 0,f=i,w=!0,x=!1,N=()=>(x=!0,w&&(w=!1,v?f=Be(i):f=i),f);_===void 0&&i!==void 0&&(m&&s&&Ci(),_=N(),m&&m(_));var R;if(s)R=()=>{var I=e[t];return I===void 0?N():(w=!0,x=!1,I)};else{var j=(n?$t:yr)(()=>e[t]);j.f|=hi,R=()=>{var I=o(j);return I!==void 0&&(f=void 0),I===void 0?f:I}}if((r&ai)===0&&s)return R;if(m){var M=e.$$legacy;return function(I,F){return arguments.length>0?((!s||!F||M||c)&&m(F?R():I),I):R()}}var S=!1,p=Cr(_),C=$t(()=>{var I=R(),F=o(p);return S?(S=!1,F):p.v=I});return l&&o(C),n||(C.equals=$e),function(I,F){if(arguments.length>0){const D=F?o(C):s&&l?Lt(I):I;if(!C.equals(D)){if(S=!0,H(p,D),x&&f!==void 0&&(f=D),Kr(C))return I;Be(()=>o(C))}return I}return Kr(C)?C.v:o(C)}}class Wr{constructor(t,r={}){this.baseUrl=t||"http://localhost:8080/api/v1",this.modelId=r.modelId,this.authToken=r.authToken,this.timeout=r.timeout||1e4}async request(t,r={}){const i=`${this.baseUrl}${t}`,n={method:"GET",headers:{"Content-Type":"application/json",...this.authToken&&{Authorization:`Bearer ${this.authToken}`},...r.headers},...r};n.body&&typeof n.body=="object"&&(n.body=JSON.stringify(n.body));try{const s=new AbortController,l=setTimeout(()=>s.abort(),this.timeout),v=await fetch(i,{...n,signal:s.signal});if(clearTimeout(l),!v.ok)throw new Error(`HTTP ${v.status}: ${v.statusText}`);return await v.json()}catch(s){throw s.name==="AbortError"?new Error("Request timeout"):s}}async getModel(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}`)}async getModelOptions(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}/options`)}async createConfiguration(t={}){return this.request("/configurations",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([r,i])=>({option_id:r,quantity:i}))}})}async updateConfiguration(t,r){return this.request(`/configurations/${t}`,{method:"PUT",body:{model_id:this.modelId,selections:Object.entries(r).map(([i,n])=>({option_id:i,quantity:n}))}})}async validateConfiguration(t){return this.request("/configurations/validate-selection",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([r,i])=>({option_id:r,quantity:i}))}})}async calculatePricing(t,r={}){return this.request("/pricing/calculate",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([i,n])=>({option_id:i,quantity:n})),context:r}})}async getVolumeTiers(){return this.request(`/pricing/volume-tiers/${this.modelId}`)}}class bn{constructor(){xt(this,ce,Z(""));xt(this,fe,Z(null));xt(this,_e,Z(Lt({})));xt(this,ge,Z(Lt([])));xt(this,he,Z(null));xt(this,me,Z(!1));xt(this,pe,Z(!1));xt(this,xe,Z(!1));xt(this,be,Z(null));xt(this,ye,Z(0));xt(this,we,Z(null));xt(this,Se,Z(null));xt(this,ke,Z(!1));xt(this,Ce,Z(null));this.initialized=!1}get modelId(){return o(J(this,ce))}set modelId(t){H(J(this,ce),t,!0)}get model(){return o(J(this,fe))}set model(t){H(J(this,fe),t,!0)}get selections(){return o(J(this,_e))}set selections(t){H(J(this,_e),t,!0)}get validationResults(){return o(J(this,ge))}set validationResults(t){H(J(this,ge),t,!0)}get pricingData(){return o(J(this,he))}set pricingData(t){H(J(this,he),t,!0)}get isLoading(){return o(J(this,me))}set isLoading(t){H(J(this,me),t,!0)}get isValidating(){return o(J(this,pe))}set isValidating(t){H(J(this,pe),t,!0)}get isPricing(){return o(J(this,xe))}set isPricing(t){H(J(this,xe),t,!0)}get error(){return o(J(this,be))}set error(t){H(J(this,be),t,!0)}get currentStep(){return o(J(this,ye))}set currentStep(t){H(J(this,ye),t,!0)}get configurationId(){return o(J(this,we))}set configurationId(t){H(J(this,we),t,!0)}get lastSaved(){return o(J(this,Se))}set lastSaved(t){H(J(this,Se),t,!0)}get isDirty(){return o(J(this,ke))}set isDirty(t){H(J(this,ke),t,!0)}get api(){return o(J(this,Ce))}set api(t){H(J(this,Ce),t,!0)}initialize(){this.initialized||(this.initialized=!0,Rt(()=>{this.modelId&&(this.api=new Wr("http://localhost:8080/api/v1",{modelId:this.modelId}),this.loadModel())}),Rt(()=>{this.api&&Object.keys(this.selections).length>0&&this.validateSelections()}),Rt(()=>{this.api&&this.isValid&&Object.keys(this.selections).length>0&&this.calculatePricing()}),Rt(()=>{if(this.isDirty&&this.configurationId){const t=setInterval(()=>{this.saveConfiguration()},3e4);return()=>clearInterval(t)}}))}get isValid(){return this.validationResults.length===0}get totalPrice(){return this.pricingData?.total_price||0}get basePrice(){return this.pricingData?.base_price||0}get adjustments(){return this.pricingData?.adjustments||[]}get completionPercentage(){if(!this.model?.option_groups)return 0;const t=this.model.option_groups.filter(i=>i.required);if(t.length===0)return 100;const r=t.filter(i=>i.options.some(n=>this.selections[n.id]>0));return Math.round(r.length/t.length*100)}get canProceedToNextStep(){switch(this.currentStep){case 0:return this.model!==null;case 1:return this.isValid&&Object.keys(this.selections).length>0;case 2:return this.isValid&&this.pricingData!==null;default:return!1}}get selectedOptions(){return this.model?.options?this.model.options.filter(t=>this.selections[t.id]>0):[]}async loadModel(){if(this.api){this.isLoading=!0,this.error=null;try{const t=await this.api.getModel();if(t.success)this.model=t.data;else throw new Error(t.message||"Failed to load model")}catch(t){this.error=t.message}finally{this.isLoading=!1}}}async validateSelections(){if(!(!this.api||this.isValidating)){this.isValidating=!0;try{const t=await this.api.validateConfiguration(this.selections);t.success&&(this.validationResults=t.data?.validation_result?.errors||[])}catch(t){console.warn("Validation failed:",t),this.validationResults=[{message:"Validation service unavailable"}]}finally{this.isValidating=!1}}}async calculatePricing(){if(!(!this.api||this.isPricing)){this.isPricing=!0;try{const t=await this.api.calculatePricing(this.selections);t.success&&(this.pricingData=t.data)}catch(t){console.warn("Pricing calculation failed:",t),this.pricingData=null}finally{this.isPricing=!1}}}async saveConfiguration(){if(this.api)try{if(this.configurationId)await this.api.updateConfiguration(this.configurationId,this.selections);else{const t=await this.api.createConfiguration(this.selections);t.success&&(this.configurationId=t.data.id)}this.lastSaved=new Date,this.isDirty=!1}catch(t){console.warn("Failed to save configuration:",t)}}setModelId(t){this.modelId=t,this.reset(),typeof window<"u"&&window.__API_BASE_URL__&&(this.api=new Wr(window.__API_BASE_URL__,{modelId:t}),this.loadModel())}updateSelection(t,r){r<=0?(delete this.selections[t],this.selections={...this.selections}):(this.selections[t]=r,this.selections={...this.selections}),this.isDirty=!0,this.api&&!this.initialized&&this.validateSelections()}removeSelection(t){delete this.selections[t],this.selections={...this.selections},this.isDirty=!0}clearSelections(){this.selections={},this.validationResults=[],this.pricingData=null,this.isDirty=!0}nextStep(){this.canProceedToNextStep&&(this.currentStep=Math.min(this.currentStep+1,3))}previousStep(){this.currentStep=Math.max(this.currentStep-1,0)}goToStep(t){this.currentStep=Math.max(0,Math.min(t,3))}reset(){this.model=null,this.selections={},this.validationResults=[],this.pricingData=null,this.currentStep=0,this.configurationId=null,this.lastSaved=null,this.isDirty=!1,this.error=null}generateShareableUrl(){const t={modelId:this.modelId,selections:this.selections,timestamp:Date.now()},r=btoa(JSON.stringify(t));return`${window.location.origin}/configure/${this.modelId}?config=${r}`}loadFromShareableUrl(t){try{const r=JSON.parse(atob(t));r.modelId&&r.selections&&(this.setModelId(r.modelId),this.selections=r.selections,this.isDirty=!0)}catch(r){console.warn("Failed to load shared configuration:",r)}}exportConfiguration(){return{model_id:this.modelId,model_name:this.model?.name,selections:this.selectedOptions.map(t=>({option_id:t.id,option_name:t.name,quantity:this.selections[t.id],unit_price:t.base_price,total_price:t.base_price*this.selections[t.id]})),pricing:this.pricingData,validation:{is_valid:this.isValid,errors:this.validationResults},metadata:{created_at:new Date().toISOString(),completion_percentage:this.completionPercentage}}}}ce=new WeakMap,fe=new WeakMap,_e=new WeakMap,ge=new WeakMap,he=new WeakMap,me=new WeakMap,pe=new WeakMap,xe=new WeakMap,be=new WeakMap,ye=new WeakMap,we=new WeakMap,Se=new WeakMap,ke=new WeakMap,Ce=new WeakMap;const d=new bn;Ti();var yn=b('<div class="absolute inset-0 flex items-center" aria-hidden="true"><div></div></div>'),wn=(e,t)=>d.goToStep(o(t).id),Sn=Br('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),kn=b('<span class="text-sm font-medium"> </span>'),Cn=b('<li><!> <button><!></button> <div class="mt-2 text-center"><div> </div> <div> </div></div></li>'),En=b('<nav aria-label="Progress"><ol class="flex items-center"></ol></nav>');function In(e,t){Ut(t,!1);const r=[{id:0,name:"Select",description:"Choose your product"},{id:1,name:"Configure",description:"Customize options"},{id:2,name:"Review",description:"Verify & price"},{id:3,name:"Complete",description:"Finalize order"}];pn();var i=En(),n=a(i);It(n,5,()=>r,Et,(s,l,v)=>{var c=Cn(),_=a(c);{var g=p=>{var C=yn(),I=a(C);T(()=>ut(I,1,`h-0.5 w-full ${d.currentStep>o(l).id?"bg-primary-600":"bg-gray-200"}`)),h(p,C)};E(_,p=>{v<r.length-1&&p(g)})}var m=u(_,2);m.__click=[wn,l];var f=a(m);{var w=p=>{var C=Sn();h(p,C)},x=p=>{var C=kn(),I=a(C);T(()=>k(I,o(l).id+1)),h(p,C)};E(f,p=>{d.currentStep>o(l).id?p(w):p(x,!1)})}var N=u(m,2),R=a(N),j=a(R),M=u(R,2),S=a(M);T(()=>{ut(c,1,`relative ${v<r.length-1?"pr-8 sm:pr-20":""}`),ut(m,1,`relative w-8 h-8 flex items-center justify-center rounded-full transition-colors
                 ${d.currentStep>o(l).id?"bg-primary-600 text-white":d.currentStep===o(l).id?"bg-primary-50 border-2 border-primary-600 text-primary-600":"bg-white border-2 border-gray-300 text-gray-500"}`),Yr(m,"aria-current",d.currentStep===o(l).id?"step":void 0),ut(R,1,`text-xs font-medium ${d.currentStep>=o(l).id?"text-gray-900":"text-gray-500"}`),k(j,o(l).name),ut(M,1,`text-xs ${d.currentStep>=o(l).id?"text-gray-500":"text-gray-400"}`),k(S,o(l).description)}),h(s,c)}),h(e,i),Ht()}ne(["click"]);var Pn=b('<p class="mt-4 text-sm text-gray-600"> </p>'),Mn=b('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" aria-live="polite"><div class="bg-white rounded-lg p-6 text-center"><div></div> <!></div></div>'),Tn=b('<span class="ml-3 text-sm text-gray-600"> </span>'),On=b('<div class="flex items-center justify-center" aria-live="polite"><div></div> <!></div>');function Rn(e,t){let r=vt(t,"size",3,"md"),i=vt(t,"color",3,"primary"),n=vt(t,"message",3,""),s=vt(t,"overlay",3,!1);const l={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},v={primary:"border-primary-600",gray:"border-gray-600",white:"border-white"};var c=ae(),_=Yt(c);{var g=f=>{var w=Mn(),x=a(w),N=a(x),R=u(N,2);{var j=M=>{var S=Pn(),p=a(S);T(()=>k(p,n())),h(M,S)};E(R,M=>{n()&&M(j)})}T(()=>ut(N,1,`animate-spin rounded-full ${l[r()]??""} border-2 border-gray-200 ${v[i()]??""} border-t-transparent mx-auto`)),h(f,w)},m=f=>{var w=On(),x=a(w),N=u(x,2);{var R=j=>{var M=Tn(),S=a(M);T(()=>k(S,n())),h(j,M)};E(N,j=>{n()&&j(R)})}T(()=>ut(x,1,`animate-spin rounded-full ${l[r()]??""} border-2 border-gray-200 ${v[i()]??""} border-t-transparent`)),h(f,w)};E(_,f=>{s()?f(g):f(m,!1)})}h(e,c)}function An(e,t,r,i){t()<r()&&i("retry")}function Dn(e,t){t(!t())}var jn=b('<div class="mt-3 text-xs text-red-600 bg-red-100 p-2 rounded border"><pre class="whitespace-pre-wrap"> </pre></div>'),qn=b('<button type="button" class="text-sm bg-red-100 text-red-800 px-3 py-1 rounded hover:bg-red-200 transition-colors"> </button>'),Ln=b('<div class="rounded-md bg-red-50 p-4 border border-red-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3 flex-1"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"><p> </p></div> <!> <div class="mt-4 flex space-x-3"><!> <button type="button" class="text-sm text-red-600 hover:text-red-500 underline"> </button></div></div></div></div>');function Nn(e,t){Ut(t,!0);let r=vt(t,"error",3,null),i=vt(t,"context",3,"Application"),n=vt(t,"showDetails",7,!1),s=vt(t,"retryable",3,!0),l=vt(t,"retryCount",3,0),v=vt(t,"maxRetries",3,3);const c=Ur();let _=kt(()=>s()&&l()<v());var g=ae(),m=Yt(g);{var f=w=>{var x=Ln(),N=a(x),R=u(a(N),2),j=a(R),M=a(j),S=u(j,2),p=a(S),C=a(p),I=u(S,2);{var F=tt=>{var O=jn(),y=a(O),P=a(y);T(q=>k(P,q),[()=>r().stack||JSON.stringify(r(),null,2)]),h(tt,O)};E(I,tt=>{n()&&tt(F)})}var D=u(I,2),K=a(D);{var z=tt=>{var O=qn();O.__click=[An,l,v,c];var y=a(O);T(()=>k(y,`Retry ${l()>0?`(${l()}/${v()})`:""}`)),h(tt,O)};E(K,tt=>{o(_)&&tt(z)})}var G=u(K,2);G.__click=[Dn,n];var $=a(G);T(()=>{k(M,`${i()??""} Error`),k(C,`Something went wrong. ${r().message||"An unexpected error occurred."}`),k($,`${n()?"Hide":"Show"} Details`)}),h(w,x)};E(m,w=>{r()&&w(f)})}h(e,g),Ht()}ne(["click"]);function Fn(e,t,r){t.group.max_selections&&o(r)>=t.group.max_selections||rr(r)}function Vn(e,t){o(t)>0&&rr(t,-1)}function zn(e,t,r){o(t)?H(r,0):H(r,1)}var Bn=b('<div class="absolute -top-2 -right-2 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),Un=b('<p class="mt-1 text-sm text-gray-500"> </p>'),Hn=b('<span class="text-xs text-gray-500"> </span>'),Yn=b('<div class="text-xs text-primary-600"> </div>'),Gn=b('<span class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded"> </span>'),Qn=b('<span class="text-xs text-gray-500"> </span>'),Jn=b('<div class="mt-2 flex flex-wrap gap-1"><!> <!></div>'),Kn=b('<div class="w-2 h-2 bg-white rounded-full"></div>'),Wn=b('<button type="button"><div><!></div> <span> </span></button>'),Zn=b('<div class="flex items-center space-x-3"><span class="text-sm text-gray-500">Quantity:</span> <div class="flex items-center space-x-2"><button type="button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg></button> <span class="w-8 text-center text-sm font-medium"> </span> <button type="button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button></div></div>'),Xn=b('<div class="text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded"> </div>'),$n=b('<div><!> <div class="p-4"><div class="flex items-start justify-between"><div class="flex-1"><h3 class="text-sm font-medium text-gray-900"> </h3> <!></div> <div class="ml-4 text-right"><div class="text-sm font-medium text-gray-900"> <!></div> <!></div></div> <!> <div class="mt-4 flex items-center justify-between"><!> <!></div></div></div>');function ta(e,t){Ut(t,!0);let r=Z(Lt(d.selections[t.option.id]||0)),i=kt(()=>o(r)>0),n=kt(()=>o(r)*t.option.base_price);Rt(()=>{d.updateSelection(t.option.id,o(r))}),Rt(()=>{if(t.group.selection_type==="single"&&o(i))for(const O of t.group.options)O.id!==t.option.id&&d.selections[O.id]>0&&d.updateSelection(O.id,0)});var s=$n(),l=a(s);{var v=O=>{var y=Bn();h(O,y)};E(l,O=>{o(i)&&O(v)})}var c=u(l,2),_=a(c),g=a(_),m=a(g),f=a(m),w=u(m,2);{var x=O=>{var y=Un(),P=a(y);T(()=>k(P,t.option.description)),h(O,y)};E(w,O=>{t.option.description&&O(x)})}var N=u(g,2),R=a(N),j=a(R),M=u(j);{var S=O=>{var y=Hn(),P=a(y);T(()=>k(P,`/${t.option.price_unit??""}`)),h(O,y)};E(M,O=>{t.option.price_unit&&t.option.price_unit!=="each"&&O(S)})}var p=u(R,2);{var C=O=>{var y=Yn(),P=a(y);T(q=>k(P,`Total: $${q??""}`),[()=>o(n).toFixed(2)]),h(O,y)};E(p,O=>{o(n)>t.option.base_price&&O(C)})}var I=u(_,2);{var F=O=>{var y=Jn(),P=a(y);It(P,17,()=>t.option.constraints.slice(0,3),Et,(L,A)=>{var Q=Gn(),et=a(Q);T(()=>k(et,o(A))),h(L,Q)});var q=u(P,2);{var it=L=>{var A=Qn(),Q=a(A);T(()=>k(Q,`+${t.option.constraints.length-3} more`)),h(L,A)};E(q,L=>{t.option.constraints.length>3&&L(it)})}h(O,y)};E(I,O=>{t.option.constraints&&t.option.constraints.length>0&&O(F)})}var D=u(I,2),K=a(D);{var z=O=>{var y=Wn();y.__click=[zn,i,r];var P=a(y),q=a(P);{var it=Q=>{var et=Kn();h(Q,et)};E(q,Q=>{o(i)&&Q(it)})}var L=u(P,2),A=a(L);T(()=>{ut(y,1,`flex items-center space-x-2 text-sm font-medium
                 ${o(i)?"text-primary-600":"text-gray-500 hover:text-gray-700"}`),ut(P,1,`w-4 h-4 rounded-full border-2 flex items-center justify-center
                      ${o(i)?"border-primary-600 bg-primary-600":"border-gray-300"}`),k(A,o(i)?"Selected":"Select")}),h(O,y)},G=O=>{var y=Zn(),P=u(a(y),2),q=a(P);q.__click=[Vn,r];var it=u(q,2),L=a(it),A=u(it,2);A.__click=[Fn,t,r],T(()=>{ut(q,1,`w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center
                     ${o(r)>0?"hover:bg-gray-100 text-gray-700":"text-gray-400 cursor-not-allowed"}`),q.disabled=o(r)<=0,k(L,o(r)),ut(A,1,`w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center
                     hover:bg-gray-100 text-gray-700
                     ${t.group.max_selections&&o(r)>=t.group.max_selections?"opacity-50 cursor-not-allowed":""}`),A.disabled=t.group.max_selections&&o(r)>=t.group.max_selections}),h(O,y)};E(K,O=>{t.group.selection_type==="single"?O(z):O(G,!1)})}var $=u(K,2);{var tt=O=>{var y=Xn(),P=a(y);T(()=>k(P,t.option.availability_status)),h(O,y)};E($,O=>{t.option.availability_status&&t.option.availability_status!=="available"&&O(tt)})}T(O=>{ut(s,1,`relative rounded-lg border-2 transition-all duration-200 
            ${o(i)?"border-primary-500 bg-primary-50":"border-gray-200 bg-white hover:border-gray-300"}`),k(f,t.option.name),k(j,`$${O??""} `)},[()=>t.option.base_price.toFixed(2)]),h(e,s),Ht()}ne(["click"]);var ea=b('<span class="ml-2 text-sm text-red-500">*</span>'),ra=Br('<svg class="ml-2 w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),ia=b('<p class="mt-1 text-sm text-gray-500"> </p>'),na=b('<div class="text-xs text-gray-400">Choose one</div>'),aa=b('<div class="text-xs text-gray-400"><!></div>'),sa=b("<div> </div>"),oa=b('<div class="mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2"></div>'),la=b('<div class="text-xs bg-gray-50 p-2 rounded"> </div>'),da=b('<div class="mt-4 text-sm text-gray-600"><details class="group"><summary class="cursor-pointer font-medium group-hover:text-gray-800"> </summary> <div class="mt-2 space-y-1"></div></details></div>'),va=b('<div class="mb-8"><div class="mb-4"><div class="flex items-center justify-between"><div><h2 class="text-lg font-medium text-gray-900 flex items-center"> <!> <!></h2> <!></div> <div class="text-right"><div class="text-sm text-gray-500"> <!> selected</div> <!></div></div> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div> <!></div>');function ua(e,t){Ut(t,!0);let r=kt(()=>t.group.options.reduce((y,P)=>y+(d.selections[P.id]||0),0)),i=kt(()=>t.group.required),n=kt(()=>!o(i)||o(r)>=(t.group.min_selections||1)),s=kt(()=>d.validationResults.some(y=>y.group_id===t.group.id||t.group.options.some(P=>y.option_id===P.id)));var l=va(),v=a(l),c=a(v),_=a(c),g=a(_),m=a(g),f=u(m);{var w=y=>{var P=ea();h(y,P)};E(f,y=>{o(i)&&y(w)})}var x=u(f,2);{var N=y=>{var P=ra();h(y,P)};E(x,y=>{o(n)&&y(N)})}var R=u(g,2);{var j=y=>{var P=ia(),q=a(P);T(()=>k(q,t.group.description)),h(y,P)};E(R,y=>{t.group.description&&y(j)})}var M=u(_,2),S=a(M),p=a(S),C=u(p);{var I=y=>{var P=Ue();T(()=>k(P,`/ ${t.group.max_selections??""}`)),h(y,P)};E(C,y=>{t.group.max_selections&&y(I)})}var F=u(S,2);{var D=y=>{var P=na();h(y,P)},K=(y,P)=>{{var q=it=>{var L=aa(),A=a(L);{var Q=Y=>{var dt=Ue();T(()=>k(dt,`${t.group.min_selections??""}-${t.group.max_selections??""} required`)),h(Y,dt)},et=(Y,dt)=>{{var B=W=>{var nt=Ue();T(()=>k(nt,`Min ${t.group.min_selections??""} required`)),h(W,nt)},V=(W,nt)=>{{var at=ct=>{var ft=Ue();T(()=>k(ft,`Max ${t.group.max_selections??""} allowed`)),h(ct,ft)};E(W,ct=>{t.group.max_selections&&ct(at)},nt)}};E(Y,W=>{t.group.min_selections?W(B):W(V,!1)},dt)}};E(A,Y=>{t.group.min_selections&&t.group.max_selections?Y(Q):Y(et,!1)})}h(it,L)};E(y,it=>{(t.group.min_selections||t.group.max_selections)&&it(q)},P)}};E(F,y=>{t.group.selection_type==="single"?y(D):y(K,!1)})}var z=u(c,2);{var G=y=>{var P=oa();It(P,21,()=>d.validationResults,Et,(q,it)=>{var L=ae(),A=Yt(L);{var Q=et=>{var Y=sa(),dt=a(Y);T(()=>k(dt,o(it).message)),h(et,Y)};E(A,et=>{o(it).group_id===t.group.id&&et(Q)})}h(q,L)}),h(y,P)};E(z,y=>{o(s)&&y(G)})}var $=u(v,2);It($,21,()=>t.group.options,Et,(y,P)=>{ta(y,{get option(){return o(P)},get group(){return t.group}})});var tt=u($,2);{var O=y=>{var P=da(),q=a(P),it=a(q),L=a(it),A=u(it,2);It(A,21,()=>t.group.constraints,Et,(Q,et)=>{var Y=la(),dt=a(Y);T(()=>k(dt,o(et))),h(Q,Y)}),T(()=>k(L,`View Constraints (${t.group.constraints.length??""})`)),h(y,P)};E(tt,y=>{t.group.constraints&&t.group.constraints.length>0&&y(O)})}T(()=>{k(m,`${t.group.name??""} `),k(p,`${o(r)??""} `)}),h(e,l),Ht()}var ca=b('<div class="text-sm text-gray-500 flex items-center"><div class="animate-spin w-4 h-4 border-2 border-gray-300 border-t-primary-600 rounded-full mr-2"></div> Calculating...</div>'),fa=b('<div class="text-sm text-green-600">Updated</div>'),_a=b('<span class="text-green-600 ml-2"> </span>'),ga=b('<div class="text-sm text-gray-500"> <!></div>'),ha=b('<div class="text-gray-500 text-xs"> </div>'),ma=b('<div class="flex justify-between text-sm"><div class="flex-1"><div class="text-gray-900"> </div> <!></div> <div class="text-gray-900 font-medium"> </div></div>'),pa=b('<div class="flex justify-between text-sm"><span class="text-gray-600"> </span> <span> </span></div>'),xa=b('<div class="space-y-3"><h4 class="text-sm font-medium text-gray-700 border-b border-gray-200 pb-2">Price Breakdown</h4> <!> <div class="border-t border-gray-200 pt-3"><div class="flex justify-between text-sm"><span class="text-gray-500">Subtotal</span> <span class="text-gray-900"> </span></div></div> <!> <div class="border-t border-gray-200 pt-3"><div class="flex justify-between text-lg font-medium"><span class="text-gray-900">Total</span> <span class="text-gray-900"> </span></div></div></div>'),ba=()=>d.saveConfiguration(),ya=b('<div class="mt-6 space-y-3"><button type="button" class="w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 transition-colors">Save Configuration</button> <button type="button" class="w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-200 transition-colors">Export Configuration</button></div>'),wa=b('<div class="bg-white rounded-lg border border-gray-200 p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900">Pricing</h3> <!></div> <div class="text-center mb-6"><div class="text-3xl font-bold text-gray-900"> </div> <!></div> <!> <!></div>');function Zr(e,t){Ut(t,!0);let r=vt(t,"detailed",3,!1),i=vt(t,"showBreakdown",3,!0),n=kt(()=>d.adjustments.reduce((S,p)=>p.amount<0?S+Math.abs(p.amount):S,0));var s=wa(),l=a(s),v=u(a(l),2);{var c=S=>{var p=ca();h(S,p)},_=(S,p)=>{{var C=I=>{var F=fa();h(I,F)};E(S,I=>{d.pricingData&&I(C)},p)}};E(v,S=>{d.isPricing?S(c):S(_,!1)})}var g=u(l,2),m=a(g),f=a(m),w=u(m,2);{var x=S=>{var p=ga(),C=a(p),I=u(C);{var F=D=>{var K=_a(),z=a(K);T(G=>k(z,`Save $${G??""}`),[()=>o(n).toFixed(2)]),h(D,K)};E(I,D=>{o(n)>0&&D(F)})}T(D=>k(C,`Base: $${D??""} `),[()=>d.basePrice.toFixed(2)]),h(S,p)};E(w,S=>{d.basePrice!==d.totalPrice&&S(x)})}var N=u(g,2);{var R=S=>{var p=xa(),C=u(a(p),2);It(C,17,()=>d.selectedOptions,Et,(P,q)=>{var it=ma(),L=a(it),A=a(L),Q=a(A),et=u(A,2);{var Y=V=>{var W=ha(),nt=a(W);T(at=>k(nt,`$${at??""} × ${d.selections[o(q).id]??""}`),[()=>o(q).base_price.toFixed(2)]),h(V,W)};E(et,V=>{d.selections[o(q).id]>1&&V(Y)})}var dt=u(L,2),B=a(dt);T(V=>{k(Q,o(q).name),k(B,`$${V??""}`)},[()=>(o(q).base_price*d.selections[o(q).id]).toFixed(2)]),h(P,it)});var I=u(C,2),F=a(I),D=u(a(F),2),K=a(D),z=u(I,2);{var G=P=>{var q=ae(),it=Yt(q);It(it,17,()=>d.adjustments,Et,(L,A)=>{var Q=pa(),et=a(Q),Y=a(et),dt=u(et,2),B=a(dt);T(V=>{k(Y,o(A).rule_name||o(A).name),ut(dt,1,o(A).amount<0?"text-green-600":"text-red-600"),k(B,`${o(A).amount<0?"-":"+"}$${V??""}`)},[()=>Math.abs(o(A).amount).toFixed(2)]),h(L,Q)}),h(P,q)};E(z,P=>{d.adjustments.length>0&&P(G)})}var $=u(z,2),tt=a($),O=u(a(tt),2),y=a(O);T((P,q)=>{k(K,`$${P??""}`),k(y,`$${q??""}`)},[()=>d.basePrice.toFixed(2),()=>d.totalPrice.toFixed(2)]),h(S,p)};E(N,S=>{i()&&d.pricingData&&d.selectedOptions.length>0&&S(R)})}var j=u(N,2);{var M=S=>{var p=ya(),C=a(p);C.__click=[ba];var I=u(C,2);I.__click=()=>{const F=d.exportConfiguration(),D=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),K=URL.createObjectURL(D),z=document.createElement("a");z.href=K,z.download=`configuration-${Date.now()}.json`,z.click()},h(S,p)};E(j,S=>{r()&&S(M)})}T(S=>k(f,`$${S??""}`),[()=>d.totalPrice.toFixed(2)]),h(e,s),Ht()}ne(["click"]);var Sa=b("<li> </li>"),ka=b('<div class="rounded-md bg-red-50 p-4 border border-red-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"><ul class="space-y-1"></ul></div></div></div></div>'),Ca=b("<li> </li>"),Ea=b('<div class="rounded-md bg-yellow-50 p-4 border border-yellow-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-yellow-800"> </h3> <div class="mt-2 text-sm text-yellow-700"><ul class="space-y-1"></ul></div></div></div></div>'),Ia=b("<li> </li>"),Pa=b('<div class="rounded-md bg-blue-50 p-4 border border-blue-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-blue-800"> </h3> <div class="mt-2 text-sm text-blue-700"><ul class="space-y-1"></ul></div></div></div></div>'),Ma=b('<div class="space-y-3"><!> <!> <!></div>'),Ta=b('<div class="text-center py-4"><div class="animate-spin w-6 h-6 border-2 border-gray-300 border-t-primary-600 rounded-full mx-auto"></div> <p class="mt-2 text-sm text-gray-500">Validating configuration...</p></div>'),Oa=b('<div class="rounded-md bg-green-50 p-4 border border-green-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-green-800">Configuration Valid</h3> <div class="mt-2 text-sm text-green-700"><p>Your configuration meets all requirements and constraints.</p></div></div></div></div>');function Xr(e,t){Ut(t,!0);let r=vt(t,"showSuggestions",3,!0),i=kt(()=>d.validationResults.filter(g=>g.severity==="error"||g.level==="error")),n=kt(()=>d.validationResults.filter(g=>g.severity==="warning"||g.level==="warning")),s=kt(()=>d.validationResults.filter(g=>g.severity==="info"||g.level==="suggestion"));var l=ae(),v=Yt(l);{var c=g=>{var m=Ma(),f=a(m);{var w=M=>{var S=ka(),p=a(S),C=u(a(p),2),I=a(C),F=a(I),D=u(I,2),K=a(D);It(K,21,()=>o(i),Et,(z,G)=>{var $=Sa(),tt=a($);T(()=>k(tt,`• ${o(G).message??""}`)),h(z,$)}),T(()=>k(F,`Configuration Errors (${o(i).length??""})`)),h(M,S)};E(f,M=>{o(i).length>0&&M(w)})}var x=u(f,2);{var N=M=>{var S=Ea(),p=a(S),C=u(a(p),2),I=a(C),F=a(I),D=u(I,2),K=a(D);It(K,21,()=>o(n),Et,(z,G)=>{var $=Ca(),tt=a($);T(()=>k(tt,`• ${o(G).message??""}`)),h(z,$)}),T(()=>k(F,`Warnings (${o(n).length??""})`)),h(M,S)};E(x,M=>{o(n).length>0&&M(N)})}var R=u(x,2);{var j=M=>{var S=Pa(),p=a(S),C=u(a(p),2),I=a(C),F=a(I),D=u(I,2),K=a(D);It(K,21,()=>o(s),Et,(z,G)=>{var $=Ia(),tt=a($);T(()=>k(tt,`• ${o(G).message??""}`)),h(z,$)}),T(()=>k(F,`Suggestions (${o(s).length??""})`)),h(M,S)};E(R,M=>{r()&&o(s).length>0&&M(j)})}h(g,m)},_=(g,m)=>{{var f=x=>{var N=Ta();h(x,N)},w=x=>{var N=Oa();h(x,N)};E(g,x=>{d.isValidating?x(f):x(w,!1)},m)}};E(v,g=>{d.validationResults.length>0?g(c):g(_,!1)})}h(e,l),Ht()}var Ra=b('<div class="text-sm text-gray-500 mt-1"> </div>'),Aa=b('<div class="text-sm text-gray-600 mt-1"> </div>'),Da=b('<div class="text-sm text-gray-500"> </div>'),ja=b('<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"><div class="flex-1"><div class="font-medium text-gray-900"> </div> <!> <!></div> <div class="text-right"><div class="font-medium text-gray-900"> </div> <!></div></div>'),qa=b('<div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Selected Options</h3> <div class="space-y-4"></div></div>'),La=(e,t)=>H(t,!0),Na=()=>d.saveConfiguration(),Fa=(e,t)=>H(t,!1),Va=e=>e.stopPropagation(),za=(e,t,r)=>t(o(r)),Ba=(e,t)=>H(t,!1),Ua=b('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 max-w-md w-full mx-4"><h3 class="text-lg font-medium text-gray-900 mb-4">Share Configuration</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Shareable Link</label> <div class="flex"><input type="text" readonly="" class="flex-1 px-3 py-2 border border-gray-300 rounded-l-md text-sm bg-gray-50"/> <button type="button" class="px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 transition-colors text-sm"> </button></div></div> <div class="flex justify-end space-x-3"><button type="button" class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">Close</button></div></div></div></div>'),Ha=b('<div class="space-y-6"><div class="bg-white rounded-lg border border-gray-200 p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Configuration Summary</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="text-center p-4 bg-gray-50 rounded-lg"><div class="text-2xl font-bold text-primary-600"> </div> <div class="text-sm text-gray-500">Options Selected</div></div> <div class="text-center p-4 bg-gray-50 rounded-lg"><div class="text-2xl font-bold text-primary-600"> </div> <div class="text-sm text-gray-500">Complete</div></div> <div class="text-center p-4 bg-gray-50 rounded-lg"><div> </div> <div class="text-sm text-gray-500"> </div></div></div></div> <!> <div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Validation Status</h3> <!></div> <!> <div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Actions</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><button type="button" class="flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg> Share Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Export Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path></svg> Save Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 3H3m4 10v6a1 1 0 001 1h6a1 1 0 001-1v-6m-8 0V9a1 1 0 011-1h6a1 1 0 011 1v4.01"></path></svg> Request Quote</button></div></div></div> <!>',1);function Ya(e,t){Ut(t,!0);let r=kt(()=>d.generateShareableUrl()),i=Z(!1),n=Z(!1);async function s(L){try{await navigator.clipboard.writeText(L),H(n,!0),setTimeout(()=>H(n,!1),2e3)}catch(A){console.warn("Failed to copy to clipboard:",A)}}function l(){const L=d.exportConfiguration(),A=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),Q=URL.createObjectURL(A),et=document.createElement("a");et.href=Q,et.download=`configuration-${Date.now()}.json`,et.click(),URL.revokeObjectURL(Q)}var v=Ha(),c=Yt(v),_=a(c),g=u(a(_),2),m=a(g),f=a(m),w=a(f),x=u(m,2),N=a(x),R=a(N),j=u(x,2),M=a(j),S=a(M),p=u(M,2),C=a(p),I=u(_,2);{var F=L=>{var A=qa(),Q=u(a(A),2);It(Q,21,()=>d.selectedOptions,Et,(et,Y)=>{var dt=ja(),B=a(dt),V=a(B),W=a(V),nt=u(V,2);{var at=U=>{var lt=Ra(),ht=a(lt);T(()=>k(ht,o(Y).description)),h(U,lt)};E(nt,U=>{o(Y).description&&U(at)})}var ct=u(nt,2);{var ft=U=>{var lt=Aa(),ht=a(lt);T(()=>k(ht,`Quantity: ${d.selections[o(Y).id]??""}`)),h(U,lt)};E(ct,U=>{d.selections[o(Y).id]>1&&U(ft)})}var pt=u(B,2),_t=a(pt),Mt=a(_t),Dt=u(_t,2);{var ot=U=>{var lt=Da(),ht=a(lt);T(Ft=>k(ht,`$${Ft??""} each`),[()=>o(Y).base_price.toFixed(2)]),h(U,lt)};E(Dt,U=>{d.selections[o(Y).id]>1&&U(ot)})}T(U=>{k(W,o(Y).name),k(Mt,`$${U??""}`)},[()=>(o(Y).base_price*d.selections[o(Y).id]).toFixed(2)]),h(et,dt)}),h(L,A)};E(I,L=>{d.selectedOptions.length>0&&L(F)})}var D=u(I,2),K=u(a(D),2);Xr(K,{});var z=u(D,2);Zr(z,{detailed:!0});var G=u(z,2),$=u(a(G),2),tt=a($);tt.__click=[La,i];var O=u(tt,2);O.__click=l;var y=u(O,2);y.__click=[Na];var P=u(y,2),q=u(c,2);{var it=L=>{var A=Ua();A.__click=[Fa,i];var Q=a(A);Q.__click=[Va];var et=u(a(Q),2),Y=a(et),dt=u(a(Y),2),B=a(dt),V=u(B,2);V.__click=[za,s,r];var W=a(V),nt=u(Y,2),at=a(nt);at.__click=[Ba,i],T(()=>{hn(B,o(r)),k(W,o(n)?"Copied!":"Copy")}),h(L,A)};E(q,L=>{o(i)&&L(it)})}T(()=>{k(w,d.selectedOptions.length),k(R,`${d.completionPercentage??""}%`),ut(M,1,`text-2xl font-bold ${d.isValid?"text-green-600":"text-red-600"}`),k(S,d.isValid?"✓":"✗"),k(C,d.isValid?"Valid":"Has Errors"),y.disabled=!d.isValid,P.disabled=!d.isValid}),h(e,v),Ht()}ne(["click"]);function Ga(e,t,r,i){const n=d.exportConfiguration();t()&&t()(n),r("complete",n),i()&&window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-complete",configuration:n},"*")}var Qa=b('<div class="text-sm text-red-500"> </div>'),Ja=b('<div class="text-sm text-green-600">Valid</div>'),Ka=b('<div class="cpq-embed-header bg-white border-b border-gray-200 p-4"><div class="flex items-center justify-between"><div><h1 class="text-lg font-semibold text-gray-900"> </h1> <div class="text-sm text-gray-500"> </div></div> <div class="text-right"><div class="text-lg font-bold text-primary-600"> </div> <!></div></div> <div class="mt-3"><div class="bg-gray-200 rounded-full h-2"><div class="bg-primary-600 h-2 rounded-full transition-all duration-300"></div></div></div></div>'),Wa=b('<p class="mt-1 text-gray-600"> </p>'),Za=b('<div class="mb-8"><div class="flex items-center justify-between mb-6"><div><h1 class="text-2xl font-bold text-gray-900"> </h1> <!></div> <div class="text-right"><div class="text-sm text-gray-500">Progress</div> <div class="text-lg font-semibold text-primary-600"> </div></div></div> <!></div>'),Xa=b('<div><span class="text-gray-500"> </span> <span class="ml-2 text-gray-900"> </span></div>'),$a=b('<div><h3 class="text-sm font-medium text-gray-700 mb-2">Specifications</h3> <div class="grid grid-cols-2 gap-4 text-sm"></div></div>'),ts=()=>d.nextStep(),es=b('<div class="bg-white rounded-lg border border-gray-200 p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Product Overview</h2> <div class="space-y-4"><!> <div class="pt-4"><button type="button" class="bg-primary-600 text-white px-6 py-3 rounded-md font-medium hover:bg-primary-700 transition-colors">Start Configuring</button></div></div></div>'),rs=b('<div class="bg-white rounded-lg border border-gray-200 p-6"><!></div>'),is=b('<div class="text-center py-8 text-gray-500">No configuration options available.</div>'),ns=b('<div class="bg-white rounded-lg border border-gray-200 p-6"><!></div>'),as=b('<div class="space-y-6"><!> <!></div>'),ss=()=>d.goToStep(1),os=b('<div class="bg-white rounded-lg border border-gray-200 p-8 text-center"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-gray-900 mb-2">Configuration Complete!</h2> <p class="text-gray-600 mb-6">Your product configuration has been finalized.</p> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-md mx-auto"><button type="button" class="bg-primary-600 text-white px-4 py-2 rounded-md font-medium hover:bg-primary-700 transition-colors">Get Quote</button> <button type="button" class="border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors">Modify</button></div></div>'),ls=()=>d.previousStep(),ds=()=>d.nextStep(),vs=b('<button type="button"> <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>'),us=()=>d.clearSelections(),cs=()=>d.saveConfiguration(),fs=b('<div class="cpq-sidebar"><div class="sticky top-8 space-y-6"><!> <div class="bg-white rounded-lg border border-gray-200 p-4"><h3 class="text-sm font-medium text-gray-900 mb-3">Quick Actions</h3> <div class="space-y-2"><button type="button" class="w-full text-left text-sm text-gray-600 hover:text-gray-900 p-2 rounded hover:bg-gray-50">Clear All</button> <button type="button" class="w-full text-left text-sm text-gray-600 hover:text-gray-900 p-2 rounded hover:bg-gray-50">Save Progress</button></div></div></div></div>'),_s=b('<!> <div><!> <div class="mt-6 flex justify-between"><button type="button"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> Previous</button> <!></div></div> <!>',1),gs=b('<div class="text-center py-12"><h2 class="text-xl font-semibold text-gray-900 mb-2">Model Not Found</h2> <p class="text-gray-600">The requested model could not be found.</p></div>'),hs=b("<div><!></div>");function ms(e,t){Ut(t,!0);let r=vt(t,"theme",7,"light"),i=vt(t,"apiUrl",3,"http://localhost:8080/api/v1"),n=vt(t,"embedMode",3,!1),s=vt(t,"onComplete",3,null),l=vt(t,"onConfigurationChange",3,null),v=vt(t,"onError",3,null);const c=Ur();let _=Z(0),g=Lt(n());typeof window<"u"&&(window.__API_BASE_URL__=i()),nn(()=>{d.initialize(),d.setModelId(t.modelId),document.documentElement.setAttribute("data-theme",r()),n()&&m()});function m(){window.addEventListener("message",f),window.parent!==window&&window.parent.postMessage({type:"cpq-configurator-ready",modelId:t.modelId},"*"),new ResizeObserver(()=>{window.parent!==window&&window.parent.postMessage({type:"cpq-configurator-resize",height:document.body.scrollHeight},"*")}).observe(document.body)}function f(M){const{type:S,data:p}=M.data;switch(S){case"cpq-set-theme":r(p.theme),document.documentElement.setAttribute("data-theme",r());break;case"cpq-load-configuration":p.config&&d.loadFromShareableUrl(p.config);break;case"cpq-get-configuration":window.parent.postMessage({type:"cpq-configuration-data",configuration:d.exportConfiguration()},"*");break}}function w(){rr(_),d.reset(),d.setModelId(t.modelId)}Rt(()=>{l()&&l()(d.exportConfiguration()),n()&&window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-change",configuration:d.exportConfiguration()},"*")}),Rt(()=>{d.error&&v()&&v()(d.error)});var x=hs(),N=a(x);{var R=M=>{Nn(M,{get error(){return d.error},context:"Configurator",get retryCount(){return o(_)},$$events:{retry:w}})},j=(M,S)=>{{var p=I=>{Rn(I,{size:"lg",message:"Loading configurator..."})},C=(I,F)=>{{var D=z=>{var G=_s(),$=Yt(G);{var tt=B=>{var V=Ka(),W=a(V),nt=a(W),at=a(nt),ct=a(at),ft=u(at,2),pt=a(ft),_t=u(nt,2),Mt=a(_t),Dt=a(Mt),ot=u(Mt,2);{var U=Tt=>{var se=Qa(),Ee=a(se);T(()=>k(Ee,`${d.validationResults.length??""} issues`)),h(Tt,se)},lt=(Tt,se)=>{{var Ee=vr=>{var xs=Ja();h(vr,xs)};E(Tt,vr=>{d.selectedOptions.length>0&&vr(Ee)},se)}};E(ot,Tt=>{d.validationResults.length>0?Tt(U):Tt(lt,!1)})}var ht=u(W,2),Ft=a(ht),Wt=a(Ft);T(Tt=>{k(ct,d.model.name),k(pt,`Step ${d.currentStep+1} of 4 • ${d.completionPercentage??""}% complete`),k(Dt,`$${Tt??""}`),fn(Wt,`width: ${d.completionPercentage??""}%`)},[()=>d.totalPrice.toFixed(2)]),h(B,V)},O=B=>{var V=Za(),W=a(V),nt=a(W),at=a(nt),ct=a(at),ft=u(at,2);{var pt=U=>{var lt=Wa(),ht=a(lt);T(()=>k(ht,d.model.description)),h(U,lt)};E(ft,U=>{d.model.description&&U(pt)})}var _t=u(nt,2),Mt=u(a(_t),2),Dt=a(Mt),ot=u(W,2);In(ot,{}),T(()=>{k(ct,d.model.name),k(Dt,`${d.completionPercentage??""}%`)}),h(B,V)};E($,B=>{n()?B(tt):B(O,!1)})}var y=u($,2),P=a(y);{var q=B=>{var V=es(),W=u(a(V),2),nt=a(W);{var at=pt=>{var _t=$a(),Mt=u(a(_t),2);It(Mt,21,()=>Object.entries(d.model.specifications),Et,(Dt,ot)=>{var U=kt(()=>gi(o(ot),2));let lt=()=>o(U)[0],ht=()=>o(U)[1];var Ft=Xa(),Wt=a(Ft),Tt=a(Wt),se=u(Wt,2),Ee=a(se);T(()=>{k(Tt,`${lt()??""}:`),k(Ee,ht())}),h(Dt,Ft)}),h(pt,_t)};E(nt,pt=>{d.model.specifications&&pt(at)})}var ct=u(nt,2),ft=a(ct);ft.__click=[ts],h(B,V)},it=(B,V)=>{{var W=at=>{var ct=as(),ft=a(ct);{var pt=ot=>{var U=ae(),lt=Yt(U);It(lt,17,()=>d.model.option_groups,Et,(ht,Ft)=>{var Wt=rs(),Tt=a(Wt);ua(Tt,{get group(){return o(Ft)}}),h(ht,Wt)}),h(ot,U)},_t=ot=>{var U=is();h(ot,U)};E(ft,ot=>{d.model.option_groups&&d.model.option_groups.length>0?ot(pt):ot(_t,!1)})}var Mt=u(ft,2);{var Dt=ot=>{var U=ns(),lt=a(U);Xr(lt,{}),h(ot,U)};E(Mt,ot=>{(d.validationResults.length>0||d.isValidating)&&ot(Dt)})}h(at,ct)},nt=(at,ct)=>{{var ft=_t=>{Ya(_t,{})},pt=(_t,Mt)=>{{var Dt=ot=>{var U=os(),lt=u(a(U),6),ht=a(lt);ht.__click=[Ga,s,c,n];var Ft=u(ht,2);Ft.__click=[ss],h(ot,U)};E(_t,ot=>{d.currentStep===3&&ot(Dt)},Mt)}};E(at,_t=>{d.currentStep===2?_t(ft):_t(pt,!1)},ct)}};E(B,at=>{d.currentStep===1?at(W):at(nt,!1)},V)}};E(P,B=>{d.currentStep===0?B(q):B(it,!1)})}var L=u(P,2),A=a(L);A.__click=[ls];var Q=u(A,2);{var et=B=>{var V=vs();V.__click=[ds];var W=a(V);T(()=>{ut(V,1,`flex items-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors
                   ${d.canProceedToNextStep?"":"opacity-50 cursor-not-allowed"}`),V.disabled=!d.canProceedToNextStep,k(W,`${d.currentStep===2?"Complete":"Next"} `)}),h(B,V)};E(Q,B=>{d.currentStep<3&&B(et)})}var Y=u(y,2);{var dt=B=>{var V=fs(),W=a(V),nt=a(W);Zr(nt,{});var at=u(nt,2),ct=u(a(at),2),ft=a(ct);ft.__click=[us];var pt=u(ft,2);pt.__click=[cs],h(B,V)};E(Y,B=>{n()||B(dt)})}T(()=>{ut(y,1,n()?"cpq-embed-content":"cpq-full-content","svelte-k7ary"),ut(A,1,`flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors
                 ${d.currentStep===0?"opacity-50 cursor-not-allowed":""}`),A.disabled=d.currentStep===0}),h(z,G)},K=z=>{var G=gs();h(z,G)};E(I,z=>{d.model?z(D):z(K,!1)},F)}};E(M,I=>{d.isLoading?I(p):I(C,!1)},S)}};E(N,M=>{d.error?M(R):M(j,!1)})}T(()=>{ut(x,1,`cpq-configurator ${n()?"cpq-embed-mode":""} ${g?"cpq-compact":""}`,"svelte-k7ary"),Yr(x,"data-theme",r())}),h(e,x),Ht()}ne(["click"]);class ps{constructor(){this.instances=new Map}embed(t){const{container:r,modelId:i,theme:n="light",apiUrl:s="http://localhost:8080/api/v1",onComplete:l,onConfigurationChange:v,onError:c}=t;if(!r||!i)throw new Error("Container and modelId are required");const _=typeof r=="string"?document.querySelector(r):r;if(!_)throw new Error("Target container not found");const g=new ms({target:_,props:{modelId:i,theme:n,apiUrl:s,embedMode:!0,onComplete:l,onConfigurationChange:v,onError:c}}),m=Math.random().toString(36).substr(2,9);return this.instances.set(m,g),{id:m,destroy:()=>this.destroy(m),updateProps:f=>{Object.entries(f).forEach(([w,x])=>{g.$set({[w]:x})})}}}destroy(t){const r=this.instances.get(t);r&&(r.$destroy(),this.instances.delete(t))}destroyAll(){this.instances.forEach(t=>t.$destroy()),this.instances.clear()}}window.CPQConfigurator=new ps,document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-cpq-configurator]").forEach(t=>{const r=t.dataset.cpqModelId,i=t.dataset.cpqTheme||"light",n=t.dataset.cpqApiUrl;r&&window.CPQConfigurator.embed({container:t,modelId:r,theme:i,...n&&{apiUrl:n}})})})});
