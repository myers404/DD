var Kt=p=>{throw TypeError(p)};var oe=(p,t,o)=>t.has(p)||Kt("Cannot "+o);var U=(p,t,o)=>(oe(p,t,"read from private field"),o?o.call(p):t.get(p)),mt=(p,t,o)=>t.has(p)?Kt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(p):t.set(p,o);import{s as st,g as i,a as D,p as Gt,u as St,e as se,d as jt,b as wt,i as ne,f as n,c as pt,h as s,j as kt,k as u,l as e,m as r,t as m,n as ct,o as Zt,q as v,r as $t,v as ht,w as nt,x as It,y as Ct,z as te,A as _t,B as Yt,C as Qt,D as de,E as ee,F as le,G as ve,H as ce,$ as ue,I as ge}from"./vendor-CXcl_QwH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const y of l)if(y.type==="childList")for(const w of y.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&c(w)}).observe(document,{childList:!0,subtree:!0});function o(l){const y={};return l.integrity&&(y.integrity=l.integrity),l.referrerPolicy&&(y.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?y.credentials="include":l.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function c(l){if(l.ep)return;l.ep=!0;const y=o(l);fetch(l.href,y)}})();const me="5";var Xt;typeof window<"u"&&((Xt=window.__svelte??(window.__svelte={})).v??(Xt.v=new Set)).add(me);class Wt{constructor(t,o={}){this.baseUrl=t||"http://localhost:8080/api/v1",this.modelId=o.modelId,this.authToken=o.authToken,this.timeout=o.timeout||1e4}async request(t,o={}){const c=`${this.baseUrl}${t}`,l={method:"GET",headers:{"Content-Type":"application/json",...this.authToken&&{Authorization:`Bearer ${this.authToken}`},...o.headers},...o};l.body&&typeof l.body=="object"&&(l.body=JSON.stringify(l.body));try{const y=new AbortController,w=setTimeout(()=>y.abort(),this.timeout),R=await fetch(c,{...l,signal:y.signal});if(clearTimeout(w),!R.ok)throw new Error(`HTTP ${R.status}: ${R.statusText}`);return await R.json()}catch(y){throw y.name==="AbortError"?new Error("Request timeout"):y}}async getModel(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}`)}async getModelOptions(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}/options`)}async createConfiguration(t={}){return this.request("/configurations",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([o,c])=>({option_id:o,quantity:c}))}})}async updateConfiguration(t,o){return this.request(`/configurations/${t}`,{method:"PUT",body:{model_id:this.modelId,selections:Object.entries(o).map(([c,l])=>({option_id:c,quantity:l}))}})}async validateConfiguration(t){return this.request("/configurations/validate-selection",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([o,c])=>({option_id:o,quantity:c}))}})}async calculatePricing(t,o={}){return this.request("/pricing/calculate",{method:"POST",body:{model_id:this.modelId,selections:Object.entries(t).map(([c,l])=>({option_id:c,quantity:l})),context:o}})}async getVolumeTiers(){return this.request(`/pricing/volume-tiers/${this.modelId}`)}}var zt,Lt,Dt,Rt,Vt,Bt,Et,qt,Tt,Ft,Ut,At,Nt,Ht;class _e{constructor(){mt(this,zt,st(""));mt(this,Lt,st(null));mt(this,Dt,st(Gt({})));mt(this,Rt,st(Gt([])));mt(this,Vt,st(null));mt(this,Bt,st(!1));mt(this,Et,st(!1));mt(this,qt,st(!1));mt(this,Tt,st(null));mt(this,Ft,st(0));mt(this,Ut,st(null));mt(this,At,st(null));mt(this,Nt,st(!1));mt(this,Ht,st(null));this.initialized=!1}get modelId(){return i(U(this,zt))}set modelId(t){D(U(this,zt),t,!0)}get model(){return i(U(this,Lt))}set model(t){D(U(this,Lt),t,!0)}get selections(){return i(U(this,Dt))}set selections(t){D(U(this,Dt),t,!0)}get validationResults(){return i(U(this,Rt))}set validationResults(t){D(U(this,Rt),t,!0)}get pricingData(){return i(U(this,Vt))}set pricingData(t){D(U(this,Vt),t,!0)}get isLoading(){return i(U(this,Bt))}set isLoading(t){D(U(this,Bt),t,!0)}get isValidating(){return i(U(this,Et))}set isValidating(t){D(U(this,Et),t,!0)}get isPricing(){return i(U(this,qt))}set isPricing(t){D(U(this,qt),t,!0)}get error(){return i(U(this,Tt))}set error(t){D(U(this,Tt),t,!0)}get currentStep(){return i(U(this,Ft))}set currentStep(t){D(U(this,Ft),t,!0)}get configurationId(){return i(U(this,Ut))}set configurationId(t){D(U(this,Ut),t,!0)}get lastSaved(){return i(U(this,At))}set lastSaved(t){D(U(this,At),t,!0)}get isDirty(){return i(U(this,Nt))}set isDirty(t){D(U(this,Nt),t,!0)}get api(){return i(U(this,Ht))}set api(t){D(U(this,Ht),t,!0)}initialize(){this.initialized||(this.initialized=!0,St(()=>{this.modelId&&(this.api=new Wt("http://localhost:8080/api/v1",{modelId:this.modelId}),this.loadModel())}),St(()=>{this.api&&Object.keys(this.selections).length>0&&this.validateSelections()}),St(()=>{this.api&&this.isValid&&Object.keys(this.selections).length>0&&this.calculatePricing()}),St(()=>{if(this.isDirty&&this.configurationId){const t=setInterval(()=>{this.saveConfiguration()},3e4);return()=>clearInterval(t)}}))}get isValid(){return this.validationResults.length===0}get totalPrice(){return this.pricingData?.total_price||0}get basePrice(){return this.pricingData?.base_price||0}get adjustments(){return this.pricingData?.adjustments||[]}get completionPercentage(){if(!this.model?.option_groups)return 0;const t=this.model.option_groups.filter(c=>c.required);if(t.length===0)return 100;const o=t.filter(c=>c.options.some(l=>this.selections[l.id]>0));return Math.round(o.length/t.length*100)}get canProceedToNextStep(){switch(this.currentStep){case 0:return this.model!==null;case 1:return this.isValid&&Object.keys(this.selections).length>0;case 2:return this.isValid&&this.pricingData!==null;default:return!1}}get selectedOptions(){return this.model?.options?this.model.options.filter(t=>this.selections[t.id]>0):[]}async loadModel(){if(this.api){this.isLoading=!0,this.error=null;try{const t=await this.api.getModel();if(t.success)this.model=t.data;else throw new Error(t.message||"Failed to load model")}catch(t){this.error=t.message}finally{this.isLoading=!1}}}async validateSelections(){if(!(!this.api||this.isValidating)){this.isValidating=!0;try{const t=await this.api.validateConfiguration(this.selections);t.success&&(this.validationResults=t.data?.validation_result?.errors||[])}catch(t){console.warn("Validation failed:",t),this.validationResults=[{message:"Validation service unavailable"}]}finally{this.isValidating=!1}}}async calculatePricing(){if(!(!this.api||this.isPricing)){this.isPricing=!0;try{const t=await this.api.calculatePricing(this.selections);t.success&&(this.pricingData=t.data)}catch(t){console.warn("Pricing calculation failed:",t),this.pricingData=null}finally{this.isPricing=!1}}}async saveConfiguration(){if(this.api)try{if(this.configurationId)await this.api.updateConfiguration(this.configurationId,this.selections);else{const t=await this.api.createConfiguration(this.selections);t.success&&(this.configurationId=t.data.id)}this.lastSaved=new Date,this.isDirty=!1}catch(t){console.warn("Failed to save configuration:",t)}}setModelId(t){this.modelId=t,this.reset(),typeof window<"u"&&window.__API_BASE_URL__&&(this.api=new Wt(window.__API_BASE_URL__,{modelId:t}),this.loadModel())}updateSelection(t,o){o<=0?(delete this.selections[t],this.selections={...this.selections}):(this.selections[t]=o,this.selections={...this.selections}),this.isDirty=!0,this.api&&!this.initialized&&this.validateSelections()}removeSelection(t){delete this.selections[t],this.selections={...this.selections},this.isDirty=!0}clearSelections(){this.selections={},this.validationResults=[],this.pricingData=null,this.isDirty=!0}nextStep(){this.canProceedToNextStep&&(this.currentStep=Math.min(this.currentStep+1,3))}previousStep(){this.currentStep=Math.max(this.currentStep-1,0)}goToStep(t){this.currentStep=Math.max(0,Math.min(t,3))}reset(){this.model=null,this.selections={},this.validationResults=[],this.pricingData=null,this.currentStep=0,this.configurationId=null,this.lastSaved=null,this.isDirty=!1,this.error=null}generateShareableUrl(){const t={modelId:this.modelId,selections:this.selections,timestamp:Date.now()},o=btoa(JSON.stringify(t));return`${window.location.origin}/configure/${this.modelId}?config=${o}`}loadFromShareableUrl(t){try{const o=JSON.parse(atob(t));o.modelId&&o.selections&&(this.setModelId(o.modelId),this.selections=o.selections,this.isDirty=!0)}catch(o){console.warn("Failed to load shared configuration:",o)}}exportConfiguration(){return{model_id:this.modelId,model_name:this.model?.name,selections:this.selectedOptions.map(t=>({option_id:t.id,option_name:t.name,quantity:this.selections[t.id],unit_price:t.base_price,total_price:t.base_price*this.selections[t.id]})),pricing:this.pricingData,validation:{is_valid:this.isValid,errors:this.validationResults},metadata:{created_at:new Date().toISOString(),completion_percentage:this.completionPercentage}}}}zt=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Rt=new WeakMap,Vt=new WeakMap,Bt=new WeakMap,Et=new WeakMap,qt=new WeakMap,Tt=new WeakMap,Ft=new WeakMap,Ut=new WeakMap,At=new WeakMap,Nt=new WeakMap,Ht=new WeakMap;const a=new _e;se();var pe=n('<div class="absolute inset-0 flex items-center" aria-hidden="true"><div></div></div>'),he=(p,t)=>a.goToStep(i(t).id),fe=$t('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),xe=n('<span class="text-sm font-medium"> </span>'),be=n('<li><!> <button><!></button> <div class="mt-2 text-center"><div> </div> <div> </div></div></li>'),ye=n('<nav aria-label="Progress"><ol class="flex items-center"></ol></nav>');function we(p,t){wt(t,!1);const o=[{id:0,name:"Select",description:"Choose your product"},{id:1,name:"Configure",description:"Customize options"},{id:2,name:"Review",description:"Verify & price"},{id:3,name:"Complete",description:"Finalize order"}];ne();var c=ye(),l=e(c);pt(l,5,()=>o,ht,(y,w,R)=>{var Y=be(),X=e(Y);{var x=h=>{var j=pe(),k=e(j);m(()=>ct(k,1,`h-0.5 w-full ${a.currentStep>i(w).id?"bg-primary-600":"bg-gray-200"}`)),s(h,j)};u(X,h=>{R<o.length-1&&h(x)})}var S=r(X,2);S.__click=[he,w];var q=e(S);{var V=h=>{var j=fe();s(h,j)},M=h=>{var j=xe(),k=e(j);m(()=>v(k,i(w).id+1)),s(h,j)};u(q,h=>{a.currentStep>i(w).id?h(V):h(M,!1)})}var B=r(S,2),N=e(B),A=e(N),b=r(N,2),_=e(b);m(()=>{ct(Y,1,`relative ${R<o.length-1?"pr-8 sm:pr-20":""}`),ct(S,1,`relative w-8 h-8 flex items-center justify-center rounded-full transition-colors
                 ${a.currentStep>i(w).id?"bg-primary-600 text-white":a.currentStep===i(w).id?"bg-primary-50 border-2 border-primary-600 text-primary-600":"bg-white border-2 border-gray-300 text-gray-500"}`),Zt(S,"aria-current",a.currentStep===i(w).id?"step":void 0),ct(N,1,`text-xs font-medium ${a.currentStep>=i(w).id?"text-gray-900":"text-gray-500"}`),v(A,i(w).name),ct(b,1,`text-xs ${a.currentStep>=i(w).id?"text-gray-500":"text-gray-400"}`),v(_,i(w).description)}),s(y,Y)}),s(p,c),kt()}jt(["click"]);var ke=n('<p class="mt-4 text-sm text-gray-600"> </p>'),Se=n('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" aria-live="polite"><div class="bg-white rounded-lg p-6 text-center"><div></div> <!></div></div>'),Ce=n('<span class="ml-3 text-sm text-gray-600"> </span>'),Me=n('<div class="flex items-center justify-center" aria-live="polite"><div></div> <!></div>');function je(p,t){let o=nt(t,"size",3,"md"),c=nt(t,"color",3,"primary"),l=nt(t,"message",3,""),y=nt(t,"overlay",3,!1);const w={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},R={primary:"border-primary-600",gray:"border-gray-600",white:"border-white"};var Y=It(),X=Ct(Y);{var x=q=>{var V=Se(),M=e(V),B=e(M),N=r(B,2);{var A=b=>{var _=ke(),h=e(_);m(()=>v(h,l())),s(b,_)};u(N,b=>{l()&&b(A)})}m(()=>ct(B,1,`animate-spin rounded-full ${w[o()]??""} border-2 border-gray-200 ${R[c()]??""} border-t-transparent mx-auto`)),s(q,V)},S=q=>{var V=Me(),M=e(V),B=r(M,2);{var N=A=>{var b=Ce(),_=e(b);m(()=>v(_,l())),s(A,b)};u(B,A=>{l()&&A(N)})}m(()=>ct(M,1,`animate-spin rounded-full ${w[o()]??""} border-2 border-gray-200 ${R[c()]??""} border-t-transparent`)),s(q,V)};u(X,q=>{y()?q(x):q(S,!1)})}s(p,Y)}function Pe(p,t,o,c){t()<o()&&c("retry")}function Ie(p,t){t(!t())}var Oe=n('<div class="mt-3 text-xs text-red-600 bg-red-100 p-2 rounded border"><pre class="whitespace-pre-wrap"> </pre></div>'),ze=n('<button type="button" class="text-sm bg-red-100 text-red-800 px-3 py-1 rounded hover:bg-red-200 transition-colors"> </button>'),Le=n('<div class="rounded-md bg-red-50 p-4 border border-red-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3 flex-1"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"><p> </p></div> <!> <div class="mt-4 flex space-x-3"><!> <button type="button" class="text-sm text-red-600 hover:text-red-500 underline"> </button></div></div></div></div>');function De(p,t){wt(t,!0);let o=nt(t,"error",3,null),c=nt(t,"context",3,"Application"),l=nt(t,"showDetails",7,!1),y=nt(t,"retryable",3,!0),w=nt(t,"retryCount",3,0),R=nt(t,"maxRetries",3,3);const Y=te();let X=_t(()=>y()&&w()<R());var x=It(),S=Ct(x);{var q=V=>{var M=Le(),B=e(M),N=r(e(B),2),A=e(N),b=e(A),_=r(A,2),h=e(_),j=e(h),k=r(_,2);{var H=$=>{var f=Oe(),d=e(f),g=e(d);m(P=>v(g,P),[()=>o().stack||JSON.stringify(o(),null,2)]),s($,f)};u(k,$=>{l()&&$(H)})}var G=r(k,2),Z=e(G);{var T=$=>{var f=ze();f.__click=[Pe,w,R,Y];var d=e(f);m(()=>v(d,`Retry ${w()>0?`(${w()}/${R()})`:""}`)),s($,f)};u(Z,$=>{i(X)&&$(T)})}var et=r(Z,2);et.__click=[Ie,l];var rt=e(et);m(()=>{v(b,`${c()??""} Error`),v(j,`Something went wrong. ${o().message||"An unexpected error occurred."}`),v(rt,`${l()?"Hide":"Show"} Details`)}),s(V,M)};u(S,V=>{o()&&V(q)})}s(p,x),kt()}jt(["click"]);function Re(p,t,o){t.group.max_selections&&i(o)>=t.group.max_selections||Yt(o)}function Ve(p,t){i(t)>0&&Yt(t,-1)}function Be(p,t,o){i(t)?D(o,0):D(o,1)}var Ee=n('<div class="absolute -top-2 -right-2 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),qe=n('<p class="mt-1 text-sm text-gray-500"> </p>'),Te=n('<span class="text-xs text-gray-500"> </span>'),Fe=n('<div class="text-xs text-primary-600"> </div>'),Ue=n('<span class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded"> </span>'),Ae=n('<span class="text-xs text-gray-500"> </span>'),Ne=n('<div class="mt-2 flex flex-wrap gap-1"><!> <!></div>'),He=n('<div class="w-2 h-2 bg-white rounded-full"></div>'),Qe=n('<button type="button"><div><!></div> <span> </span></button>'),Ge=n('<div class="flex items-center space-x-3"><span class="text-sm text-gray-500">Quantity:</span> <div class="flex items-center space-x-2"><button type="button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg></button> <span class="w-8 text-center text-sm font-medium"> </span> <button type="button"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button></div></div>'),Je=n('<div class="text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded"> </div>'),Ye=n('<div><!> <div class="p-4"><div class="flex items-start justify-between"><div class="flex-1"><h3 class="text-sm font-medium text-gray-900"> </h3> <!></div> <div class="ml-4 text-right"><div class="text-sm font-medium text-gray-900"> <!></div> <!></div></div> <!> <div class="mt-4 flex items-center justify-between"><!> <!></div></div></div>');function Ke(p,t){wt(t,!0);let o=st(Gt(a.selections[t.option.id]||0)),c=_t(()=>i(o)>0),l=_t(()=>i(o)*t.option.base_price);St(()=>{a.updateSelection(t.option.id,i(o))}),St(()=>{if(t.group.selection_type==="single"&&i(c))for(const f of t.group.options)f.id!==t.option.id&&a.selections[f.id]>0&&a.updateSelection(f.id,0)});var y=Ye(),w=e(y);{var R=f=>{var d=Ee();s(f,d)};u(w,f=>{i(c)&&f(R)})}var Y=r(w,2),X=e(Y),x=e(X),S=e(x),q=e(S),V=r(S,2);{var M=f=>{var d=qe(),g=e(d);m(()=>v(g,t.option.description)),s(f,d)};u(V,f=>{t.option.description&&f(M)})}var B=r(x,2),N=e(B),A=e(N),b=r(A);{var _=f=>{var d=Te(),g=e(d);m(()=>v(g,`/${t.option.price_unit??""}`)),s(f,d)};u(b,f=>{t.option.price_unit&&t.option.price_unit!=="each"&&f(_)})}var h=r(N,2);{var j=f=>{var d=Fe(),g=e(d);m(P=>v(g,`Total: $${P??""}`),[()=>i(l).toFixed(2)]),s(f,d)};u(h,f=>{i(l)>t.option.base_price&&f(j)})}var k=r(X,2);{var H=f=>{var d=Ne(),g=e(d);pt(g,17,()=>t.option.constraints.slice(0,3),ht,(I,C)=>{var F=Ue(),J=e(F);m(()=>v(J,i(C))),s(I,F)});var P=r(g,2);{var K=I=>{var C=Ae(),F=e(C);m(()=>v(F,`+${t.option.constraints.length-3} more`)),s(I,C)};u(P,I=>{t.option.constraints.length>3&&I(K)})}s(f,d)};u(k,f=>{t.option.constraints&&t.option.constraints.length>0&&f(H)})}var G=r(k,2),Z=e(G);{var T=f=>{var d=Qe();d.__click=[Be,c,o];var g=e(d),P=e(g);{var K=F=>{var J=He();s(F,J)};u(P,F=>{i(c)&&F(K)})}var I=r(g,2),C=e(I);m(()=>{ct(d,1,`flex items-center space-x-2 text-sm font-medium
                 ${i(c)?"text-primary-600":"text-gray-500 hover:text-gray-700"}`),ct(g,1,`w-4 h-4 rounded-full border-2 flex items-center justify-center
                      ${i(c)?"border-primary-600 bg-primary-600":"border-gray-300"}`),v(C,i(c)?"Selected":"Select")}),s(f,d)},et=f=>{var d=Ge(),g=r(e(d),2),P=e(g);P.__click=[Ve,o];var K=r(P,2),I=e(K),C=r(K,2);C.__click=[Re,t,o],m(()=>{ct(P,1,`w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center
                     ${i(o)>0?"hover:bg-gray-100 text-gray-700":"text-gray-400 cursor-not-allowed"}`),P.disabled=i(o)<=0,v(I,i(o)),ct(C,1,`w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center
                     hover:bg-gray-100 text-gray-700
                     ${t.group.max_selections&&i(o)>=t.group.max_selections?"opacity-50 cursor-not-allowed":""}`),C.disabled=t.group.max_selections&&i(o)>=t.group.max_selections}),s(f,d)};u(Z,f=>{t.group.selection_type==="single"?f(T):f(et,!1)})}var rt=r(Z,2);{var $=f=>{var d=Je(),g=e(d);m(()=>v(g,t.option.availability_status)),s(f,d)};u(rt,f=>{t.option.availability_status&&t.option.availability_status!=="available"&&f($)})}m(f=>{ct(y,1,`relative rounded-lg border-2 transition-all duration-200 
            ${i(c)?"border-primary-500 bg-primary-50":"border-gray-200 bg-white hover:border-gray-300"}`),v(q,t.option.name),v(A,`$${f??""} `)},[()=>t.option.base_price.toFixed(2)]),s(p,y),kt()}jt(["click"]);var We=n('<span class="ml-2 text-sm text-red-500">*</span>'),Xe=$t('<svg class="ml-2 w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),Ze=n('<p class="mt-1 text-sm text-gray-500"> </p>'),$e=n('<div class="text-xs text-gray-400">Choose one</div>'),tr=n('<div class="text-xs text-gray-400"><!></div>'),er=n("<div> </div>"),rr=n('<div class="mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2"></div>'),ir=n('<div class="text-xs bg-gray-50 p-2 rounded"> </div>'),ar=n('<div class="mt-4 text-sm text-gray-600"><details class="group"><summary class="cursor-pointer font-medium group-hover:text-gray-800"> </summary> <div class="mt-2 space-y-1"></div></details></div>'),or=n('<div class="mb-8"><div class="mb-4"><div class="flex items-center justify-between"><div><h2 class="text-lg font-medium text-gray-900 flex items-center"> <!> <!></h2> <!></div> <div class="text-right"><div class="text-sm text-gray-500"> <!> selected</div> <!></div></div> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div> <!></div>');function sr(p,t){wt(t,!0);let o=_t(()=>t.group.options.reduce((d,g)=>d+(a.selections[g.id]||0),0)),c=_t(()=>t.group.required),l=_t(()=>!i(c)||i(o)>=(t.group.min_selections||1)),y=_t(()=>a.validationResults.some(d=>d.group_id===t.group.id||t.group.options.some(g=>d.option_id===g.id)));var w=or(),R=e(w),Y=e(R),X=e(Y),x=e(X),S=e(x),q=r(S);{var V=d=>{var g=We();s(d,g)};u(q,d=>{i(c)&&d(V)})}var M=r(q,2);{var B=d=>{var g=Xe();s(d,g)};u(M,d=>{i(l)&&d(B)})}var N=r(x,2);{var A=d=>{var g=Ze(),P=e(g);m(()=>v(P,t.group.description)),s(d,g)};u(N,d=>{t.group.description&&d(A)})}var b=r(X,2),_=e(b),h=e(_),j=r(h);{var k=d=>{var g=Qt();m(()=>v(g,`/ ${t.group.max_selections??""}`)),s(d,g)};u(j,d=>{t.group.max_selections&&d(k)})}var H=r(_,2);{var G=d=>{var g=$e();s(d,g)},Z=(d,g)=>{{var P=K=>{var I=tr(),C=e(I);{var F=E=>{var ot=Qt();m(()=>v(ot,`${t.group.min_selections??""}-${t.group.max_selections??""} required`)),s(E,ot)},J=(E,ot)=>{{var z=Q=>{var W=Qt();m(()=>v(W,`Min ${t.group.min_selections??""} required`)),s(Q,W)},O=(Q,W)=>{{var tt=dt=>{var lt=Qt();m(()=>v(lt,`Max ${t.group.max_selections??""} allowed`)),s(dt,lt)};u(Q,dt=>{t.group.max_selections&&dt(tt)},W)}};u(E,Q=>{t.group.min_selections?Q(z):Q(O,!1)},ot)}};u(C,E=>{t.group.min_selections&&t.group.max_selections?E(F):E(J,!1)})}s(K,I)};u(d,K=>{(t.group.min_selections||t.group.max_selections)&&K(P)},g)}};u(H,d=>{t.group.selection_type==="single"?d(G):d(Z,!1)})}var T=r(Y,2);{var et=d=>{var g=rr();pt(g,21,()=>a.validationResults,ht,(P,K)=>{var I=It(),C=Ct(I);{var F=J=>{var E=er(),ot=e(E);m(()=>v(ot,i(K).message)),s(J,E)};u(C,J=>{i(K).group_id===t.group.id&&J(F)})}s(P,I)}),s(d,g)};u(T,d=>{i(y)&&d(et)})}var rt=r(R,2);pt(rt,21,()=>t.group.options,ht,(d,g)=>{Ke(d,{get option(){return i(g)},get group(){return t.group}})});var $=r(rt,2);{var f=d=>{var g=ar(),P=e(g),K=e(P),I=e(K),C=r(K,2);pt(C,21,()=>t.group.constraints,ht,(F,J)=>{var E=ir(),ot=e(E);m(()=>v(ot,i(J))),s(F,E)}),m(()=>v(I,`View Constraints (${t.group.constraints.length??""})`)),s(d,g)};u($,d=>{t.group.constraints&&t.group.constraints.length>0&&d(f)})}m(()=>{v(S,`${t.group.name??""} `),v(h,`${i(o)??""} `)}),s(p,w),kt()}var nr=n('<div class="text-sm text-gray-500 flex items-center"><div class="animate-spin w-4 h-4 border-2 border-gray-300 border-t-primary-600 rounded-full mr-2"></div> Calculating...</div>'),dr=n('<div class="text-sm text-green-600">Updated</div>'),lr=n('<span class="text-green-600 ml-2"> </span>'),vr=n('<div class="text-sm text-gray-500"> <!></div>'),cr=n('<div class="text-gray-500 text-xs"> </div>'),ur=n('<div class="flex justify-between text-sm"><div class="flex-1"><div class="text-gray-900"> </div> <!></div> <div class="text-gray-900 font-medium"> </div></div>'),gr=n('<div class="flex justify-between text-sm"><span class="text-gray-600"> </span> <span> </span></div>'),mr=n('<div class="space-y-3"><h4 class="text-sm font-medium text-gray-700 border-b border-gray-200 pb-2">Price Breakdown</h4> <!> <div class="border-t border-gray-200 pt-3"><div class="flex justify-between text-sm"><span class="text-gray-500">Subtotal</span> <span class="text-gray-900"> </span></div></div> <!> <div class="border-t border-gray-200 pt-3"><div class="flex justify-between text-lg font-medium"><span class="text-gray-900">Total</span> <span class="text-gray-900"> </span></div></div></div>'),_r=()=>a.saveConfiguration(),pr=n('<div class="mt-6 space-y-3"><button type="button" class="w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 transition-colors">Save Configuration</button> <button type="button" class="w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-200 transition-colors">Export Configuration</button></div>'),hr=n('<div class="bg-white rounded-lg border border-gray-200 p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900">Pricing</h3> <!></div> <div class="text-center mb-6"><div class="text-3xl font-bold text-gray-900"> </div> <!></div> <!> <!></div>');function re(p,t){wt(t,!0);let o=nt(t,"detailed",3,!1),c=nt(t,"showBreakdown",3,!0),l=_t(()=>a.adjustments.reduce((_,h)=>h.amount<0?_+Math.abs(h.amount):_,0));var y=hr(),w=e(y),R=r(e(w),2);{var Y=_=>{var h=nr();s(_,h)},X=(_,h)=>{{var j=k=>{var H=dr();s(k,H)};u(_,k=>{a.pricingData&&k(j)},h)}};u(R,_=>{a.isPricing?_(Y):_(X,!1)})}var x=r(w,2),S=e(x),q=e(S),V=r(S,2);{var M=_=>{var h=vr(),j=e(h),k=r(j);{var H=G=>{var Z=lr(),T=e(Z);m(et=>v(T,`Save $${et??""}`),[()=>i(l).toFixed(2)]),s(G,Z)};u(k,G=>{i(l)>0&&G(H)})}m(G=>v(j,`Base: $${G??""} `),[()=>a.basePrice.toFixed(2)]),s(_,h)};u(V,_=>{a.basePrice!==a.totalPrice&&_(M)})}var B=r(x,2);{var N=_=>{var h=mr(),j=r(e(h),2);pt(j,17,()=>a.selectedOptions,ht,(g,P)=>{var K=ur(),I=e(K),C=e(I),F=e(C),J=r(C,2);{var E=O=>{var Q=cr(),W=e(Q);m(tt=>v(W,`$${tt??""} × ${a.selections[i(P).id]??""}`),[()=>i(P).base_price.toFixed(2)]),s(O,Q)};u(J,O=>{a.selections[i(P).id]>1&&O(E)})}var ot=r(I,2),z=e(ot);m(O=>{v(F,i(P).name),v(z,`$${O??""}`)},[()=>(i(P).base_price*a.selections[i(P).id]).toFixed(2)]),s(g,K)});var k=r(j,2),H=e(k),G=r(e(H),2),Z=e(G),T=r(k,2);{var et=g=>{var P=It(),K=Ct(P);pt(K,17,()=>a.adjustments,ht,(I,C)=>{var F=gr(),J=e(F),E=e(J),ot=r(J,2),z=e(ot);m(O=>{v(E,i(C).rule_name||i(C).name),ct(ot,1,i(C).amount<0?"text-green-600":"text-red-600"),v(z,`${i(C).amount<0?"-":"+"}$${O??""}`)},[()=>Math.abs(i(C).amount).toFixed(2)]),s(I,F)}),s(g,P)};u(T,g=>{a.adjustments.length>0&&g(et)})}var rt=r(T,2),$=e(rt),f=r(e($),2),d=e(f);m((g,P)=>{v(Z,`$${g??""}`),v(d,`$${P??""}`)},[()=>a.basePrice.toFixed(2),()=>a.totalPrice.toFixed(2)]),s(_,h)};u(B,_=>{c()&&a.pricingData&&a.selectedOptions.length>0&&_(N)})}var A=r(B,2);{var b=_=>{var h=pr(),j=e(h);j.__click=[_r];var k=r(j,2);k.__click=()=>{const H=a.exportConfiguration(),G=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),Z=URL.createObjectURL(G),T=document.createElement("a");T.href=Z,T.download=`configuration-${Date.now()}.json`,T.click()},s(_,h)};u(A,_=>{o()&&_(b)})}m(_=>v(q,`$${_??""}`),[()=>a.totalPrice.toFixed(2)]),s(p,y),kt()}jt(["click"]);var fr=n("<li> </li>"),xr=n('<div class="rounded-md bg-red-50 p-4 border border-red-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"><ul class="space-y-1"></ul></div></div></div></div>'),br=n("<li> </li>"),yr=n('<div class="rounded-md bg-yellow-50 p-4 border border-yellow-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-yellow-800"> </h3> <div class="mt-2 text-sm text-yellow-700"><ul class="space-y-1"></ul></div></div></div></div>'),wr=n("<li> </li>"),kr=n('<div class="rounded-md bg-blue-50 p-4 border border-blue-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-blue-800"> </h3> <div class="mt-2 text-sm text-blue-700"><ul class="space-y-1"></ul></div></div></div></div>'),Sr=n('<div class="space-y-3"><!> <!> <!></div>'),Cr=n('<div class="text-center py-4"><div class="animate-spin w-6 h-6 border-2 border-gray-300 border-t-primary-600 rounded-full mx-auto"></div> <p class="mt-2 text-sm text-gray-500">Validating configuration...</p></div>'),Mr=n('<div class="rounded-md bg-green-50 p-4 border border-green-200"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-green-800">Configuration Valid</h3> <div class="mt-2 text-sm text-green-700"><p>Your configuration meets all requirements and constraints.</p></div></div></div></div>');function ie(p,t){wt(t,!0);let o=nt(t,"showSuggestions",3,!0),c=_t(()=>a.validationResults.filter(x=>x.severity==="error"||x.level==="error")),l=_t(()=>a.validationResults.filter(x=>x.severity==="warning"||x.level==="warning")),y=_t(()=>a.validationResults.filter(x=>x.severity==="info"||x.level==="suggestion"));var w=It(),R=Ct(w);{var Y=x=>{var S=Sr(),q=e(S);{var V=b=>{var _=xr(),h=e(_),j=r(e(h),2),k=e(j),H=e(k),G=r(k,2),Z=e(G);pt(Z,21,()=>i(c),ht,(T,et)=>{var rt=fr(),$=e(rt);m(()=>v($,`• ${i(et).message??""}`)),s(T,rt)}),m(()=>v(H,`Configuration Errors (${i(c).length??""})`)),s(b,_)};u(q,b=>{i(c).length>0&&b(V)})}var M=r(q,2);{var B=b=>{var _=yr(),h=e(_),j=r(e(h),2),k=e(j),H=e(k),G=r(k,2),Z=e(G);pt(Z,21,()=>i(l),ht,(T,et)=>{var rt=br(),$=e(rt);m(()=>v($,`• ${i(et).message??""}`)),s(T,rt)}),m(()=>v(H,`Warnings (${i(l).length??""})`)),s(b,_)};u(M,b=>{i(l).length>0&&b(B)})}var N=r(M,2);{var A=b=>{var _=kr(),h=e(_),j=r(e(h),2),k=e(j),H=e(k),G=r(k,2),Z=e(G);pt(Z,21,()=>i(y),ht,(T,et)=>{var rt=wr(),$=e(rt);m(()=>v($,`• ${i(et).message??""}`)),s(T,rt)}),m(()=>v(H,`Suggestions (${i(y).length??""})`)),s(b,_)};u(N,b=>{o()&&i(y).length>0&&b(A)})}s(x,S)},X=(x,S)=>{{var q=M=>{var B=Cr();s(M,B)},V=M=>{var B=Mr();s(M,B)};u(x,M=>{a.isValidating?M(q):M(V,!1)},S)}};u(R,x=>{a.validationResults.length>0?x(Y):x(X,!1)})}s(p,w),kt()}var jr=n('<div class="text-sm text-gray-500 mt-1"> </div>'),Pr=n('<div class="text-sm text-gray-600 mt-1"> </div>'),Ir=n('<div class="text-sm text-gray-500"> </div>'),Or=n('<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"><div class="flex-1"><div class="font-medium text-gray-900"> </div> <!> <!></div> <div class="text-right"><div class="font-medium text-gray-900"> </div> <!></div></div>'),zr=n('<div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Selected Options</h3> <div class="space-y-4"></div></div>'),Lr=(p,t)=>D(t,!0),Dr=()=>a.saveConfiguration(),Rr=(p,t)=>D(t,!1),Vr=p=>p.stopPropagation(),Br=(p,t,o)=>t(i(o)),Er=(p,t)=>D(t,!1),qr=n('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 max-w-md w-full mx-4"><h3 class="text-lg font-medium text-gray-900 mb-4">Share Configuration</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Shareable Link</label> <div class="flex"><input type="text" readonly="" class="flex-1 px-3 py-2 border border-gray-300 rounded-l-md text-sm bg-gray-50"/> <button type="button" class="px-4 py-2 bg-primary-600 text-white rounded-r-md hover:bg-primary-700 transition-colors text-sm"> </button></div></div> <div class="flex justify-end space-x-3"><button type="button" class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">Close</button></div></div></div></div>'),Tr=n('<div class="space-y-6"><div class="bg-white rounded-lg border border-gray-200 p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Configuration Summary</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="text-center p-4 bg-gray-50 rounded-lg"><div class="text-2xl font-bold text-primary-600"> </div> <div class="text-sm text-gray-500">Options Selected</div></div> <div class="text-center p-4 bg-gray-50 rounded-lg"><div class="text-2xl font-bold text-primary-600"> </div> <div class="text-sm text-gray-500">Complete</div></div> <div class="text-center p-4 bg-gray-50 rounded-lg"><div> </div> <div class="text-sm text-gray-500"> </div></div></div></div> <!> <div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Validation Status</h3> <!></div> <!> <div class="bg-white rounded-lg border border-gray-200 p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Actions</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><button type="button" class="flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg> Share Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Export Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path></svg> Save Configuration</button> <button type="button" class="flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 3H3m4 10v6a1 1 0 001 1h6a1 1 0 001-1v-6m-8 0V9a1 1 0 011-1h6a1 1 0 011 1v4.01"></path></svg> Request Quote</button></div></div></div> <!>',1);function Fr(p,t){wt(t,!0);let o=_t(()=>a.generateShareableUrl()),c=st(!1),l=st(!1);async function y(I){try{await navigator.clipboard.writeText(I),D(l,!0),setTimeout(()=>D(l,!1),2e3)}catch(C){console.warn("Failed to copy to clipboard:",C)}}function w(){const I=a.exportConfiguration(),C=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),F=URL.createObjectURL(C),J=document.createElement("a");J.href=F,J.download=`configuration-${Date.now()}.json`,J.click(),URL.revokeObjectURL(F)}var R=Tr(),Y=Ct(R),X=e(Y),x=r(e(X),2),S=e(x),q=e(S),V=e(q),M=r(S,2),B=e(M),N=e(B),A=r(M,2),b=e(A),_=e(b),h=r(b,2),j=e(h),k=r(X,2);{var H=I=>{var C=zr(),F=r(e(C),2);pt(F,21,()=>a.selectedOptions,ht,(J,E)=>{var ot=Or(),z=e(ot),O=e(z),Q=e(O),W=r(O,2);{var tt=L=>{var at=jr(),ut=e(at);m(()=>v(ut,i(E).description)),s(L,at)};u(W,L=>{i(E).description&&L(tt)})}var dt=r(W,2);{var lt=L=>{var at=Pr(),ut=e(at);m(()=>v(ut,`Quantity: ${a.selections[i(E).id]??""}`)),s(L,at)};u(dt,L=>{a.selections[i(E).id]>1&&L(lt)})}var gt=r(z,2),vt=e(gt),ft=e(vt),bt=r(vt,2);{var it=L=>{var at=Ir(),ut=e(at);m(yt=>v(ut,`$${yt??""} each`),[()=>i(E).base_price.toFixed(2)]),s(L,at)};u(bt,L=>{a.selections[i(E).id]>1&&L(it)})}m(L=>{v(Q,i(E).name),v(ft,`$${L??""}`)},[()=>(i(E).base_price*a.selections[i(E).id]).toFixed(2)]),s(J,ot)}),s(I,C)};u(k,I=>{a.selectedOptions.length>0&&I(H)})}var G=r(k,2),Z=r(e(G),2);ie(Z,{});var T=r(G,2);re(T,{detailed:!0});var et=r(T,2),rt=r(e(et),2),$=e(rt);$.__click=[Lr,c];var f=r($,2);f.__click=w;var d=r(f,2);d.__click=[Dr];var g=r(d,2),P=r(Y,2);{var K=I=>{var C=qr();C.__click=[Rr,c];var F=e(C);F.__click=[Vr];var J=r(e(F),2),E=e(J),ot=r(e(E),2),z=e(ot),O=r(z,2);O.__click=[Br,y,o];var Q=e(O),W=r(E,2),tt=e(W);tt.__click=[Er,c],m(()=>{de(z,i(o)),v(Q,i(l)?"Copied!":"Copy")}),s(I,C)};u(P,I=>{i(c)&&I(K)})}m(()=>{v(V,a.selectedOptions.length),v(N,`${a.completionPercentage??""}%`),ct(b,1,`text-2xl font-bold ${a.isValid?"text-green-600":"text-red-600"}`),v(_,a.isValid?"✓":"✗"),v(j,a.isValid?"Valid":"Has Errors"),d.disabled=!a.isValid,g.disabled=!a.isValid}),s(p,R),kt()}jt(["click"]);function Ur(p,t,o,c){const l=a.exportConfiguration();t()&&t()(l),o("complete",l),c()&&window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-complete",configuration:l},"*")}var Ar=n('<div class="text-sm text-red-500"> </div>'),Nr=n('<div class="text-sm text-green-600">Valid</div>'),Hr=n('<div class="cpq-embed-header bg-white border-b border-gray-200 p-4"><div class="flex items-center justify-between"><div><h1 class="text-lg font-semibold text-gray-900"> </h1> <div class="text-sm text-gray-500"> </div></div> <div class="text-right"><div class="text-lg font-bold text-primary-600"> </div> <!></div></div> <div class="mt-3"><div class="bg-gray-200 rounded-full h-2"><div class="bg-primary-600 h-2 rounded-full transition-all duration-300"></div></div></div></div>'),Qr=n('<p class="mt-1 text-gray-600"> </p>'),Gr=n('<div class="mb-8"><div class="flex items-center justify-between mb-6"><div><h1 class="text-2xl font-bold text-gray-900"> </h1> <!></div> <div class="text-right"><div class="text-sm text-gray-500">Progress</div> <div class="text-lg font-semibold text-primary-600"> </div></div></div> <!></div>'),Jr=n('<div><span class="text-gray-500"> </span> <span class="ml-2 text-gray-900"> </span></div>'),Yr=n('<div><h3 class="text-sm font-medium text-gray-700 mb-2">Specifications</h3> <div class="grid grid-cols-2 gap-4 text-sm"></div></div>'),Kr=()=>a.nextStep(),Wr=n('<div class="bg-white rounded-lg border border-gray-200 p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Product Overview</h2> <div class="space-y-4"><!> <div class="pt-4"><button type="button" class="bg-primary-600 text-white px-6 py-3 rounded-md font-medium hover:bg-primary-700 transition-colors">Start Configuring</button></div></div></div>'),Xr=n('<div class="bg-white rounded-lg border border-gray-200 p-6"><!></div>'),Zr=n('<div class="text-center py-8 text-gray-500">No configuration options available.</div>'),$r=n('<div class="bg-white rounded-lg border border-gray-200 p-6"><!></div>'),ti=n('<div class="space-y-6"><!> <!></div>'),ei=()=>a.goToStep(1),ri=n('<div class="bg-white rounded-lg border border-gray-200 p-8 text-center"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-gray-900 mb-2">Configuration Complete!</h2> <p class="text-gray-600 mb-6">Your product configuration has been finalized.</p> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-md mx-auto"><button type="button" class="bg-primary-600 text-white px-4 py-2 rounded-md font-medium hover:bg-primary-700 transition-colors">Get Quote</button> <button type="button" class="border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors">Modify</button></div></div>'),ii=()=>a.previousStep(),ai=()=>a.nextStep(),oi=n('<button type="button"> <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>'),si=()=>a.clearSelections(),ni=()=>a.saveConfiguration(),di=n('<div class="cpq-sidebar"><div class="sticky top-8 space-y-6"><!> <div class="bg-white rounded-lg border border-gray-200 p-4"><h3 class="text-sm font-medium text-gray-900 mb-3">Quick Actions</h3> <div class="space-y-2"><button type="button" class="w-full text-left text-sm text-gray-600 hover:text-gray-900 p-2 rounded hover:bg-gray-50">Clear All</button> <button type="button" class="w-full text-left text-sm text-gray-600 hover:text-gray-900 p-2 rounded hover:bg-gray-50">Save Progress</button></div></div></div></div>'),li=n('<!> <div><!> <div class="mt-6 flex justify-between"><button type="button"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> Previous</button> <!></div></div> <!>',1),vi=n('<div class="text-center py-12"><h2 class="text-xl font-semibold text-gray-900 mb-2">Model Not Found</h2> <p class="text-gray-600">The requested model could not be found.</p></div>'),ci=n("<div><!></div>");function ui(p,t){wt(t,!0);let o=nt(t,"theme",7,"light"),c=nt(t,"apiUrl",3,"http://localhost:8080/api/v1"),l=nt(t,"embedMode",3,!1),y=nt(t,"onComplete",3,null),w=nt(t,"onConfigurationChange",3,null),R=nt(t,"onError",3,null);const Y=te();let X=st(0),x=Gt(l());typeof window<"u"&&(window.__API_BASE_URL__=c()),ee(()=>{a.initialize(),a.setModelId(t.modelId),document.documentElement.setAttribute("data-theme",o()),l()&&S()});function S(){window.addEventListener("message",q),window.parent!==window&&window.parent.postMessage({type:"cpq-configurator-ready",modelId:t.modelId},"*"),new ResizeObserver(()=>{window.parent!==window&&window.parent.postMessage({type:"cpq-configurator-resize",height:document.body.scrollHeight},"*")}).observe(document.body)}function q(b){const{type:_,data:h}=b.data;switch(_){case"cpq-set-theme":o(h.theme),document.documentElement.setAttribute("data-theme",o());break;case"cpq-load-configuration":h.config&&a.loadFromShareableUrl(h.config);break;case"cpq-get-configuration":window.parent.postMessage({type:"cpq-configuration-data",configuration:a.exportConfiguration()},"*");break}}function V(){Yt(X),a.reset(),a.setModelId(t.modelId)}St(()=>{w()&&w()(a.exportConfiguration()),l()&&window.parent!==window&&window.parent.postMessage({type:"cpq-configuration-change",configuration:a.exportConfiguration()},"*")}),St(()=>{a.error&&R()&&R()(a.error)});var M=ci(),B=e(M);{var N=b=>{De(b,{get error(){return a.error},context:"Configurator",get retryCount(){return i(X)},$$events:{retry:V}})},A=(b,_)=>{{var h=k=>{je(k,{size:"lg",message:"Loading configurator..."})},j=(k,H)=>{{var G=T=>{var et=li(),rt=Ct(et);{var $=z=>{var O=Hr(),Q=e(O),W=e(Q),tt=e(W),dt=e(tt),lt=r(tt,2),gt=e(lt),vt=r(W,2),ft=e(vt),bt=e(ft),it=r(ft,2);{var L=xt=>{var Pt=Ar(),Ot=e(Pt);m(()=>v(Ot,`${a.validationResults.length??""} issues`)),s(xt,Pt)},at=(xt,Pt)=>{{var Ot=Jt=>{var ae=Nr();s(Jt,ae)};u(xt,Jt=>{a.selectedOptions.length>0&&Jt(Ot)},Pt)}};u(it,xt=>{a.validationResults.length>0?xt(L):xt(at,!1)})}var ut=r(Q,2),yt=e(ut),Mt=e(yt);m(xt=>{v(dt,a.model.name),v(gt,`Step ${a.currentStep+1} of 4 • ${a.completionPercentage??""}% complete`),v(bt,`$${xt??""}`),le(Mt,`width: ${a.completionPercentage??""}%`)},[()=>a.totalPrice.toFixed(2)]),s(z,O)},f=z=>{var O=Gr(),Q=e(O),W=e(Q),tt=e(W),dt=e(tt),lt=r(tt,2);{var gt=L=>{var at=Qr(),ut=e(at);m(()=>v(ut,a.model.description)),s(L,at)};u(lt,L=>{a.model.description&&L(gt)})}var vt=r(W,2),ft=r(e(vt),2),bt=e(ft),it=r(Q,2);we(it,{}),m(()=>{v(dt,a.model.name),v(bt,`${a.completionPercentage??""}%`)}),s(z,O)};u(rt,z=>{l()?z($):z(f,!1)})}var d=r(rt,2),g=e(d);{var P=z=>{var O=Wr(),Q=r(e(O),2),W=e(Q);{var tt=gt=>{var vt=Yr(),ft=r(e(vt),2);pt(ft,21,()=>Object.entries(a.model.specifications),ht,(bt,it)=>{var L=_t(()=>ve(i(it),2));let at=()=>i(L)[0],ut=()=>i(L)[1];var yt=Jr(),Mt=e(yt),xt=e(Mt),Pt=r(Mt,2),Ot=e(Pt);m(()=>{v(xt,`${at()??""}:`),v(Ot,ut())}),s(bt,yt)}),s(gt,vt)};u(W,gt=>{a.model.specifications&&gt(tt)})}var dt=r(W,2),lt=e(dt);lt.__click=[Kr],s(z,O)},K=(z,O)=>{{var Q=tt=>{var dt=ti(),lt=e(dt);{var gt=it=>{var L=It(),at=Ct(L);pt(at,17,()=>a.model.option_groups,ht,(ut,yt)=>{var Mt=Xr(),xt=e(Mt);sr(xt,{get group(){return i(yt)}}),s(ut,Mt)}),s(it,L)},vt=it=>{var L=Zr();s(it,L)};u(lt,it=>{a.model.option_groups&&a.model.option_groups.length>0?it(gt):it(vt,!1)})}var ft=r(lt,2);{var bt=it=>{var L=$r(),at=e(L);ie(at,{}),s(it,L)};u(ft,it=>{(a.validationResults.length>0||a.isValidating)&&it(bt)})}s(tt,dt)},W=(tt,dt)=>{{var lt=vt=>{Fr(vt,{})},gt=(vt,ft)=>{{var bt=it=>{var L=ri(),at=r(e(L),6),ut=e(at);ut.__click=[Ur,y,Y,l];var yt=r(ut,2);yt.__click=[ei],s(it,L)};u(vt,it=>{a.currentStep===3&&it(bt)},ft)}};u(tt,vt=>{a.currentStep===2?vt(lt):vt(gt,!1)},dt)}};u(z,tt=>{a.currentStep===1?tt(Q):tt(W,!1)},O)}};u(g,z=>{a.currentStep===0?z(P):z(K,!1)})}var I=r(g,2),C=e(I);C.__click=[ii];var F=r(C,2);{var J=z=>{var O=oi();O.__click=[ai];var Q=e(O);m(()=>{ct(O,1,`flex items-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors
                   ${a.canProceedToNextStep?"":"opacity-50 cursor-not-allowed"}`),O.disabled=!a.canProceedToNextStep,v(Q,`${a.currentStep===2?"Complete":"Next"} `)}),s(z,O)};u(F,z=>{a.currentStep<3&&z(J)})}var E=r(d,2);{var ot=z=>{var O=di(),Q=e(O),W=e(Q);re(W,{});var tt=r(W,2),dt=r(e(tt),2),lt=e(dt);lt.__click=[si];var gt=r(lt,2);gt.__click=[ni],s(z,O)};u(E,z=>{l()||z(ot)})}m(()=>{ct(d,1,l()?"cpq-embed-content":"cpq-full-content","svelte-k7ary"),ct(C,1,`flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors
                 ${a.currentStep===0?"opacity-50 cursor-not-allowed":""}`),C.disabled=a.currentStep===0}),s(T,et)},Z=T=>{var et=vi();s(T,et)};u(k,T=>{a.model?T(G):T(Z,!1)},H)}};u(b,k=>{a.isLoading?k(h):k(j,!1)},_)}};u(B,b=>{a.error?b(N):b(A,!1)})}m(()=>{ct(M,1,`cpq-configurator ${l()?"cpq-embed-mode":""} ${x?"cpq-compact":""}`,"svelte-k7ary"),Zt(M,"data-theme",o())}),s(p,M),kt()}jt(["click"]);function gi(p,t,o){D(t,"home"),D(o,""),window.history.pushState({},"","/")}var mi=n('<meta name="description" content="Configure your perfect product"/>'),_i=(p,t,o)=>p.key==="Enter"&&i(t).trim()&&o(i(t).trim()),pi=(p,t,o)=>t(i(o).trim()),hi=(p,t)=>t("laptop-model-123"),fi=(p,t)=>t("desktop-model-456"),xi=(p,t)=>t("server-model-789"),bi=n('<div class="max-w-4xl mx-auto p-4 py-16"><div class="text-center mb-12"><h1 class="text-4xl font-bold text-gray-900 mb-4">Product Configurator</h1> <p class="text-xl text-gray-600 mb-8">Configure your perfect product with our advanced configurator</p></div> <div class="max-w-md mx-auto"><div class="bg-white rounded-lg shadow-lg p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Start Configuration</h2> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Enter Model ID</label> <input type="text" placeholder="e.g., laptop-model-123" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"/></div> <button type="button" class="w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed">Start Configuration</button></div> <div class="mt-6 pt-6 border-t border-gray-200"><h3 class="text-sm font-medium text-gray-700 mb-3">Quick Start</h3> <div class="space-y-2"><button type="button" class="w-full text-left px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded transition-colors">📱 Laptop Configuration</button> <button type="button" class="w-full text-left px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded transition-colors">🖥️ Desktop Configuration</button> <button type="button" class="w-full text-left px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded transition-colors">🖥️ Server Configuration</button></div></div></div></div> <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8"><div class="text-center"><div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4"><svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 mb-2">Real-time Validation</h3> <p class="text-gray-600">Instant constraint checking with advanced MTBDD engine</p></div> <div class="text-center"><div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4"><svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 mb-2">Live Pricing</h3> <p class="text-gray-600">Real-time price calculation with volume discounts</p></div> <div class="text-center"><div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4"><svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 mb-2">Easy Sharing</h3> <p class="text-gray-600">Share configurations via URL, email, or export</p></div></div></div>'),yi=n('<div class="relative"><div class="absolute top-4 left-4 z-10"><button type="button" class="flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 bg-white rounded-md shadow-sm border border-gray-300 hover:bg-gray-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> Back to Home</button></div> <!></div>'),wi=n('<div class="min-h-screen bg-gray-50"><!></div>');function ki(p,t){wt(t,!0);let o=st("home"),c=st("");ee(()=>{const S=window.location.pathname.match(/^\/configure\/(.+)$/);return S&&(D(c,S[1],!0),D(o,"configure")),window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)});function l(){const S=window.location.pathname.match(/^\/configure\/(.+)$/);S?(D(c,S[1],!0),D(o,"configure")):(D(o,"home"),D(c,""))}function y(x){D(c,x,!0),D(o,"configure"),window.history.pushState({},"",`/configure/${x}`)}var w=wi();ce(x=>{var S=mi();ue.title="CPQ Configurator",s(x,S)});var R=e(w);{var Y=x=>{var S=bi(),q=r(e(S),2),V=e(q),M=r(e(V),2),B=e(M),N=r(e(B),2);N.__keydown=[_i,c,y];var A=r(B,2);A.__click=[pi,y,c];var b=r(M,2),_=r(e(b),2),h=e(_);h.__click=[hi,y];var j=r(h,2);j.__click=[fi,y];var k=r(j,2);k.__click=[xi,y],m(H=>A.disabled=H,[()=>!i(c).trim()]),ge(N,()=>i(c),H=>D(c,H)),s(x,S)},X=(x,S)=>{{var q=V=>{var M=yi(),B=e(M),N=e(B);N.__click=[gi,o,c];var A=r(B,2);ui(A,{get modelId(){return i(c)},embedMode:!1,onComplete:b=>{console.log("Configuration completed:",b)},onError:b=>{console.error("Configuration error:",b)}}),s(V,M)};u(x,V=>{i(o)==="configure"&&V(q)},S)}};u(R,x=>{i(o)==="home"?x(Y):x(X,!1)})}s(p,w),kt()}jt(["keydown","click"]);new ki({target:document.getElementById("app")});
