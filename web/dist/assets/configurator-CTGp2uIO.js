var e,t,s,i,o,a,n,r,l,c,d,p,u,v,h,g,m=e=>{throw TypeError(e)},y=(e,t,s)=>t.has(e)||m("Cannot "+s),b=(e,t,s)=>(y(e,t,"read from private field"),s?s.call(e):t.get(e)),f=(e,t,s)=>t.has(e)?m("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),_=(e,t,s,i)=>(y(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);import{g as w,s as k,a as A,p as S,u as q,b as I,c as P,f as C,e as O,t as j,d as $,h as z,i as T,j as M,k as x,l as D,m as E,n as R,o as U,q as L,r as N,v as V,w as W,x as F,y as G,z as B,A as J,B as Q,C as Y,D as K,E as H,F as X}from"./vendor-D17vSvYL.js";"undefined"!=typeof window&&((e=window.__svelte??(window.__svelte={})).v??(e.v=new Set)).add("5");class Z{constructor(e,t={}){this.baseUrl=e||window.__API_BASE_URL__||"http://localhost:8080/api/v1",this.modelId=t.modelId,this.authToken=t.authToken||localStorage.getItem("auth_token"),this.timeout=t.timeout||1e4,console.log("API Client initialized:",{baseUrl:this.baseUrl,modelId:this.modelId,hasAuth:!!this.authToken})}async request(e,t={}){e.startsWith("/")||(e="/"+e);const s=`${this.baseUrl}${e}`;console.log("API Request:",t.method||"GET",s);const i={method:"GET",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json",...this.authToken&&{Authorization:`Bearer ${this.authToken}`},...t.headers},...t};i.body&&"object"==typeof i.body&&(i.body=JSON.stringify(i.body));try{const t=new AbortController,a=setTimeout((()=>t.abort()),this.timeout),n=await fetch(s,{...i,signal:t.signal});if(clearTimeout(a),!n.ok){const t=await n.text();let i=`HTTP ${n.status}: ${n.statusText}`;try{const e=JSON.parse(t);i=e.message||e.error||i}catch(o){t.includes("<html")||(i=t||i)}if(console.error(`API Error from ${e}:`,i),404===n.status)throw new Error(`Endpoint not found: ${s}. Please check if the backend server is running and the API path is correct.`);throw new Error(i)}const r=await n.json();if(console.log(`API Response from ${e}:`,r),void 0!==r.success){if(r.success&&void 0!==r.data)return r.data;if(!r.success)throw new Error(r.error||r.message||"Request failed")}return(e.includes("/groups")||e.includes("/options"))&&console.log(`Note: ${e} returned unwrapped response, structure:`,Array.isArray(r)?"Array":typeof r,"Keys:",r?Object.keys(r).slice(0,5):"none"),r}catch(a){if("AbortError"===a.name)throw new Error("Request timeout");throw a}}setAuthToken(e){this.authToken=e,e?localStorage.setItem("auth_token",e):localStorage.removeItem("auth_token")}async login(e,t){const s=await this.request("/auth/login",{method:"POST",body:{username:e,password:t}});return s.token&&this.setAuthToken(s.token),s}async validateToken(){return this.request("/auth/validate",{method:"POST"})}async getModel(){if(!this.modelId)throw new Error("Model ID required");const e=await this.request(`/models/${this.modelId}`);if(console.log("getModel response:",e),e&&e.id&&!e.option_groups&&!e.groups)try{const t=await this.getModelOptions();e.options=t}catch(t){console.warn("Failed to fetch model options separately:",t)}return e}async getModelOptions(){if(!this.modelId)throw new Error("Model ID required");const e=await this.request(`/models/${this.modelId}/options`);return console.log("getModelOptions response:",e),e}async getModelGroups(){if(!this.modelId)throw new Error("Model ID required");const e=await this.request(`/models/${this.modelId}/groups?include=options`);return console.log("getModelGroups response:",e),e}async getModelStatistics(){if(!this.modelId)throw new Error("Model ID required");return this.request(`/models/${this.modelId}/statistics`)}async createConfiguration(e={}){return this.request("/configurations",{method:"POST",body:{model_id:this.modelId,selections:this.formatSelections(e)}})}async getConfiguration(e){return this.request(`/configurations/${e}?model_id=${this.modelId}`)}async updateConfiguration(e,t){return this.request(`/configurations/${e}`,{method:"PUT",body:{model_id:this.modelId,selections:this.formatSelections(t)}})}async validateSelections(e){return this.request("/configurations/validate-selection",{method:"POST",body:{model_id:this.modelId,selections:this.formatSelections(e)}})}async getAvailableOptions(e){return this.request(`/configurations/${e}/available-options?model_id=${this.modelId}`)}async calculatePricing(e,t={}){return this.request("/pricing/calculate",{method:"POST",body:{model_id:this.modelId,selections:this.formatSelections(e),context:t}})}async getVolumeTiers(){return this.request(`/pricing/volume-tiers/${this.modelId}`)}async simulatePricing(e){return this.request("/pricing/simulate",{method:"POST",body:{model_id:this.modelId,scenarios:e}})}formatSelections(e){return Object.entries(e).filter((([e,t])=>t>0)).map((([e,t])=>({option_id:e,quantity:t})))}}t=new WeakMap,s=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakMap,r=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,u=new WeakMap,v=new WeakMap,h=new WeakMap,g=new WeakMap;const ee=new class{constructor(){f(this,t),f(this,s),f(this,i),f(this,o),f(this,a),f(this,n),f(this,r),f(this,l),f(this,c),f(this,d),f(this,p),f(this,u),f(this,v),f(this,h),f(this,g),_(this,t,A("")),_(this,s,A(null)),_(this,i,A(S({}))),_(this,o,A(S([]))),_(this,a,A(null)),_(this,n,A(S([]))),_(this,r,A(!1)),_(this,l,A(!1)),_(this,c,A(!1)),_(this,d,A(null)),_(this,p,A(0)),_(this,u,A(null)),_(this,v,A(null)),_(this,h,A(!1)),_(this,g,A(0)),this.api=null,this._initialized=!1,this._debounceTimers=new Map,this._loadingPromise=null}get modelId(){return w(b(this,t))}set modelId(e){k(b(this,t),e,!0)}get model(){return w(b(this,s))}set model(e){k(b(this,s),e,!0)}get selections(){return w(b(this,i))}set selections(e){k(b(this,i),e,!0)}get validationResults(){return w(b(this,o))}set validationResults(e){k(b(this,o),e,!0)}get pricingData(){return w(b(this,a))}set pricingData(e){k(b(this,a),e,!0)}get availableOptions(){return w(b(this,n))}set availableOptions(e){k(b(this,n),e,!0)}get isLoading(){return w(b(this,r))}set isLoading(e){k(b(this,r),e,!0)}get isValidating(){return w(b(this,l))}set isValidating(e){k(b(this,l),e,!0)}get isPricing(){return w(b(this,c))}set isPricing(e){k(b(this,c),e,!0)}get error(){return w(b(this,d))}set error(e){k(b(this,d),e,!0)}get retryCount(){return w(b(this,p))}set retryCount(e){k(b(this,p),e,!0)}get configurationId(){return w(b(this,u))}set configurationId(e){k(b(this,u),e,!0)}get lastSaved(){return w(b(this,v))}set lastSaved(e){k(b(this,v),e,!0)}get isDirty(){return w(b(this,h))}set isDirty(e){k(b(this,h),e,!0)}get currentStep(){return w(b(this,g))}set currentStep(e){k(b(this,g),e,!0)}initialize(){this._initialized||(this._initialized=!0,console.log("🔧 ConfigurationStore initialized"),this._testConnection(),q((()=>{this.modelId&&!this._loadingPromise&&(this.api=new Z(window.__API_BASE_URL__,{modelId:this.modelId}),this.loadModel())})),q((()=>{this.api&&Object.keys(this.selections).length>0&&this.model&&this._debounce("validate",(()=>this.validateSelections()),300)})),q((()=>{this.api&&this.isValid&&Object.keys(this.selections).length>0&&this.model&&this._debounce("pricing",(()=>this.calculatePricing()),500)})),q((()=>{this.isDirty&&this.configurationId&&this._debounce("save",(()=>this.saveConfiguration()),3e4)})))}get isValid(){return 0===this.validationResults.length}get totalPrice(){return this.pricingData?.total_price||0}get basePrice(){return this.pricingData?.base_price||0}get adjustments(){return this.pricingData?.adjustments||[]}get selectedOptions(){if(!this.model?.option_groups||!Array.isArray(this.model.option_groups))return[];const e=[];for(const t of this.model.option_groups)if(t.options&&Array.isArray(t.options))for(const s of t.options)this.selections[s.id]>0&&e.push({...s,quantity:this.selections[s.id],group_name:t.name,group_id:t.id});return e}get completionPercentage(){if(!this.model?.option_groups||!Array.isArray(this.model.option_groups))return 0;const e=this.model.option_groups.filter((e=>e.required));if(0===e.length)return 100;const t=e.filter((e=>e.options&&Array.isArray(e.options)&&e.options.some((e=>this.selections[e.id]>0))));return Math.round(t.length/e.length*100)}get canProceedToNextStep(){return this.completionPercentage>=100&&this.isValid}setModelId(e){console.log("setModelId called with:",e),this.modelId!==e&&(this.modelId=e,this.reset())}async loadModel(){if(this.api&&!this._loadingPromise)return this._loadingPromise=this._executeWithRetry((async()=>{this.isLoading=!0,this.error=null;try{let s;try{s=await this.api.getModel(),console.log("Raw model response:",s)}catch(e){if(e.message.includes("404"))throw new Error(`Model "${this.modelId}" not found. Use the debug test page to list available models, or check /api/v1/models endpoint.`);throw e}if(!s||"object"!=typeof s)throw new Error("Invalid model data received");if(this.model={id:s.id||s.ID||s.model_id,name:s.name||s.Name||"Configuration",description:s.description||s.Description,option_groups:[]},s.option_groups&&Array.isArray(s.option_groups))this.model.option_groups=s.option_groups,console.log("Using option_groups from model");else if(s.groups&&Array.isArray(s.groups))this.model.option_groups=s.groups,console.log("Using groups from model");else if(s.data?.groups&&Array.isArray(s.data.groups))this.model.option_groups=s.data.groups,console.log("Using groups from model.data");else{console.log("Fetching groups separately...");try{const e=await this.api.getModelGroups();console.log("Groups API response:",e),Array.isArray(e)?this.model.option_groups=e:e.groups?this.model.option_groups=e.groups:e.option_groups?this.model.option_groups=e.option_groups:e.data&&Array.isArray(e.data)?this.model.option_groups=e.data:e.data?.groups&&(this.model.option_groups=e.data.groups)}catch(t){console.error("Failed to load groups:",t)}}if((!this.model.option_groups||0===this.model.option_groups.length)&&(s.options||s.Options)){console.log("No groups found, but model has flat options array");const e=s.options||s.Options,t=new Map;e.forEach((e=>{const s=e.group_id||e.groupId||e.group||"default";t.has(s)||t.set(s,{id:s,name:e.group_name||e.groupName||s,options:[]}),t.get(s).options.push(e)})),this.model.option_groups=Array.from(t.values()),console.log("Created groups from flat options:",this.model.option_groups)}console.log("Groups loaded:",this.model.option_groups?.length||0,"groups"),this.model.option_groups?.length>0&&(console.log("First group structure:",this.model.option_groups[0]),console.log("Group properties:",Object.keys(this.model.option_groups[0])));if(!this.model.option_groups.some((e=>e.options&&Array.isArray(e.options)&&e.options.length>0||e.Options&&Array.isArray(e.Options)&&e.Options.length>0||e.items&&Array.isArray(e.items)&&e.items.length>0||e.choices&&Array.isArray(e.choices)&&e.choices.length>0))&&this.model.option_groups.length>0){console.log("No options found in groups, fetching options separately...");try{const e=await this.api.getModelOptions();console.log("Options API response:",e);let t=[];Array.isArray(e)?t=e:e.options?t=e.options:e.data&&Array.isArray(e.data)?t=e.data:e.data?.options&&(t=e.data.options),console.log("Total options found:",t.length),t.length>0&&(console.log("First option structure:",t[0]),console.log("Option properties:",Object.keys(t[0]))),t.length>0&&(this.model.option_groups=this.model.option_groups.map((e=>{const s=t.filter((t=>t.group_id===e.id||t.groupId===e.id||t.group===e.id||t.group_name===e.name||t.groupName===e.name||t.group_id===e.name||e.group_id&&(t.group_id===e.group_id||t.group===e.group_id)));return console.log(`Group "${e.name}" matched ${s.length} options`),0===s.length&&1===this.model.option_groups.length?(console.warn("No options matched group criteria, showing all options in single group"),{...e,options:t}):{...e,options:s}})))}catch(t){console.error("Failed to load options:",t)}}this.model.option_groups=this.model.option_groups.map((e=>{let t=[];return Array.isArray(e.options)?t=e.options:Array.isArray(e.Options)?t=e.Options:Array.isArray(e.items)?t=e.items:Array.isArray(e.choices)?t=e.choices:e.data?.options&&Array.isArray(e.data.options)&&(t=e.data.options),{...e,options:t}}));0===this.model.option_groups.reduce(((e,t)=>e+(t.options?.length||0)),0)&&this.model.option_groups.length>0?(console.warn("No options found in any group. Creating demo options for testing..."),this.usingDemoData=!0,this.model.option_groups=this.model.option_groups.map(((e,t)=>({...e,options:this._createDemoOptions(e,t)})))):this.usingDemoData=!1,console.log("=== Final Model Structure ==="),console.log("Model:",this.model),console.log("Groups summary:",this.model.option_groups.map((e=>({id:e.id,name:e.name,optionsCount:e.options?.length||0,options:e.options?.slice(0,2)})))),this._initializeSelections()}finally{this.isLoading=!1,this._loadingPromise=null}})),this._loadingPromise}updateSelection(e,t){t=Math.max(0,t);const s=this._getGroupForOption(e);if(s){if("single"===s.selection_type&&t>0&&s.options&&Array.isArray(s.options))for(const t of s.options)t.id!==e&&(this.selections[t.id]=0);s.max_selections&&t>s.max_selections&&(t=s.max_selections)}0===t?delete this.selections[e]:this.selections[e]=t,this.isDirty=!0}async validateSelections(){this.api&&!this.isValidating&&(0!==Object.keys(this.selections).length?await this._executeWithRetry((async()=>{this.isValidating=!0;try{const e=await this.api.validateSelections(this.selections);this.validationResults=e.validation_errors||[],this.availableOptions=e.available_options||[]}finally{this.isValidating=!1}})):this.validationResults=[])}async calculatePricing(e={}){this.api&&!this.isPricing&&this.isValid&&await this._executeWithRetry((async()=>{this.isPricing=!0;try{const t=await this.api.calculatePricing(this.selections,e);this.pricingData=t}finally{this.isPricing=!1}}))}async createConfiguration(){if(!this.api)return;const e=await this.api.createConfiguration(this.selections);return this.configurationId=e.id,this.isDirty=!1,this.lastSaved=new Date,e}async saveConfiguration(){if(this.api&&this.configurationId&&this.isDirty)try{await this.api.updateConfiguration(this.configurationId,this.selections),this.isDirty=!1,this.lastSaved=new Date}catch(e){console.error("Failed to save configuration:",e)}}async loadConfiguration(e){this.api&&await this._executeWithRetry((async()=>{this.isLoading=!0;try{const t=await this.api.getConfiguration(e);this.configurationId=t.id,this.selections=this._parseSelections(t.selections),this.isDirty=!1,await Promise.all([this.validateSelections(),this.calculatePricing()])}finally{this.isLoading=!1}}))}async loadAvailableOptions(){if(this.api&&this.configurationId)try{const e=await this.api.getAvailableOptions(this.configurationId);this.availableOptions=e.available_options||[]}catch(e){console.error("Failed to load available options:",e)}}exportConfiguration(){return{model_id:this.modelId,selections:this.selections,timestamp:(new Date).toISOString(),total_price:this.totalPrice,is_valid:this.isValid}}importConfiguration(e){if(e.model_id!==this.modelId)throw new Error("Configuration is for a different model");this.selections=e.selections||{},this.isDirty=!0}reset(){this.selections={},this.validationResults=[],this.pricingData=null,this.availableOptions=[],this.error=null,this.configurationId=null,this.isDirty=!1,this.currentStep=0,this._clearAllTimers()}async _testConnection(){if(window.__API_BASE_URL__)try{const e=await fetch(`${window.__API_BASE_URL__}/health`);e.ok?console.log("✅ API connection successful"):console.warn("⚠️ API health check returned:",e.status)}catch(e){console.error("❌ API connection failed:",e.message)}}_debounce(e,t,s){this._clearTimer(e);const i=setTimeout(t,s);this._debounceTimers.set(e,i)}_clearTimer(e){const t=this._debounceTimers.get(e);t&&(clearTimeout(t),this._debounceTimers.delete(e))}_clearAllTimers(){for(const e of this._debounceTimers.values())clearTimeout(e);this._debounceTimers.clear()}_getGroupForOption(e){if(!this.model?.option_groups||!Array.isArray(this.model.option_groups))return null;for(const t of this.model.option_groups)if(t.options&&Array.isArray(t.options)&&t.options.some((t=>t.id===e)))return t;return null}_initializeSelections(){if(this.model?.option_groups&&Array.isArray(this.model.option_groups))for(const e of this.model.option_groups)if(e.options&&Array.isArray(e.options))for(const t of e.options)t.preselected&&!this.selections[t.id]&&(this.selections[t.id]=1)}_parseSelections(e){const t={};for(const s of e)s.quantity>0&&(t[s.option_id]=s.quantity);return t}async _executeWithRetry(e,t=3){for(let i=0;i<=t;i++)try{return await e()}catch(s){if(this.error=s.message,this.retryCount=i,i===t||s.message.includes("401")||s.message.includes("404"))throw console.error("API call failed after retries:",s.message),s;await new Promise((e=>setTimeout(e,1e3*Math.pow(2,i))))}}};var te=C("<div></div>"),se=C('<div><div class="step-icon svelte-19jrra3"><!></div> <div class="step-label svelte-19jrra3"> </div></div> <!>',1),ie=C('<div class="progress-indicator svelte-19jrra3"><div class="steps svelte-19jrra3"></div> <div class="progress-bar svelte-19jrra3"><div class="progress-fill svelte-19jrra3"></div></div></div>');var oe=C('<div><div class="spinner svelte-kq7kpf"></div> <p class="message svelte-kq7kpf"> </p></div>');function ae(e,t,s){k(t,null),k(s,null)}function ne(){location.reload()}var re=C('<div class="error-boundary svelte-1dzw8vs"><div class="error-content svelte-1dzw8vs"><h2 class="svelte-1dzw8vs">Something went wrong</h2> <p class="error-message svelte-1dzw8vs"> </p> <!> <div class="error-actions svelte-1dzw8vs"><button class="btn btn-secondary svelte-1dzw8vs">Try Again</button> <button class="btn btn-primary svelte-1dzw8vs">Reload Page</button></div></div></div>');function le(e,t,s,i){w(t)<s()&&i(w(t)+1)}function ce(e,t,s){w(t)>0&&s(w(t)-1)}function de(e,t,s){t(w(s)?0:1)}V(["click"]);var pe=C('<span class="sku svelte-14bz86j"> </span>'),ue=C('<p class="description svelte-14bz86j"> </p>'),ve=C('<span class="price-each svelte-14bz86j">each</span>'),he=C('<span class="total-price svelte-14bz86j"> </span>'),ge=C("<button> </button>"),me=(e,t)=>t(parseInt(e.target.value)||0),ye=C('<div class="quantity-controls svelte-14bz86j"><button class="qty-button svelte-14bz86j" aria-label="Decrease quantity">−</button> <input type="number" min="0" aria-label="Quantity" class="svelte-14bz86j"/> <button class="qty-button svelte-14bz86j" aria-label="Increase quantity">+</button></div>'),be=C('<div class="unavailable-overlay svelte-14bz86j"><span class="svelte-14bz86j">Not available with current selection</span></div>'),fe=C('<div><div class="option-header svelte-14bz86j"><h4 class="svelte-14bz86j"> </h4> <!></div> <!> <div class="price-section svelte-14bz86j"><span class="base-price svelte-14bz86j"> <!></span> <!></div> <div class="actions svelte-14bz86j"><!></div> <!></div>');V(["click","change"]);var _e=(e,t)=>k(t,!w(t)),we=C('<span class="required svelte-6zoark">*</span>'),ke=C('<p class="group-description svelte-6zoark"> </p>'),Ae=C('<span class="selection-constraint svelte-6zoark"> </span>'),Se=C('<span class="selection-constraint svelte-6zoark"> </span>'),qe=C('<div class="no-options svelte-6zoark"><p class="svelte-6zoark">No options available</p> <p class="help-text svelte-6zoark">Check API response</p></div>'),Ie=C('<div class="group-content svelte-6zoark"><div class="selection-info svelte-6zoark"><span class="selection-type svelte-6zoark"> </span> <!> <!></div> <div class="options-grid svelte-6zoark"><!></div></div>'),Pe=C('<div><div class="group-header svelte-6zoark"><div class="group-info svelte-6zoark"><h3 class="svelte-6zoark"> <!></h3> <!></div> <button class="expand-toggle svelte-6zoark" aria-label="Toggle group"><svg width="20" height="20" viewBox="0 0 20 20"><path fill="currentColor" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path></svg></button></div> <!></div>');function Ce(e,t){I(t,!0);let s=A(!0),i=B((()=>t.group.options&&Array.isArray(t.group.options)&&t.group.options.some((e=>ee.selections[e.id]>0))));q((()=>{0===t.group.options?.length&&console.warn(`⚠️ Group "${t.group.name}" has no options!`,{groupId:t.group.id,groupData:t.group})}));var o=Pe();let a;var n=M(o);n.__click=[_e,s];var r=M(n),l=M(r),c=M(l),d=T(c),p=e=>{var t=we();$(e,t)};E(d,(e=>{t.group.required&&e(p)}));var u=T(l,2),v=e=>{var s=ke(),i=M(s);j((()=>U(i,t.group.description))),$(e,s)};E(u,(e=>{t.group.description&&e(v)}));var h=T(r,2),g=M(h);let m;var y=T(n,2),b=e=>{var s=Ie(),i=M(s),o=M(i),a=M(o),n=T(o,2),r=e=>{var s=Ae(),i=M(s);j((()=>U(i,`Min: ${t.group.min_selections??""}`))),$(e,s)};E(n,(e=>{t.group.min_selections&&e(r)}));var l=T(n,2),c=e=>{var s=Se(),i=M(s);j((()=>U(i,`Max: ${t.group.max_selections??""}`))),$(e,s)};E(l,(e=>{t.group.max_selections&&e(c)}));var d=T(i,2),p=M(d),u=e=>{var s=F(),i=D(s);O(i,17,(()=>t.group.options),N,((e,s)=>{!function(e,t){I(t,!0);let s=B((()=>ee.selections[t.option.id]||0)),i=B((()=>w(s)>0)),o=B((()=>!ee.availableOptions.length||ee.availableOptions.some((e=>e.option_id===t.option.id)))),a=B((()=>w(s)*(t.option.base_price||0)));function n(){return"single"===t.group.selection_type?1:t.group.max_selections||10}function r(e){!w(o)&&e>0||ee.updateSelection(t.option.id,e)}var l=fe();let c;var d=M(l),p=M(d),u=M(p),v=T(p,2),h=e=>{var s=pe(),i=M(s);j((()=>U(i,`SKU: ${t.option.sku??""}`))),$(e,s)};E(v,(e=>{t.option.sku&&e(h)}));var g=T(d,2),m=e=>{var s=ue(),i=M(s);j((()=>U(i,t.option.description))),$(e,s)};E(g,(e=>{t.option.description&&e(m)}));var y=T(g,2),b=M(y),f=M(b),_=T(f),k=e=>{var t=ve();$(e,t)};E(_,(e=>{w(s)>1&&e(k)}));var A=T(b,2),S=e=>{var t=he(),s=M(t);j((e=>U(s,`Total: $${e??""}`)),[()=>w(a).toFixed(2)]),$(e,t)};E(A,(e=>{w(s)>1&&e(S)}));var q=T(y,2),P=M(q),C=e=>{var t=ge();let s;t.__click=[de,r,i];var a=M(t);j((e=>{s=R(t,1,"select-button svelte-14bz86j",null,s,e),t.disabled=!w(o),U(a,w(i)?"✓ Selected":"Select")}),[()=>({selected:w(i)})]),$(e,t)},O=e=>{var t=ye(),i=M(t);i.__click=[ce,s,r];var a=T(i,2);a.__change=[me,r];var l=T(a,2);l.__click=[le,s,n,r],j(((e,t)=>{i.disabled=0===w(s),J(a,w(s)),Q(a,"max",e),a.disabled=!w(o),l.disabled=t}),[n,()=>w(s)>=n()||!w(o)]),$(e,t)};E(P,(e=>{"single"===t.group.selection_type?e(C):e(O,!1)}));var x=T(q,2),D=e=>{var t=be();$(e,t)};E(x,(e=>{w(o)||w(i)||e(D)})),j(((e,s)=>{c=R(l,1,"option-card svelte-14bz86j",null,c,e),U(u,t.option.name),U(f,`$${s??""} `)}),[()=>({selected:w(i),unavailable:!w(o)}),()=>(t.option.base_price||0).toFixed(2)]),$(e,l),z()}(e,{get option(){return w(s)},get group(){return t.group}})})),$(e,s)},v=e=>{var t=qe();$(e,t)};E(p,(e=>{t.group.options&&Array.isArray(t.group.options)?e(u):e(v,!1)})),j((()=>U(a,"single"===t.group.selection_type?"Choose one":"Choose multiple"))),$(e,s)};E(y,(e=>{w(s)&&e(b)})),j(((e,s)=>{a=R(o,1,"option-group svelte-6zoark",null,a,e),U(c,`${t.group.name??""} `),m=R(g,0,"icon svelte-6zoark",null,m,s)}),[()=>({"has-selection":w(i)}),()=>({rotated:!w(s)})]),$(e,o),z()}V(["click"]);var Oe=C('<div class="loading svelte-13kqu2s"><span class="spinner svelte-13kqu2s"></span> Calculating price...</div>'),je=C('<div class="price-line adjustment svelte-13kqu2s"><span class="label svelte-13kqu2s"> </span> <span> </span></div>'),$e=C('<div class="adjustments svelte-13kqu2s"></div>'),ze=C('<div class="price-line svelte-13kqu2s"><span class="label svelte-13kqu2s">Savings</span> <span class="amount discount svelte-13kqu2s"> </span></div>'),Te=C('<div class="price-line svelte-13kqu2s"><span class="label svelte-13kqu2s">Additional Charges</span> <span class="amount svelte-13kqu2s"> </span></div>'),Me=C("<!> <!>",1),xe=C('<div class="price-breakdown svelte-13kqu2s"><div class="price-line svelte-13kqu2s"><span class="label svelte-13kqu2s">Base Price</span> <span class="amount svelte-13kqu2s"> </span></div> <!></div>'),De=C('<div class="savings-badge svelte-13kqu2s"> </div>'),Ee=C('<div class="price-summary svelte-13kqu2s"><div class="price-line total svelte-13kqu2s"><span class="label svelte-13kqu2s">Total Price</span> <span class="amount svelte-13kqu2s"> </span></div> <!> <!></div>'),Re=C("<div><!></div>");function Ue(e,t){I(t,!0);let s=P(t,"detailed",3,!1),i=P(t,"showBreakdown",3,!0),o=B((()=>ee.adjustments.filter((e=>e.amount<0)).reduce(((e,t)=>e+Math.abs(t.amount)),0))),a=B((()=>ee.adjustments.filter((e=>e.amount>0)).reduce(((e,t)=>e+t.amount),0))),n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);var r=Re();let l;var c=M(r),d=e=>{var t=Oe();$(e,t)},p=e=>{var t=Ee(),r=M(t),l=T(M(r),2),c=M(l),d=T(r,2),p=e=>{var t=xe(),i=M(t),r=T(M(i),2),l=M(r),c=T(i,2),d=e=>{var t=$e();O(t,21,(()=>ee.adjustments),N,((e,t)=>{var s=je(),i=M(s),o=M(i),a=T(i,2);let r;var l=M(a);j(((e,s)=>{U(o,`${"discount"===w(t).type?"−":"+"}\n                    ${w(t).description??""}`),r=R(a,1,"amount svelte-13kqu2s",null,r,e),U(l,s)}),[()=>({discount:w(t).amount<0}),()=>n(Math.abs(w(t).amount))]),$(e,s)})),$(e,t)},p=e=>{var t=Me(),s=D(t),i=e=>{var t=ze(),s=T(M(t),2),i=M(s);j((e=>U(i,`−${e??""}`)),[()=>n(w(o))]),$(e,t)};E(s,(e=>{w(o)>0&&e(i)}));var r=T(s,2),l=e=>{var t=Te(),s=T(M(t),2),i=M(s);j((e=>U(i,`+${e??""}`)),[()=>n(w(a))]),$(e,t)};E(r,(e=>{w(a)>0&&e(l)})),$(e,t)};E(c,(e=>{s()&&ee.adjustments.length>0?e(d):e(p,!1)})),j((e=>U(l,e)),[()=>n(ee.basePrice)]),$(e,t)};E(d,(e=>{i()&&(ee.basePrice!==ee.totalPrice||s())&&e(p)}));var u=T(d,2),v=e=>{var t=De(),s=M(t);j((e=>U(s,`You save ${e??""}!`)),[()=>n(w(o))]),$(e,t)};E(u,(e=>{w(o)>0&&e(v)})),j((e=>U(c,e)),[()=>n(ee.totalPrice)]),$(e,t)};E(c,(e=>{ee.isPricing?e(d):e(p,!1)})),j((e=>l=R(r,1,"pricing-display svelte-13kqu2s",null,l,e)),[()=>({detailed:s()})]),$(e,r),z()}var Le=C('<div class="validating svelte-bayq38"><span class="spinner svelte-bayq38"></span> Validating configuration...</div>'),Ne=C('<p class="svelte-bayq38">Your current selection meets all requirements.</p>'),Ve=C('<div class="valid-state svelte-bayq38"><span class="icon svelte-bayq38">✅</span> <div class="message"><h4 class="svelte-bayq38">Configuration Valid</h4> <!></div></div>'),We=C('<h4 class="severity-header svelte-bayq38"> </h4>'),Fe=C('<span class="compact-icon svelte-bayq38"> </span>'),Ge=C('<span class="error-field svelte-bayq38"> </span>'),Be=C('<li><!> <span class="error-message svelte-bayq38"> </span> <!></li>'),Je=C('<div class="severity-group svelte-bayq38"><!> <ul class="error-list svelte-bayq38"></ul></div>'),Qe=C('<li class="svelte-bayq38"> </li>'),Ye=C('<div class="suggestions svelte-bayq38"><h4 class="svelte-bayq38">Suggestions</h4> <ul class="svelte-bayq38"></ul></div>'),Ke=C('<div class="validation-results svelte-bayq38"><!> <!></div>'),He=C("<div><!></div>");function Xe(e,t){I(t,!0);let s=P(t,"compact",3,!1),i=B((()=>()=>{const e={error:[],warning:[],info:[]};for(const t of ee.validationResults){e[t.severity||"error"].push(t)}return e}));const o={error:"❌",warning:"⚠️",info:"ℹ️"},a={error:"#dc2626",warning:"#f59e0b",info:"#3b82f6"};var n=He();let r;var l=M(n),c=e=>{var t=Le();$(e,t)},d=(e,t)=>{var n=e=>{var t=Ve(),i=T(M(t),2),o=T(M(i),2),a=e=>{var t=Ne();$(e,t)};E(o,(e=>{s()||e(a)})),$(e,t)},r=e=>{var t=Ke(),n=M(t);O(n,17,(()=>Object.entries(w(i)())),N,((e,t)=>{var i=B((()=>Y(w(t),2)));let n=()=>w(i)[0],r=()=>w(i)[1];var l=F(),c=D(l),d=e=>{var t=Je(),i=M(t),l=e=>{var t=We(),s=M(t);j((e=>{x(t,`color: ${a[n()]??""}`),U(s,`${o[n()]??""} ${e??""}s`)}),[()=>n().charAt(0).toUpperCase()+n().slice(1)]),$(e,t)};E(i,(e=>{s()||e(l)}));var c=T(i,2);O(c,21,r,N,((e,t)=>{var i=Be(),a=M(i),r=e=>{var t=Fe(),s=M(t);j((()=>U(s,o[n()]))),$(e,t)};E(a,(e=>{s()&&e(r)}));var l=T(a,2),c=M(l),d=T(l,2),p=e=>{var s=Ge(),i=M(s);j((()=>U(i,`(${w(t).field??""})`))),$(e,s)};E(d,(e=>{w(t).field&&!s()&&e(p)})),j((()=>{R(i,1,`error-item ${n()??""}`,"svelte-bayq38"),U(c,w(t).message)})),$(e,i)})),$(e,t)};E(c,(e=>{r().length>0&&e(d)})),$(e,l)}));var r=T(n,2),l=e=>{var t=Ye(),s=T(M(t),2);O(s,21,(()=>ee.validationResults.filter((e=>e.suggestion))),N,((e,t)=>{var s=Qe(),i=M(s);j((()=>U(i,w(t).suggestion))),$(e,s)})),$(e,t)};E(r,(e=>{!s()&&ee.validationResults.some((e=>e.suggestion))&&e(l)})),$(e,t)};E(e,(e=>{0===ee.validationResults.length?e(n):e(r,!1)}),t)};E(l,(e=>{ee.isValidating?e(c):e(d,!1)})),j((e=>r=R(n,1,"validation-display svelte-bayq38",null,r,e)),[()=>({compact:s()})]),$(e,n),z()}async function Ze(e,t){try{const e=ee.exportConfiguration();await navigator.clipboard.writeText(JSON.stringify(e,null,2)),k(t,!0),setTimeout((()=>k(t,!1)),2e3)}catch(s){console.error("Failed to copy:",s)}}async function et(){ee.configurationId?await ee.saveConfiguration():await ee.createConfiguration()}var tt=(e,t)=>k(t,!0),st=C('<tr><td class="svelte-10y69ed"> </td><td class="muted svelte-10y69ed"> </td><td class="center svelte-10y69ed"> </td><td class="right svelte-10y69ed"> </td><td class="right bold svelte-10y69ed"> </td></tr>'),it=C('<tr><td colspan="5" class="no-data svelte-10y69ed">No options selected</td></tr>'),ot=C('<section class="section svelte-10y69ed"><h3 class="svelte-10y69ed">Validation Results</h3> <!></section>'),at=C('<span class="save-status svelte-10y69ed"> </span>'),nt=(e,t)=>k(t,!1),rt=e=>e.stopPropagation(),lt=(e,t)=>k(t,!1),ct=C('<div class="dialog-overlay svelte-10y69ed"><div class="dialog svelte-10y69ed"><h3 class="svelte-10y69ed">Export Configuration</h3> <div class="export-options svelte-10y69ed"><label class="svelte-10y69ed"><input type="radio"/> JSON (Complete configuration data)</label> <label class="svelte-10y69ed"><input type="radio"/> CSV (Selected options only)</label></div> <div class="dialog-actions svelte-10y69ed"><button class="btn btn-secondary svelte-10y69ed">Cancel</button> <button class="btn btn-primary svelte-10y69ed">Export</button></div></div></div>'),dt=C('<div class="configuration-summary svelte-10y69ed"><div class="summary-header svelte-10y69ed"><h2 class="svelte-10y69ed">Configuration Summary</h2> <div class="actions svelte-10y69ed"><button class="btn btn-secondary svelte-10y69ed">Export</button> <button class="btn btn-primary svelte-10y69ed">Save Configuration</button></div></div> <div class="metrics-grid svelte-10y69ed"><div class="metric svelte-10y69ed"><div class="metric-value svelte-10y69ed"> </div> <div class="metric-label svelte-10y69ed">Options Selected</div></div> <div class="metric svelte-10y69ed"><div class="metric-value svelte-10y69ed"> </div> <div class="metric-label svelte-10y69ed">Complete</div></div> <div class="metric svelte-10y69ed"><div> </div> <div class="metric-label svelte-10y69ed">Status</div></div></div> <section class="section svelte-10y69ed"><h3 class="svelte-10y69ed">Selected Options</h3> <div class="options-table svelte-10y69ed"><table class="svelte-10y69ed"><thead><tr><th class="svelte-10y69ed">Option</th><th class="svelte-10y69ed">Group</th><th class="svelte-10y69ed">Quantity</th><th class="svelte-10y69ed">Unit Price</th><th class="svelte-10y69ed">Total</th></tr></thead><tbody><!></tbody></table></div></section> <section class="section svelte-10y69ed"><h3 class="svelte-10y69ed">Pricing Details</h3> <!></section> <!> <div class="summary-actions svelte-10y69ed"><button class="btn btn-secondary svelte-10y69ed"> </button> <!></div> <!></div>');V(["click"]);var pt=()=>location.reload(),ut=C('<div class="error-container svelte-fpbtyb"><div class="error-message svelte-fpbtyb"><h3 class="svelte-fpbtyb">Configuration Error</h3> <p> </p> <button class="btn btn-primary svelte-fpbtyb">Reload Page</button></div></div>'),vt=C('<div class="option-groups svelte-fpbtyb"></div>'),ht=C('<div class="no-options svelte-fpbtyb"><h3 class="svelte-fpbtyb">⚠️ No Options Found</h3> <p class="svelte-fpbtyb">Groups exist but contain no options.</p> <p class="help svelte-fpbtyb">Check console for API details or use the debug test page.</p></div>'),gt=C('<div class="no-options svelte-fpbtyb"><h3 class="svelte-fpbtyb">⚠️ No Configuration Options Available</h3> <p class="svelte-fpbtyb">The model has no option groups configured.</p> <p class="help svelte-fpbtyb">Check the browser console for API response details.</p></div>'),mt=C('<div class="configuration-step"><h2> </h2> <!> <div class="step-actions svelte-fpbtyb"><button class="btn btn-primary svelte-fpbtyb">Continue to Validation</button></div></div>'),yt=C('<div class="validation-step"><h2>Configuration Validation</h2> <!> <div class="step-actions svelte-fpbtyb"><button class="btn btn-secondary svelte-fpbtyb">Back</button> <button class="btn btn-primary svelte-fpbtyb">Continue to Pricing</button></div></div>'),bt=C('<div class="pricing-step"><h2>Pricing Details</h2> <!> <div class="step-actions svelte-fpbtyb"><button class="btn btn-secondary svelte-fpbtyb">Back</button> <button class="btn btn-primary svelte-fpbtyb">Continue to Summary</button></div></div>'),ft=C('<div class="summary-step"><h2>Configuration Summary</h2> <!> <div class="step-actions svelte-fpbtyb"><button class="btn btn-secondary svelte-fpbtyb">Back</button> <button class="btn btn-success svelte-fpbtyb">Complete Configuration</button></div></div>'),_t=C('<div class="selected-item svelte-fpbtyb"><span> </span> <span class="quantity svelte-fpbtyb"> </span></div>'),wt=C('<div class="sidebar-section svelte-fpbtyb"><h3 class="svelte-fpbtyb">Issues</h3> <!></div>'),kt=C('<aside class="configurator-sidebar svelte-fpbtyb"><div class="sidebar-section svelte-fpbtyb"><h3 class="svelte-fpbtyb">Current Selection</h3> <div class="selected-items svelte-fpbtyb"></div></div> <div class="sidebar-section svelte-fpbtyb"><h3 class="svelte-fpbtyb">Pricing Summary</h3> <!></div> <!></aside>'),At=C('<div class="configurator-container svelte-fpbtyb"><!> <div class="configurator-content svelte-fpbtyb"><!></div> <!></div>'),St=C("<div><!></div>");function qt(e,t){I(t,!0);let s=P(t,"theme",3,"light"),i=P(t,"apiUrl",3,"/api/v1"),o=P(t,"embedMode",3,!1),a=P(t,"onComplete",3,null),n=P(t,"onConfigurationChange",3,null),r=P(t,"onError",3,null);const l=H();let c=A(!1),d=B((()=>[{id:"configure",label:"Configure",icon:"⚙️"},{id:"validate",label:"Validate",icon:"✓"},{id:"price",label:"Price",icon:"💰"},{id:"summary",label:"Summary",icon:"📋"}]));function p(){const e=ee.exportConfiguration();l("complete",e),a()?.(e)}function u(){ee.currentStep<w(d).length-1&&ee.currentStep++}function v(){ee.currentStep>0&&ee.currentStep--}"undefined"!=typeof window&&(window.__API_BASE_URL__=i(),console.log("Configurator initialized with API URL:",i())),W((()=>{ee.initialize(),ee.setModelId(t.modelId),k(c,!0),document.documentElement.setAttribute("data-theme",s());const e=X((()=>{q((()=>{n()&&Object.keys(ee.selections).length>0&&n()(ee.exportConfiguration())})),q((()=>{r()&&ee.error&&r()(ee.error)}))}));return()=>{e(),ee.reset()}}));var h=St();!function(e,t){I(t,!0);let s=A(null),i=A(null);W((()=>{const e=e=>{k(s,e.error||new Error("Unknown error"),!0),k(i,{componentStack:e.filename||"Unknown",lineNumber:e.lineno,columnNumber:e.colno},!0),console.error("Error caught by boundary:",w(s)),e.preventDefault()};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",(e=>{k(s,new Error(e.reason),!0),k(i,{componentStack:"Promise rejection"},!0),e.preventDefault()})),()=>{window.removeEventListener("error",e)}}));var o=F(),a=D(o),n=e=>{var t=re(),o=M(t),a=T(M(o),2),n=M(a),r=T(a,2);E(r,(e=>{}));var l=T(r,2),c=M(l);c.__click=[ae,s,i],T(c,2).__click=[ne],j((()=>U(n,w(s).message))),$(e,t)},r=e=>{var s=F(),i=D(s);G(i,t,"default",{}),$(e,s)};E(a,(e=>{w(s)?e(n):e(r,!1)})),$(e,o),z()}(M(h),{children:(e,t)=>{var s=F(),i=D(s),a=e=>{!function(e,t){let s=P(t,"message",3,"Loading..."),i=P(t,"size",3,"medium");var o=oe(),a=T(M(o),2),n=M(a);j((()=>{R(o,1,`loading-spinner ${i()??""}`,"svelte-kq7kpf"),U(n,s())})),$(e,o)}(e,{message:"Loading configuration..."})},n=(e,t)=>{var s=e=>{var t=ut(),s=M(t),i=T(M(s),2),o=M(i);T(i,2).__click=[pt],j((()=>U(o,ee.error))),$(e,t)},i=e=>{var t=At(),s=M(t);!function(e,t){I(t,!0);let s=P(t,"steps",19,(()=>[])),i=P(t,"currentStep",3,0),o=P(t,"completionPercentage",3,0);var a=ie(),n=M(a);O(n,21,s,N,((e,t,o)=>{var a=se(),n=D(a);let r;var l=M(n),c=M(l),d=e=>{var t=L("✓");$(e,t)},p=e=>{var s=L();j((()=>U(s,w(t).icon||o+1))),$(e,s)};E(c,(e=>{o<i()?e(d):e(p,!1)}));var u=T(l,2),v=M(u),h=T(n,2),g=e=>{var t=te();let s;j((e=>s=R(t,1,"step-connector svelte-19jrra3",null,s,e)),[()=>({completed:o<i()})]),$(e,t)};E(h,(e=>{o<s().length-1&&e(g)})),j((e=>{r=R(n,1,"step svelte-19jrra3",null,r,e),U(v,w(t).label)}),[()=>({active:o===i(),completed:o<i()})]),$(e,a)}));var r=T(n,2),l=M(r);j((()=>x(l,`width: ${o()??""}%`))),$(e,a),z()}(s,{get steps(){return w(d)},get currentStep(){return ee.currentStep},get completionPercentage(){return ee.completionPercentage}});var i=T(s,2),a=M(i),n=e=>{var t=mt(),s=M(t),i=M(s),o=T(s,2),a=e=>{var t=F();const s=B((()=>ee.model.option_groups.some((e=>e.options?.length>0))));var i=D(t),o=e=>{var t=vt();O(t,21,(()=>ee.model.option_groups),N,((e,t)=>{Ce(e,{get group(){return w(t)}})})),$(e,t)},a=e=>{var t=ht();$(e,t)};E(i,(e=>{w(s)?e(o):e(a,!1)})),$(e,t)},n=e=>{var t=gt();$(e,t)};E(o,(e=>{ee.model?.option_groups&&Array.isArray(ee.model.option_groups)?e(a):e(n,!1)}));var r=T(o,2),l=M(r);l.__click=u,j((()=>{U(i,`Configure Your ${ee.model?.name||"Product"}`),l.disabled=!ee.canProceedToNextStep})),$(e,t)},r=(e,t)=>{var s=e=>{var t=yt(),s=T(M(t),2);Xe(s,{});var i=T(s,2),o=M(i);o.__click=v;var a=T(o,2);a.__click=u,j((()=>a.disabled=!ee.isValid)),$(e,t)},i=(e,t)=>{var s=e=>{var t=bt(),s=T(M(t),2);Ue(s,{detailed:!0});var i=T(s,2),o=M(i);o.__click=v,T(o,2).__click=u,$(e,t)},i=(e,t)=>{var s=e=>{var t=ft(),s=T(M(t),2);!function(e,t){I(t,!0);const s=[];let i=A(!1),o=A(!1),a=A("json");function n(){const e=ee.exportConfiguration();let t,s,o;if("json"===w(a))t=JSON.stringify(e,null,2),s="application/json",o="json";else{const e=["Option","Quantity","Unit Price","Total Price"],i=ee.selectedOptions.map((e=>[e.name,e.quantity,e.base_price.toFixed(2),(e.quantity*e.base_price).toFixed(2)]));t=[e.join(","),...i.map((e=>e.join(",")))].join("\n"),s="text/csv",o="csv"}const n=new Blob([t],{type:s}),r=URL.createObjectURL(n),l=document.createElement("a");l.href=r,l.download=`configuration-${Date.now()}.${o}`,l.click(),URL.revokeObjectURL(r),k(i,!1)}var r=dt(),l=M(r),c=T(M(l),2),d=M(c);d.__click=[tt,i],T(d,2).__click=[et];var p=T(l,2),u=M(p),v=M(u),h=M(v),g=T(u,2),m=M(g),y=M(m),b=T(g,2),f=M(b);let _;var S=M(f),q=T(p,2),P=T(M(q),2),C=M(P),x=T(M(C)),L=M(x),V=e=>{var t=F(),s=D(t);O(s,17,(()=>ee.selectedOptions),N,((e,t)=>{var s=st(),i=M(s),o=M(i),a=T(i),n=M(a),r=T(a),l=M(r),c=T(r),d=M(c),p=T(c),u=M(p);j(((e,s)=>{U(o,w(t).name),U(n,w(t).group_name),U(l,w(t).quantity),U(d,`$${e??""}`),U(u,`$${s??""}`)}),[()=>(w(t).base_price||0).toFixed(2),()=>((w(t).quantity||0)*(w(t).base_price||0)).toFixed(2)]),$(e,s)})),$(e,t)},W=e=>{var t=it();$(e,t)};E(L,(e=>{ee.selectedOptions.length>0?e(V):e(W,!1)}));var G=T(q,2);Ue(T(M(G),2),{detailed:!0});var B=T(G,2),J=e=>{var t=ot();Xe(T(M(t),2),{}),$(e,t)};E(B,(e=>{ee.validationResults.length>0&&e(J)}));var Q=T(B,2),Y=M(Q);Y.__click=[Ze,o];var H=M(Y),X=T(Y,2),Z=e=>{var t=at(),s=M(t);j((e=>U(s,`Last saved: ${e??""}`)),[()=>ee.lastSaved.toLocaleTimeString()]),$(e,t)};E(X,(e=>{ee.lastSaved&&e(Z)}));var te=T(Q,2),se=e=>{var t=ct();t.__click=[nt,i];var o=M(t);o.__click=[rt];var r=T(M(o),2),l=M(r),c=M(l);c.value=c.__value="json";var d=T(l,2),p=M(d);p.value=p.__value="csv";var u=T(r,2),v=M(u);v.__click=[lt,i],T(v,2).__click=n,K(s,[],c,(()=>w(a)),(e=>k(a,e))),K(s,[],p,(()=>w(a)),(e=>k(a,e))),$(e,t)};E(te,(e=>{w(i)&&e(se)})),j((e=>{U(h,ee.selectedOptions.length),U(y,`${ee.completionPercentage??""}%`),_=R(f,1,"metric-value status svelte-10y69ed",null,_,e),U(S,ee.isValid?"✓ Valid":"✗ Invalid"),U(H,w(o)?"✓ Copied!":"Copy Configuration")}),[()=>({valid:ee.isValid})]),$(e,r),z()}(s,{});var i=T(s,2),o=M(i);o.__click=v,T(o,2).__click=p,$(e,t)};E(e,(e=>{3===ee.currentStep&&e(s)}),t)};E(e,(e=>{2===ee.currentStep?e(s):e(i,!1)}),t)};E(e,(e=>{1===ee.currentStep?e(s):e(i,!1)}),t)};E(a,(e=>{0===ee.currentStep?e(n):e(r,!1)}));var l=T(i,2),c=e=>{var t=kt(),s=M(t),i=T(M(s),2);O(i,21,(()=>ee.selectedOptions),N,((e,t)=>{var s=_t(),i=M(s),o=M(i),a=T(i,2),n=M(a);j((()=>{U(o,w(t).name),U(n,`×${w(t).quantity??""}`)})),$(e,s)}));var o=T(s,2);Ue(T(M(o),2),{});var a=T(o,2),n=e=>{var t=wt();Xe(T(M(t),2),{compact:!0}),$(e,t)};E(a,(e=>{ee.validationResults.length>0&&e(n)})),$(e,t)};E(l,(e=>{o()||e(c)})),$(e,t)};E(e,(e=>{ee.error&&ee.retryCount>=3?e(s):e(i,!1)}),t)};E(i,(e=>{!w(c)||ee.isLoading?e(a):e(n,!1)})),$(e,s)},$$slots:{default:!0}}),j((()=>{R(h,1,"configurator-app "+(o()?"embed-mode":""),"svelte-fpbtyb"),Q(h,"data-theme",s())})),$(e,h),z()}V(["click"]);export{qt as C,ee as c};
//# sourceMappingURL=configurator-CTGp2uIO.js.map
